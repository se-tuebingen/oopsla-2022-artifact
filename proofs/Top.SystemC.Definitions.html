<!DOCTYPE html> <html lang="en-US"> <head> <meta charset="UTF-8"> <meta http-equiv="X-UA-Compatible" content="IE=Edge"> <title>Top.SystemC.Definitions - System C</title> <link rel="shortcut icon" href="/oopsla-2022-artifact/favicon.ico" type="image/x-icon"> <link rel="stylesheet" href="/oopsla-2022-artifact/assets/css/just-the-docs-default.css"> <link rel="stylesheet" href="/oopsla-2022-artifact/highlight/styles/github-gist.css"> <script type="text/javascript" src="/oopsla-2022-artifact/assets/js/just-the-docs.js"></script> <meta name="viewport" content="width=device-width, initial-scale=1"> <!-- Begin Jekyll SEO tag v2.7.1 --> <title>Top.SystemC.Definitions | System C</title> <meta name="generator" content="Jekyll v4.0.1" /> <meta property="og:title" content="Top.SystemC.Definitions" /> <meta property="og:locale" content="en_US" /> <meta name="description" content="This is the artifact acompanying the paper ‘Effects, Capabilities, and Boxes’." /> <meta property="og:description" content="This is the artifact acompanying the paper ‘Effects, Capabilities, and Boxes’." /> <meta property="og:site_name" content="System C" /> <meta name="twitter:card" content="summary" /> <meta property="twitter:title" content="Top.SystemC.Definitions" /> <script type="application/ld+json"> {"headline":"Top.SystemC.Definitions","description":"This is the artifact acompanying the paper ‘Effects, Capabilities, and Boxes’.","url":"/oopsla-2022-artifact/proofs/Top.SystemC.Definitions.html","@type":"WebPage","@context":"https://schema.org"}</script> <!-- End Jekyll SEO tag --> </head> <body> <svg xmlns="http://www.w3.org/2000/svg" style="display: none;"> <symbol id="svg-link" viewBox="0 0 24 24"> <title>Link</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-link"> <path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path> </svg> </symbol> <symbol id="svg-search" viewBox="0 0 24 24"> <title>Search</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-search"> <circle cx="11" cy="11" r="8"></circle><line x1="21" y1="21" x2="16.65" y2="16.65"></line> </svg> </symbol> <symbol id="svg-menu" viewBox="0 0 24 24"> <title>Menu</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-menu"> <line x1="3" y1="12" x2="21" y2="12"></line><line x1="3" y1="6" x2="21" y2="6"></line><line x1="3" y1="18" x2="21" y2="18"></line> </svg> </symbol> <symbol id="svg-arrow-right" viewBox="0 0 24 24"> <title>Expand</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-chevron-right"> <polyline points="9 18 15 12 9 6"></polyline> </svg> </symbol> <symbol id="svg-doc" viewBox="0 0 24 24"> <title>Document</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-file"> <path d="M13 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V9z"></path><polyline points="13 2 13 9 20 9"></polyline> </svg> </symbol> </svg> <div class="side-bar"> <div class="site-header"> <a href="/oopsla-2022-artifact/" class="site-title lh-tight"> System C </a> <a href="#" id="menu-button" class="site-button"> <svg viewBox="0 0 24 24" class="icon"><use xlink:href="#svg-menu"></use></svg> </a> </div> <nav role="navigation" aria-label="Main" id="site-nav" class="site-nav"> <ul class="nav-list"><li class="nav-list-item"><a href="/oopsla-2022-artifact/" class="nav-list-link">Home</a></li><li class="nav-list-item"><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="/oopsla-2022-artifact/tutorial/" class="nav-list-link">Tutorial</a><ul class="nav-list "><li class="nav-list-item "><a href="/oopsla-2022-artifact/intro/" class="nav-list-link">Basics</a></li><li class="nav-list-item "><a href="/oopsla-2022-artifact/capability/" class="nav-list-link">Capabilities</a></li><li class="nav-list-item "><a href="/oopsla-2022-artifact/boxing/" class="nav-list-link">Boxing and Unboxing</a></li></ul></li><li class="nav-list-item active"><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="/oopsla-2022-artifact/proofs/" class="nav-list-link">Proofs</a><ul class="nav-list "><li class="nav-list-item "><a href="/oopsla-2022-artifact/proofs/Top.SystemC.CaptureSets.html" class="nav-list-link">Top.SystemC.CaptureSets</a></li><li class="nav-list-item active"><a href="/oopsla-2022-artifact/proofs/Top.SystemC.Definitions.html" class="nav-list-link active">Top.SystemC.Definitions</a></li><li class="nav-list-item "><a href="/oopsla-2022-artifact/proofs/Top.SystemC.Examples.html" class="nav-list-link">Top.SystemC.Examples</a></li><li class="nav-list-item "><a href="/oopsla-2022-artifact/proofs/Top.SystemC.Infrastructure.html" class="nav-list-link">Top.SystemC.Infrastructure</a></li><li class="nav-list-item "><a href="/oopsla-2022-artifact/proofs/Top.SystemC.Lemmas.html" class="nav-list-link">Top.SystemC.Lemmas</a></li><li class="nav-list-item "><a href="/oopsla-2022-artifact/proofs/Top.SystemC.Soundness.html" class="nav-list-link">Top.SystemC.Soundness</a></li><li class="nav-list-item "><a href="/oopsla-2022-artifact/proofs/Top.SystemC.Substitution.html" class="nav-list-link">Top.SystemC.Substitution</a></li><li class="nav-list-item "><a href="/oopsla-2022-artifact/proofs/Top.Util.AdditionalTactics.html" class="nav-list-link">Top.Util.AdditionalTactics</a></li><li class="nav-list-item "><a href="/oopsla-2022-artifact/proofs/Top.Util.Atom.html" class="nav-list-link">Top.Util.Atom</a></li><li class="nav-list-item "><a href="/oopsla-2022-artifact/proofs/Top.Util.Environment.html" class="nav-list-link">Top.Util.Environment</a></li><li class="nav-list-item "><a href="/oopsla-2022-artifact/proofs/Top.Util.FSetDecide.html" class="nav-list-link">Top.Util.FSetDecide</a></li><li class="nav-list-item "><a href="/oopsla-2022-artifact/proofs/Top.Util.FSetNotin.html" class="nav-list-link">Top.Util.FSetNotin</a></li><li class="nav-list-item "><a href="/oopsla-2022-artifact/proofs/Top.Util.FiniteSets.html" class="nav-list-link">Top.Util.FiniteSets</a></li><li class="nav-list-item "><a href="/oopsla-2022-artifact/proofs/Top.Util.Label.html" class="nav-list-link">Top.Util.Label</a></li><li class="nav-list-item "><a href="/oopsla-2022-artifact/proofs/Top.Util.ListFacts.html" class="nav-list-link">Top.Util.ListFacts</a></li><li class="nav-list-item "><a href="/oopsla-2022-artifact/proofs/Top.Util.Nat.html" class="nav-list-link">Top.Util.Nat</a></li><li class="nav-list-item "><a href="/oopsla-2022-artifact/proofs/Top.Util.Signatures.html" class="nav-list-link">Top.Util.Signatures</a></li><li class="nav-list-item "><a href="/oopsla-2022-artifact/proofs/Top.Util.Taktiks.html" class="nav-list-link">Top.Util.Taktiks</a></li></ul></li><li class="nav-list-item"><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="/oopsla-2022-artifact/paper.html" class="nav-list-link">Paper Examples</a><ul class="nav-list "><li class="nav-list-item "><a href="/oopsla-2022-artifact/paper/section1.html" class="nav-list-link">Section 1</a></li><li class="nav-list-item "><a href="/oopsla-2022-artifact/paper/section2.html" class="nav-list-link">Section 2</a></li><li class="nav-list-item "><a href="/oopsla-2022-artifact/paper/section4.html" class="nav-list-link">Section 4</a></li></ul></li><li class="nav-list-item"><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="/oopsla-2022-artifact/casestudies.html" class="nav-list-link">Case Studies</a><ul class="nav-list "><li class="nav-list-item "><a href="/oopsla-2022-artifact/casestudies/passthrough.html" class="nav-list-link">Use and Mention</a></li><li class="nav-list-item "><a href="/oopsla-2022-artifact/casestudies/regions.html" class="nav-list-link">Region-based Local State</a></li><li class="nav-list-item "><a href="/oopsla-2022-artifact/casestudies/scheduler.html" class="nav-list-link">Scheduling (with continuations and mutable cells)</a></li></ul></li></ul> </nav> <footer class="site-footer"> This artifact uses <a href="https://github.com/pmarsceill/just-the-docs">Just the Docs</a>, a documentation theme for Jekyll. </footer> </div> <div class="main" id="top"> <div id="main-header" class="main-header"> </div> <div id="main-content-wrap" class="main-content-wrap"> <nav aria-label="Breadcrumb" class="breadcrumb-nav"> <ol class="breadcrumb-nav-list"> <li class="breadcrumb-nav-list-item"><a href="/oopsla-2022-artifact/proofs/">Proofs</a></li> <li class="breadcrumb-nav-list-item"><span>Top.SystemC.Definitions</span></li> </ol> </nav> <div id="main-content" class="main-content" role="main"> <article id="coqdoc"> <h1 class="libtitle"> Top.SystemC.Definitions </h1> <div class="code"> <br/> </div> <div class="doc"> This file contains the definitions for System C. We include snippets of the paper as images to facilitate comparison. <div class="paragraph"> </div> <a name="lab115"></a> <h2 class="section"> Table of Contents </h2> <div class="paragraph"> </div> <a href="#syntax">Syntax</a> <ul class="doclist"> <li> <a href="#syntax-types">Syntax of Types</a> </li> <li> <a href="#syntax-terms">Syntax of Terms</a> </li> </ul> <div class="paragraph"> </div> <a href="#env">Environments and Signatures</a> <div class="paragraph"> </div> <a href="#typing">Typing</a> <ul class="doclist"> <li> <a href="#typing-expression">Expression Typing</a> </li> <li> <a href="#typing-block">Block Typing</a> </li> <li> <a href="#typing-statement">Statement Typing</a> </li> </ul> <div class="paragraph"> </div> <a href="#semantics">Operational Semantics</a> <ul class="doclist"> <li> <a href="#values">Values</a> </li> <li> <a href="#redexes">Machine Redexes</a> </li> <li> <a href="#semantics-trivial">Trivial Reduction</a> </li> <li> <a href="#stacks">Stacks, Contexts, and their Typing</a> </li> <li> <a href="#abstract-machine">Abstract Machine</a> </li> <li> <a href="#machine-reduction">Machine Reduction</a> </li> <li> <a href="#machine-typing">Abstract Machine Typing</a> </li> </ul> <div class="paragraph"> </div> <div class="paragraph"> </div> <a name="lab116"></a> <h1 class="section"> <a name="syntax"></a> Syntax </h1> <div class="paragraph"> </div> The definitions here reflect the definitions in Figure 1 from the paper. <div class="paragraph"> </div> Please note that we base our proofs on a <a href="https://www.cis.upenn.edu/~plclub/popl08-tutorial/code/coqdoc/Fsub_Definitions.html">locally nameless representation</a>. <div class="paragraph"> </div> In consequence, there are always two types of variables, free variables (such as <span class="inlinecode"><a class="idref" href="Top.SystemC.Definitions.html#typ_fvar"><span class="id" title="constructor">typ_fvar</span></a></span>) and locally bound variables (such as <span class="inlinecode"><a class="idref" href="Top.SystemC.Definitions.html#typ_bvar"><span class="id" title="constructor">typ_bvar</span></a></span>). <div class="paragraph"> </div> Capture sets <span class="inlinecode"><a class="idref" href="Top.SystemC.CaptureSets.html#cap"><span class="id" title="inductive">cap</span></a></span> are records, containing sets of free variables, sets of bound variables, and sets of labels. <div class="paragraph"> </div> <div class="paragraph"> </div> <a name="lab117"></a> <h2 class="section"> <a name="syntax-types"></a> Syntax of Types </h2> <div class="paragraph"> </div> Here, we define the syntax of types, as defined in Figure 1 in the paper. <div class="paragraph"> </div> <img src="img/syntax-types.png" alt="Syntax of types" class="fig" /> <div class="paragraph"> </div> <a name="lab118"></a> <h3 class="section"> Value Types </h3> </div> <div class="code"> <span class="id" title="keyword">Inductive</span> <a name="vtyp"><span class="id" title="inductive">vtyp</span></a> : <span class="id" title="keyword">Type</span> :=<br/> &nbsp;&nbsp;| <a name="typ_base"><span class="id" title="constructor">typ_base</span></a> : <a class="idref" href="Top.SystemC.Definitions.html#vtyp"><span class="id" title="inductive">vtyp</span></a> <span class="comment">(*&nbsp;base&nbsp;types&nbsp;*)</span><br/> &nbsp;&nbsp;| <a name="typ_capt"><span class="id" title="constructor">typ_capt</span></a> : <a class="idref" href="Top.SystemC.Definitions.html#btyp"><span class="id" title="inductive">btyp</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">→</span></a> <a class="idref" href="Top.SystemC.CaptureSets.html#cap"><span class="id" title="inductive">cap</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">→</span></a> <a class="idref" href="Top.SystemC.Definitions.html#vtyp"><span class="id" title="inductive">vtyp</span></a> <span class="comment">(*&nbsp;boxed&nbsp;block&nbsp;types&nbsp;*)</span><br/> &nbsp;&nbsp;| <a name="typ_fvar"><span class="id" title="constructor">typ_fvar</span></a> : <a class="idref" href="Top.Util.Atom.html#AtomImpl.atom"><span class="id" title="axiom">atom</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">→</span></a> <a class="idref" href="Top.SystemC.Definitions.html#vtyp"><span class="id" title="inductive">vtyp</span></a> <span class="comment">(*&nbsp;(free)&nbsp;value-type&nbsp;variables&nbsp;*)</span><br/> &nbsp;&nbsp;| <a name="typ_bvar"><span class="id" title="constructor">typ_bvar</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">→</span></a> <a class="idref" href="Top.SystemC.Definitions.html#vtyp"><span class="id" title="inductive">vtyp</span></a> <span class="comment">(*&nbsp;(bound)&nbsp;value-type&nbsp;variables&nbsp;*)</span><br/> <br/> </div> <div class="doc"> <a name="lab119"></a> <h4 class="section"> Differences to the paper </h4> In the mechanization, we also additionally support value-type polymorphism. Hence, the constructors for type variables (<span class="inlinecode"><a class="idref" href="Top.SystemC.Definitions.html#typ_bvar"><span class="id" title="constructor">typ_bvar</span></a></span> and <span class="inlinecode"><a class="idref" href="Top.SystemC.Definitions.html#typ_fvar"><span class="id" title="constructor">typ_fvar</span></a></span>), which are not present in the paper. Also, we only include one base type <span class="inlinecode"><a class="idref" href="Top.SystemC.Definitions.html#typ_base"><span class="id" title="constructor">typ_base</span></a></span> instead of separate base types (as in the paper). <div class="paragraph"> </div> <a name="lab120"></a> <h3 class="section"> Block Types </h3> </div> <div class="code"> <span class="id" title="keyword">with</span> <a name="btyp"><span class="id" title="inductive">btyp</span></a> : <span class="id" title="keyword">Type</span> :=<br/> &nbsp;&nbsp;| <a name="typ_vfun"><span class="id" title="constructor">typ_vfun</span></a> : <a class="idref" href="Top.SystemC.Definitions.html#vtyp"><span class="id" title="inductive">vtyp</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">→</span></a> <a class="idref" href="Top.SystemC.Definitions.html#vtyp"><span class="id" title="inductive">vtyp</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">→</span></a> <a class="idref" href="Top.SystemC.Definitions.html#btyp"><span class="id" title="inductive">btyp</span></a> <span class="comment">(*&nbsp;function&nbsp;types&nbsp;with&nbsp;value&nbsp;arguments&nbsp;*)</span><br/> &nbsp;&nbsp;| <a name="typ_bfun"><span class="id" title="constructor">typ_bfun</span></a> : <a class="idref" href="Top.SystemC.Definitions.html#btyp"><span class="id" title="inductive">btyp</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">→</span></a> <a class="idref" href="Top.SystemC.Definitions.html#vtyp"><span class="id" title="inductive">vtyp</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">→</span></a> <a class="idref" href="Top.SystemC.Definitions.html#btyp"><span class="id" title="inductive">btyp</span></a> <span class="comment">(*&nbsp;function&nbsp;types&nbsp;with&nbsp;tracked&nbsp;block&nbsp;arguments&nbsp;*)</span><br/> &nbsp;&nbsp;| <a name="typ_tfun"><span class="id" title="constructor">typ_tfun</span></a> : <a class="idref" href="Top.SystemC.Definitions.html#btyp"><span class="id" title="inductive">btyp</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">→</span></a> <a class="idref" href="Top.SystemC.Definitions.html#btyp"><span class="id" title="inductive">btyp</span></a> <span class="comment">(*&nbsp;type&nbsp;abstractions&nbsp;*)</span><br/> &nbsp;&nbsp;| <a name="typ_exc"><span class="id" title="constructor">typ_exc</span></a> : <a class="idref" href="Top.SystemC.Definitions.html#vtyp"><span class="id" title="inductive">vtyp</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">→</span></a> <a class="idref" href="Top.SystemC.Definitions.html#vtyp"><span class="id" title="inductive">vtyp</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">→</span></a> <a class="idref" href="Top.SystemC.Definitions.html#btyp"><span class="id" title="inductive">btyp</span></a> <span class="comment">(*&nbsp;capability&nbsp;types&nbsp;*)</span><br/> .<br/> <br/> </div> <div class="doc"> <a name="lab121"></a> <h4 class="section"> Differences to the paper </h4> In the paper, we formalize multi-arity function types. Since this is akward to work with in Coq, here, we only mechanize single arity function types. <div class="paragraph"> </div> We include two type constructors, <span class="inlinecode"><a class="idref" href="Top.SystemC.Definitions.html#typ_vfun"><span class="id" title="constructor">typ_vfun</span></a></span> for function types with value arguments (e.g. <span class="inlinecode"><span class="id" title="var">Int</span></span> <span class="inlinecode">→</span> <span class="inlinecode"><span class="id" title="var">Int</span></span>), and <span class="inlinecode"><a class="idref" href="Top.SystemC.Definitions.html#typ_bfun"><span class="id" title="constructor">typ_bfun</span></a></span> for function types with block arguments that are always tracked (e.g. <span class="inlinecode">(<a class="idref" href="Top.SystemC.CaptureSets.html#Props.f"><span class="id" title="variable">f</span></a></span> <span class="inlinecode">:</span> <span class="inlinecode"><span class="id" title="var">Int</span></span> <span class="inlinecode">→</span> <span class="inlinecode"><span class="id" title="var">Int</span>)</span> <span class="inlinecode">→</span> <span class="inlinecode"><span class="id" title="var">Int</span></span>). <div class="paragraph"> </div> Since in the calculus function arguments are independent of each other, we do not expect any theoretical complications in the setting of a full multi-arity representation. <div class="paragraph"> </div> Type constructor <span class="inlinecode"><a class="idref" href="Top.SystemC.Definitions.html#typ_exc"><span class="id" title="constructor">typ_exc</span></a></span> <span class="inlinecode"><a class="idref" href="Top.SystemC.Definitions.html#T1"><span class="id" title="variable">T1</span></a></span> <span class="inlinecode"><a class="idref" href="Top.SystemC.Definitions.html#T2"><span class="id" title="variable">T2</span></a></span> is a block type that represents capabilities with an effect signature from <span class="inlinecode"><a class="idref" href="Top.SystemC.Definitions.html#T1"><span class="id" title="variable">T1</span></a></span> to <span class="inlinecode"><a class="idref" href="Top.SystemC.Definitions.html#T2"><span class="id" title="variable">T2</span></a></span>. To simplify the presentation, in the paper, this is represented as a function type <span class="inlinecode"><a class="idref" href="Top.SystemC.Definitions.html#T1"><span class="id" title="variable">T1</span></a></span> <span class="inlinecode">→</span> <span class="inlinecode"><a class="idref" href="Top.SystemC.Definitions.html#T2"><span class="id" title="variable">T2</span></a></span> as for instance can be seen in rule TRY in Figure 2. <div class="paragraph"> </div> <div class="paragraph"> </div> <a name="lab122"></a> <h2 class="section"> <a name="syntax-terms"></a> Syntax of Terms </h2> <div class="paragraph"> </div> In the following, we define the syntax of expressions, statements, and blocks. <div class="paragraph"> </div> <img src="img/syntax-terms.png" alt="Syntax of terms" class="fig" /> <div class="paragraph"> </div> <a name="lab123"></a> <h3 class="section"> Expressions </h3> </div> <div class="code"> <span class="id" title="keyword">Inductive</span> <a name="exp"><span class="id" title="inductive">exp</span></a> : <span class="id" title="keyword">Type</span> :=<br/> &nbsp;&nbsp;| <a name="exp_bvar"><span class="id" title="constructor">exp_bvar</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">→</span></a> <a class="idref" href="Top.SystemC.Definitions.html#exp"><span class="id" title="inductive">exp</span></a> <span class="comment">(*&nbsp;(bound)&nbsp;expression&nbsp;variables&nbsp;*)</span><br/> &nbsp;&nbsp;| <a name="exp_fvar"><span class="id" title="constructor">exp_fvar</span></a> : <a class="idref" href="Top.Util.Atom.html#AtomImpl.atom"><span class="id" title="axiom">atom</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">→</span></a> <a class="idref" href="Top.SystemC.Definitions.html#exp"><span class="id" title="inductive">exp</span></a> <span class="comment">(*&nbsp;(free)&nbsp;expression&nbsp;variables&nbsp;*)</span><br/> &nbsp;&nbsp;| <a name="exp_const"><span class="id" title="constructor">exp_const</span></a> : <a class="idref" href="Top.SystemC.Definitions.html#exp"><span class="id" title="inductive">exp</span></a> <span class="comment">(*&nbsp;primitives&nbsp;*)</span><br/> &nbsp;&nbsp;| <a name="exp_box"><span class="id" title="constructor">exp_box</span></a> : <a class="idref" href="Top.SystemC.CaptureSets.html#cap"><span class="id" title="inductive">cap</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">→</span></a> <a class="idref" href="Top.SystemC.Definitions.html#blk"><span class="id" title="inductive">blk</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">→</span></a> <a class="idref" href="Top.SystemC.Definitions.html#exp"><span class="id" title="inductive">exp</span></a> <span class="comment">(*&nbsp;box&nbsp;introduction&nbsp;*)</span><br/> <br/> </div> <div class="doc"> <a name="lab124"></a> <h4 class="section"> Differences to the paper </h4> Besides only having one primitive value, expressions are precisely as in the paper. <div class="paragraph"> </div> <a name="lab125"></a> <h3 class="section"> Statements </h3> </div> <div class="code"> <span class="id" title="keyword">with</span> <a name="stm"><span class="id" title="inductive">stm</span></a> : <span class="id" title="keyword">Type</span> :=<br/> &nbsp;&nbsp;| <a name="stm_ret"><span class="id" title="constructor">stm_ret</span></a> : <a class="idref" href="Top.SystemC.Definitions.html#exp"><span class="id" title="inductive">exp</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">→</span></a> <a class="idref" href="Top.SystemC.Definitions.html#stm"><span class="id" title="inductive">stm</span></a> <span class="comment">(*&nbsp;returning&nbsp;*)</span><br/> &nbsp;&nbsp;| <a name="stm_val"><span class="id" title="constructor">stm_val</span></a> : <a class="idref" href="Top.SystemC.Definitions.html#vtyp"><span class="id" title="inductive">vtyp</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">→</span></a> <a class="idref" href="Top.SystemC.Definitions.html#stm"><span class="id" title="inductive">stm</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">→</span></a> <a class="idref" href="Top.SystemC.Definitions.html#stm"><span class="id" title="inductive">stm</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">→</span></a> <a class="idref" href="Top.SystemC.Definitions.html#stm"><span class="id" title="inductive">stm</span></a> <span class="comment">(*&nbsp;sequencing&nbsp;*)</span><br/> &nbsp;&nbsp;| <a name="stm_def"><span class="id" title="constructor">stm_def</span></a> : <a class="idref" href="Top.SystemC.CaptureSets.html#cap"><span class="id" title="inductive">cap</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">→</span></a> <a class="idref" href="Top.SystemC.Definitions.html#btyp"><span class="id" title="inductive">btyp</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">→</span></a> <a class="idref" href="Top.SystemC.Definitions.html#blk"><span class="id" title="inductive">blk</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">→</span></a> <a class="idref" href="Top.SystemC.Definitions.html#stm"><span class="id" title="inductive">stm</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">→</span></a> <a class="idref" href="Top.SystemC.Definitions.html#stm"><span class="id" title="inductive">stm</span></a> <span class="comment">(*&nbsp;block&nbsp;definition&nbsp;*)</span><br/> &nbsp;&nbsp;| <a name="stm_vapp"><span class="id" title="constructor">stm_vapp</span></a> : <a class="idref" href="Top.SystemC.Definitions.html#blk"><span class="id" title="inductive">blk</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">→</span></a> <a class="idref" href="Top.SystemC.Definitions.html#exp"><span class="id" title="inductive">exp</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">→</span></a> <a class="idref" href="Top.SystemC.Definitions.html#stm"><span class="id" title="inductive">stm</span></a> <span class="comment">(*&nbsp;block&nbsp;application&nbsp;(to&nbsp;value&nbsp;arguments)&nbsp;*)</span><br/> &nbsp;&nbsp;| <a name="stm_bapp"><span class="id" title="constructor">stm_bapp</span></a> : <a class="idref" href="Top.SystemC.Definitions.html#blk"><span class="id" title="inductive">blk</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">→</span></a> <a class="idref" href="Top.SystemC.CaptureSets.html#cap"><span class="id" title="inductive">cap</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">→</span></a> <a class="idref" href="Top.SystemC.Definitions.html#blk"><span class="id" title="inductive">blk</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">→</span></a> <a class="idref" href="Top.SystemC.Definitions.html#stm"><span class="id" title="inductive">stm</span></a> <span class="comment">(*&nbsp;block&nbsp;application&nbsp;(to&nbsp;block&nbsp;arguments)&nbsp;*)</span><br/> &nbsp;&nbsp;| <a name="stm_try"><span class="id" title="constructor">stm_try</span></a> : <a class="idref" href="Top.SystemC.CaptureSets.html#cap"><span class="id" title="inductive">cap</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">→</span></a> <a class="idref" href="Top.SystemC.Definitions.html#vtyp"><span class="id" title="inductive">vtyp</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">→</span></a> <a class="idref" href="Top.SystemC.Definitions.html#vtyp"><span class="id" title="inductive">vtyp</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">→</span></a> <a class="idref" href="Top.SystemC.Definitions.html#stm"><span class="id" title="inductive">stm</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">→</span></a> <a class="idref" href="Top.SystemC.Definitions.html#stm"><span class="id" title="inductive">stm</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">→</span></a> <a class="idref" href="Top.SystemC.Definitions.html#stm"><span class="id" title="inductive">stm</span></a> <span class="comment">(*&nbsp;handlers&nbsp;*)</span><br/> &nbsp;&nbsp;| <a name="stm_throw"><span class="id" title="constructor">stm_throw</span></a> : <a class="idref" href="Top.SystemC.Definitions.html#blk"><span class="id" title="inductive">blk</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">→</span></a> <a class="idref" href="Top.SystemC.Definitions.html#exp"><span class="id" title="inductive">exp</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">→</span></a> <a class="idref" href="Top.SystemC.Definitions.html#stm"><span class="id" title="inductive">stm</span></a> <span class="comment">(*&nbsp;performing&nbsp;an&nbsp;effect&nbsp;*)</span><br/> &nbsp;&nbsp;| <a name="stm_reset"><span class="id" title="constructor">stm_reset</span></a> : <a class="idref" href="Top.Util.Label.html#LabelImpl.label"><span class="id" title="axiom">label</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">→</span></a> <a class="idref" href="Top.SystemC.CaptureSets.html#cap"><span class="id" title="inductive">cap</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">→</span></a> <a class="idref" href="Top.SystemC.Definitions.html#stm"><span class="id" title="inductive">stm</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">→</span></a> <a class="idref" href="Top.SystemC.Definitions.html#stm"><span class="id" title="inductive">stm</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">→</span></a> <a class="idref" href="Top.SystemC.Definitions.html#stm"><span class="id" title="inductive">stm</span></a> <span class="comment">(*&nbsp;runtime&nbsp;delimiter&nbsp;*)</span><br/> <br/> </div> <div class="doc"> <a name="lab126"></a> <h4 class="section"> Differences to the paper </h4> Similar to the syntax of types, in the mechanization we have two different forms of application (instead of multi-arity). <span class="inlinecode"><a class="idref" href="Top.SystemC.Definitions.html#stm_vapp"><span class="id" title="constructor">stm_vapp</span></a></span> takes the block to call and an expression (value argument), while <span class="inlinecode"><a class="idref" href="Top.SystemC.Definitions.html#stm_bapp"><span class="id" title="constructor">stm_bapp</span></a></span> takes the block to call, a capture annotation (to avoid implementing capture inference in the mechanization), and a block argument. <div class="paragraph"> </div> Similar to block application for blocks the handler construct <span class="inlinecode"><a class="idref" href="Top.SystemC.Definitions.html#stm_try"><span class="id" title="constructor">stm_try</span></a></span> <span class="inlinecode"><a class="idref" href="Top.SystemC.CaptureSets.html#Props.C"><span class="id" title="variable">C</span></a></span> <span class="inlinecode"><a class="idref" href="Top.SystemC.Definitions.html#T1"><span class="id" title="variable">T1</span></a></span> <span class="inlinecode"><a class="idref" href="Top.SystemC.Definitions.html#T2"><span class="id" title="variable">T2</span></a></span> <span class="inlinecode"><a class="idref" href="Top.Util.FSetDecide.html#s1"><span class="id" title="variable">s1</span></a></span> <span class="inlinecode"><a class="idref" href="Top.Util.FSetDecide.html#s2"><span class="id" title="variable">s2</span></a></span> models statements of the form <tt> try { f : Exc T1 T2 =&gt; s1 } with { (x: T1, k: (T2 =&gt; R @ C)) =&gt; s2 } </tt> <div class="paragraph"> </div> That is, the capture annotion <span class="inlinecode"><a class="idref" href="Top.SystemC.CaptureSets.html#Props.C"><span class="id" title="variable">C</span></a></span> corresponds to the capture set on the continuation <span class="inlinecode"><a class="idref" href="Top.SystemC.CaptureSets.html#Props.k"><span class="id" title="variable">k</span></a></span>. This can also be seen in Figure 2, rule TRY, but without an explicit annotation on the <span class="inlinecode"><a class="idref" href="Top.SystemC.Definitions.html#stm_try"><span class="id" title="constructor">stm_try</span></a></span>. Types <span class="inlinecode"><a class="idref" href="Top.SystemC.Definitions.html#T1"><span class="id" title="variable">T1</span></a></span> and <span class="inlinecode"><a class="idref" href="Top.SystemC.Definitions.html#T2"><span class="id" title="variable">T2</span></a></span> are also explicitly annotated, which is not the case in the paper. <div class="paragraph"> </div> Like in Figure 3 of the paper, we also include the syntax for runtime delimiters <span class="inlinecode"><a class="idref" href="Top.SystemC.Definitions.html#stm_reset"><span class="id" title="constructor">stm_reset</span></a></span> <span class="inlinecode"><a class="idref" href="Top.SystemC.CaptureSets.html#Props.C"><span class="id" title="variable">C</span></a></span> <span class="inlinecode"><a class="idref" href="Top.SystemC.Definitions.html#T1"><span class="id" title="variable">T1</span></a></span> <span class="inlinecode"><a class="idref" href="Top.SystemC.Definitions.html#T2"><span class="id" title="variable">T2</span></a></span> that model statements of the form <tt> #_l { s1 } with { (x: T1, k: (T2 =&gt; R @ C)) =&gt; s2 } </tt> <div class="paragraph"> </div> <div class="paragraph"> </div> <a name="lab127"></a> <h3 class="section"> Blocks </h3> </div> <div class="code"> <span class="id" title="keyword">with</span> <a name="blk"><span class="id" title="inductive">blk</span></a> : <span class="id" title="keyword">Type</span> :=<br/> &nbsp;&nbsp;| <a name="blk_bvar"><span class="id" title="constructor">blk_bvar</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">→</span></a> <a class="idref" href="Top.SystemC.Definitions.html#blk"><span class="id" title="inductive">blk</span></a> <span class="comment">(*&nbsp;(bound)&nbsp;block&nbsp;variables&nbsp;*)</span><br/> &nbsp;&nbsp;| <a name="blk_fvar"><span class="id" title="constructor">blk_fvar</span></a> : <a class="idref" href="Top.Util.Atom.html#AtomImpl.atom"><span class="id" title="axiom">atom</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">→</span></a> <a class="idref" href="Top.SystemC.Definitions.html#blk"><span class="id" title="inductive">blk</span></a> <span class="comment">(*&nbsp;(free)&nbsp;block&nbsp;variables&nbsp;*)</span><br/> &nbsp;&nbsp;| <a name="blk_vabs"><span class="id" title="constructor">blk_vabs</span></a> : <a class="idref" href="Top.SystemC.Definitions.html#vtyp"><span class="id" title="inductive">vtyp</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">→</span></a> <a class="idref" href="Top.SystemC.Definitions.html#stm"><span class="id" title="inductive">stm</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">→</span></a> <a class="idref" href="Top.SystemC.Definitions.html#blk"><span class="id" title="inductive">blk</span></a> <span class="comment">(*&nbsp;block&nbsp;implementation&nbsp;(with&nbsp;value&nbsp;argument)&nbsp;*)</span><br/> &nbsp;&nbsp;| <a name="blk_babs"><span class="id" title="constructor">blk_babs</span></a> : <a class="idref" href="Top.SystemC.Definitions.html#btyp"><span class="id" title="inductive">btyp</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">→</span></a> <a class="idref" href="Top.SystemC.Definitions.html#stm"><span class="id" title="inductive">stm</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">→</span></a> <a class="idref" href="Top.SystemC.Definitions.html#blk"><span class="id" title="inductive">blk</span></a> <span class="comment">(*&nbsp;block&nbsp;implementation&nbsp;(with&nbsp;block&nbsp;argument)&nbsp;*)</span><br/> &nbsp;&nbsp;| <a name="blk_unbox"><span class="id" title="constructor">blk_unbox</span></a> : <a class="idref" href="Top.SystemC.Definitions.html#exp"><span class="id" title="inductive">exp</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">→</span></a> <a class="idref" href="Top.SystemC.Definitions.html#blk"><span class="id" title="inductive">blk</span></a> <span class="comment">(*&nbsp;box&nbsp;elimination&nbsp;*)</span><br/> &nbsp;&nbsp;| <a name="blk_tabs"><span class="id" title="constructor">blk_tabs</span></a> : <a class="idref" href="Top.SystemC.Definitions.html#blk"><span class="id" title="inductive">blk</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">→</span></a> <a class="idref" href="Top.SystemC.Definitions.html#blk"><span class="id" title="inductive">blk</span></a> <span class="comment">(*&nbsp;value&nbsp;type&nbsp;abstraction&nbsp;*)</span><br/> &nbsp;&nbsp;| <a name="blk_tapp"><span class="id" title="constructor">blk_tapp</span></a> : <a class="idref" href="Top.SystemC.Definitions.html#blk"><span class="id" title="inductive">blk</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">→</span></a> <a class="idref" href="Top.SystemC.Definitions.html#vtyp"><span class="id" title="inductive">vtyp</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">→</span></a> <a class="idref" href="Top.SystemC.Definitions.html#blk"><span class="id" title="inductive">blk</span></a> <span class="comment">(*&nbsp;value&nbsp;type&nbsp;application&nbsp;*)</span><br/> &nbsp;&nbsp;| <a name="blk_handler"><span class="id" title="constructor">blk_handler</span></a> : <a class="idref" href="Top.Util.Label.html#LabelImpl.label"><span class="id" title="axiom">label</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">→</span></a> <a class="idref" href="Top.SystemC.Definitions.html#blk"><span class="id" title="inductive">blk</span></a> <span class="comment">(*&nbsp;runtime&nbsp;capability&nbsp;*)</span><br/> .<br/> </div> <div class="doc"> <a name="lab128"></a> <h4 class="section"> Differences to the paper </h4> Again, as for statements and block types, we have two different forms of abstraction. <span class="inlinecode"><a class="idref" href="Top.SystemC.Definitions.html#blk_vabs"><span class="id" title="constructor">blk_vabs</span></a></span> to abstract over values and <span class="inlinecode"><a class="idref" href="Top.SystemC.Definitions.html#blk_babs"><span class="id" title="constructor">blk_babs</span></a></span> to abstract over (tracked) blocks. <div class="paragraph"> </div> In addition to the paper, we also include term-level syntax to abstract over value types <span class="inlinecode"><a class="idref" href="Top.SystemC.Definitions.html#blk_tabs"><span class="id" title="constructor">blk_tabs</span></a></span> and instantiate polymorphic blocks with value types <span class="inlinecode"><a class="idref" href="Top.SystemC.Definitions.html#blk_tapp"><span class="id" title="constructor">blk_tapp</span></a></span>. <div class="paragraph"> </div> The constructor <span class="inlinecode"><a class="idref" href="Top.SystemC.Definitions.html#blk_handler"><span class="id" title="constructor">blk_handler</span></a></span> corresponds to the <tt>cap_l</tt> form in the paper and represents runtime capabilities. </div> <div class="code"> <br/> <br/> </div> <div class="doc"> <a name="lab129"></a> <h1 class="section"> <a name="env"></a> Environments and Signatures </h1> <div class="paragraph"> </div> <a name="lab130"></a> <h2 class="section"> Environments </h2> Like in the paper, we use a single environment for value, block, and type abstraction. We formalize environments by representing them as association lists (lists of pairs of keys and values) whose keys are atoms. <div class="paragraph"> </div> <img src="img/environments.png" alt="Syntax of environments" class="fig" /> <div class="paragraph"> </div> Instead of having two forms of block bindings, we index them by a coeffect defined below: </div> <div class="code"> <br/> <span class="id" title="keyword">Inductive</span> <a name="coeffect"><span class="id" title="inductive">coeffect</span></a> : <span class="id" title="keyword">Type</span> :=<br/> &nbsp;&nbsp;| <a name="tracked"><span class="id" title="constructor">tracked</span></a> : <a class="idref" href="Top.SystemC.Definitions.html#coeffect"><span class="id" title="inductive">coeffect</span></a><br/> &nbsp;&nbsp;| <a name="capture"><span class="id" title="constructor">capture</span></a> : <a class="idref" href="Top.SystemC.CaptureSets.html#cap"><span class="id" title="inductive">cap</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">→</span></a> <a class="idref" href="Top.SystemC.Definitions.html#coeffect"><span class="id" title="inductive">coeffect</span></a>.<br/> <br/> </div> <div class="doc"> Basing our mechanization on an existing locally nameless proof, we reuse the infrastructure for environments. <div class="paragraph"> </div> <span class="inlinecode"><span class="id" title="library">Util.Metatheory</span></span>, <span class="inlinecode"><span class="id" title="library">Util.Environment</span></span>, and <span class="inlinecode"><span class="id" title="library">Util.Signatures</span></span> libraries provide functions, predicates, tactics, notations and lemmas that simplify working with environments. The <span class="inlinecode"><span class="id" title="library">Util.Environment</span></span> library treats environments as lists of type <span class="inlinecode"><a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a></span> <span class="inlinecode">(<a class="idref" href="Top.Util.Atom.html#AtomImpl.atom"><span class="id" title="definition">atom</span></a></span> <span class="inlinecode">×</span> <span class="inlinecode"><a class="idref" href="Top.SystemC.CaptureSets.html#Props.A"><span class="id" title="variable">A</span></a>)</span>. <div class="paragraph"> </div> Since environments map <span class="inlinecode"><a class="idref" href="Top.Util.Atom.html#AtomImpl.atom"><span class="id" title="definition">atom</span></a></span>s, the type <span class="inlinecode"><a class="idref" href="Top.SystemC.CaptureSets.html#Props.A"><span class="id" title="variable">A</span></a></span> should encode whether a particular binding is a typing or region assumption. Thus, we instantiate <span class="inlinecode"><a class="idref" href="Top.SystemC.CaptureSets.html#Props.A"><span class="id" title="variable">A</span></a></span> with the type <span class="inlinecode"><a class="idref" href="Top.SystemC.Definitions.html#binding"><span class="id" title="inductive">binding</span></a></span>, defined below </div> <div class="code"> <br/> <span class="id" title="keyword">Inductive</span> <a name="binding"><span class="id" title="inductive">binding</span></a> : <span class="id" title="keyword">Type</span> :=<br/> &nbsp;&nbsp;<span class="comment">(*&nbsp;&nbsp;x&nbsp;:&nbsp;T&nbsp;&nbsp;&nbsp;*)</span><br/> &nbsp;&nbsp;| <a name="bind_val"><span class="id" title="constructor">bind_val</span></a> : <a class="idref" href="Top.SystemC.Definitions.html#vtyp"><span class="id" title="inductive">vtyp</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">→</span></a> <a class="idref" href="Top.SystemC.Definitions.html#binding"><span class="id" title="inductive">binding</span></a><br/> &nbsp;&nbsp;| <a name="bind_blk"><span class="id" title="constructor">bind_blk</span></a> : <a class="idref" href="Top.SystemC.Definitions.html#btyp"><span class="id" title="inductive">btyp</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">→</span></a> <a class="idref" href="Top.SystemC.Definitions.html#coeffect"><span class="id" title="inductive">coeffect</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">→</span></a> <a class="idref" href="Top.SystemC.Definitions.html#binding"><span class="id" title="inductive">binding</span></a><br/> &nbsp;&nbsp;<span class="comment">(*&nbsp;X&nbsp;*)</span><br/> &nbsp;&nbsp;| <a name="bind_typ"><span class="id" title="constructor">bind_typ</span></a> : <a class="idref" href="Top.SystemC.Definitions.html#binding"><span class="id" title="inductive">binding</span></a>.<br/> <br/> <span class="id" title="keyword">Notation</span> <a name="env"><span class="id" title="abbreviation">env</span></a> := (<a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> (<a class="idref" href="Top.Util.Atom.html#AtomImpl.atom"><span class="id" title="axiom">atom</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">×</span></a> <a class="idref" href="Top.SystemC.Definitions.html#binding"><span class="id" title="inductive">binding</span></a>)).<br/> <span class="id" title="keyword">Notation</span> <a name="empty"><span class="id" title="abbreviation">empty</span></a> := (@<a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#nil"><span class="id" title="constructor">nil</span></a> (<a class="idref" href="Top.Util.Atom.html#AtomImpl.atom"><span class="id" title="axiom">atom</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">×</span></a> <a class="idref" href="Top.SystemC.Definitions.html#binding"><span class="id" title="inductive">binding</span></a>)).<br/> <br/> </div> <div class="doc"> <a name="lab131"></a> <h2 class="section"> Signatures </h2> As a proof device, each runtime label (Figure 3 in the paper) is associated with a signature (that is the argument type and the result type of an effect operation). <div class="paragraph"> </div> <img src="img/signatures.png" alt="Syntax of signatures" class="fig" /> <div class="paragraph"> </div> The tooling in <span class="inlinecode"><span class="id" title="library">Util.Signatures</span></span> is a plain copy of <span class="inlinecode"><span class="id" title="library">Util.Environment</span></span>. </div> <div class="code"> <br/> <span class="id" title="keyword">Inductive</span> <a name="signature"><span class="id" title="inductive">signature</span></a> : <span class="id" title="keyword">Type</span> :=<br/> &nbsp;&nbsp;<span class="comment">(*&nbsp;label&nbsp;:&nbsp;T1&nbsp;(param&nbsp;type)&nbsp;T&nbsp;(result&nbsp;type)*)</span><br/> &nbsp;&nbsp;| <a name="bind_sig"><span class="id" title="constructor">bind_sig</span></a> : <a class="idref" href="Top.SystemC.Definitions.html#vtyp"><span class="id" title="inductive">vtyp</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">→</span></a> <a class="idref" href="Top.SystemC.Definitions.html#vtyp"><span class="id" title="inductive">vtyp</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">→</span></a> <a class="idref" href="Top.SystemC.Definitions.html#signature"><span class="id" title="inductive">signature</span></a>.<br/> <br/> <span class="id" title="keyword">Notation</span> <a name="sig"><span class="id" title="abbreviation">sig</span></a> := (<a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> (<a class="idref" href="Top.Util.Label.html#LabelImpl.label"><span class="id" title="axiom">label</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">×</span></a> <a class="idref" href="Top.SystemC.Definitions.html#signature"><span class="id" title="inductive">signature</span></a>)).<br/> <br/> <br/> </div> <div class="doc"> <a name="lab132"></a> <h1 class="section"> <a name="typing"></a> Typing </h1> <div class="paragraph"> </div> Like in the paper, we model typing as three mutually inductive relations. <div class="paragraph"> </div> Note that we use notation <span class="inlinecode"><a class="idref" href="Top.SystemC.CaptureSets.html#Props.C"><span class="id" title="variable">C</span></a></span> <span class="inlinecode">|=</span> <span class="inlinecode"><a class="idref" href="Top.SystemC.CaptureSets.html#Props.D"><span class="id" title="variable">D</span></a></span> (pronounced "C admits D") instead of subset inclusion <span class="inlinecode"><a class="idref" href="Top.SystemC.CaptureSets.html#Props.D"><span class="id" title="variable">D</span></a></span> <span class="inlinecode">≤</span> <span class="inlinecode"><a class="idref" href="Top.SystemC.CaptureSets.html#Props.C"><span class="id" title="variable">C</span></a></span> as it is used in the paper. </div> <div class="code"> <span class="id" title="keyword">Notation</span> <a name="11f615684d43d5ff020d0ffb9a3d8457"><span class="id" title="notation">&quot;</span></a>C |= D" := (<a class="idref" href="Top.SystemC.CaptureSets.html#cset_subset_prop"><span class="id" title="definition">cset_subset_prop</span></a> <span class="id" title="var">D</span> <span class="id" title="var">C</span>) (<span class="id" title="tactic">at</span> <span class="id" title="keyword">level</span> 68).<br/> <br/> <span class="id" title="keyword">Reserved Notation</span> &quot;E ; Q |-exp e ~: T" (<span class="id" title="tactic">at</span> <span class="id" title="keyword">level</span> 70, <span class="id" title="var">Q</span> <span class="id" title="tactic">at</span> <span class="id" title="var">next</span> <span class="id" title="keyword">level</span>).<br/> <span class="id" title="keyword">Reserved Notation</span> &quot;E @ R ; Q |-blk b ~: S" (<span class="id" title="tactic">at</span> <span class="id" title="keyword">level</span> 70, <span class="id" title="var">R</span> <span class="id" title="tactic">at</span> <span class="id" title="var">next</span> <span class="id" title="keyword">level</span>, <span class="id" title="var">Q</span> <span class="id" title="tactic">at</span> <span class="id" title="var">next</span> <span class="id" title="keyword">level</span>).<br/> <span class="id" title="keyword">Reserved Notation</span> &quot;E @ R ; Q |-stm s ~: T" (<span class="id" title="tactic">at</span> <span class="id" title="keyword">level</span> 70, <span class="id" title="var">R</span> <span class="id" title="tactic">at</span> <span class="id" title="var">next</span> <span class="id" title="keyword">level</span>, <span class="id" title="var">Q</span> <span class="id" title="tactic">at</span> <span class="id" title="var">next</span> <span class="id" title="keyword">level</span>).<br/> <br/> </div> <div class="doc"> Note on presentation: we use Gamma for E, and Xi for Q, both in the paper and in coqdoc. <div class="paragraph"> </div> <div class="paragraph"> </div> <a name="lab133"></a> <h2 class="section"> <a name="typing-expression"></a> Expression Typing </h2> <div class="paragraph"> </div> <img src="img/typing-expressions.png" alt="Typing of expressions" class="fig" /> </div> <div class="code"> <span class="id" title="keyword">Inductive</span> <a name="etyping"><span class="id" title="inductive">etyping</span></a> : <a class="idref" href="Top.SystemC.Definitions.html#env"><span class="id" title="abbreviation">env</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">→</span></a> <a class="idref" href="Top.SystemC.Definitions.html#sig"><span class="id" title="abbreviation">sig</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">→</span></a> <a class="idref" href="Top.SystemC.Definitions.html#exp"><span class="id" title="inductive">exp</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">→</span></a> <a class="idref" href="Top.SystemC.Definitions.html#vtyp"><span class="id" title="inductive">vtyp</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">→</span></a> <span class="id" title="keyword">Prop</span> :=<br/> &nbsp;&nbsp;| <a name="typing_base"><span class="id" title="constructor">typing_base</span></a> : <span class="id" title="keyword">∀</span> <span class="id" title="var">E</span> <span class="id" title="var">Q</span>,<br/> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Top.SystemC.Definitions.html#wf_env"><span class="id" title="inductive">wf_env</span></a> <a class="idref" href="Top.SystemC.Definitions.html#E"><span class="id" title="variable">E</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">→</span></a><br/> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Top.SystemC.Definitions.html#wf_sig"><span class="id" title="inductive">wf_sig</span></a> <a class="idref" href="Top.SystemC.Definitions.html#Q"><span class="id" title="variable">Q</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">→</span></a><br/> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Top.SystemC.Definitions.html#E"><span class="id" title="variable">E</span></a> <a class="idref" href="Top.SystemC.Definitions.html#c70dfda9b7aff80af236bdc97244f86b"><span class="id" title="notation">;</span></a> <a class="idref" href="Top.SystemC.Definitions.html#Q"><span class="id" title="variable">Q</span></a> <a class="idref" href="Top.SystemC.Definitions.html#c70dfda9b7aff80af236bdc97244f86b"><span class="id" title="notation">|-</span></a><a class="idref" href="Top.SystemC.Definitions.html#c70dfda9b7aff80af236bdc97244f86b"><span class="id" title="notation">exp</span></a> <a class="idref" href="Top.SystemC.Definitions.html#exp_const"><span class="id" title="constructor">exp_const</span></a> <a class="idref" href="Top.SystemC.Definitions.html#c70dfda9b7aff80af236bdc97244f86b"><span class="id" title="notation">~:</span></a> <a class="idref" href="Top.SystemC.Definitions.html#typ_base"><span class="id" title="constructor">typ_base</span></a><br/> <br/> &nbsp;&nbsp;| <a name="typing_evar"><span class="id" title="constructor">typing_evar</span></a> : <span class="id" title="keyword">∀</span> <span class="id" title="var">E</span> <span class="id" title="var">Q</span> <span class="id" title="var">x</span> <span class="id" title="var">T</span>,<br/> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Top.SystemC.Definitions.html#wf_env"><span class="id" title="inductive">wf_env</span></a> <a class="idref" href="Top.SystemC.Definitions.html#E"><span class="id" title="variable">E</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">→</span></a><br/> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Top.SystemC.Definitions.html#wf_sig"><span class="id" title="inductive">wf_sig</span></a> <a class="idref" href="Top.SystemC.Definitions.html#Q"><span class="id" title="variable">Q</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">→</span></a><br/> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Top.Util.Environment.html#binds"><span class="id" title="definition">binds</span></a> <a class="idref" href="Top.SystemC.Definitions.html#x"><span class="id" title="variable">x</span></a> (<a class="idref" href="Top.SystemC.Definitions.html#bind_val"><span class="id" title="constructor">bind_val</span></a> <a class="idref" href="Top.SystemC.Definitions.html#T"><span class="id" title="variable">T</span></a>) <a class="idref" href="Top.SystemC.Definitions.html#E"><span class="id" title="variable">E</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">→</span></a><br/> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Top.SystemC.Definitions.html#E"><span class="id" title="variable">E</span></a> <a class="idref" href="Top.SystemC.Definitions.html#c70dfda9b7aff80af236bdc97244f86b"><span class="id" title="notation">;</span></a> <a class="idref" href="Top.SystemC.Definitions.html#Q"><span class="id" title="variable">Q</span></a> <a class="idref" href="Top.SystemC.Definitions.html#c70dfda9b7aff80af236bdc97244f86b"><span class="id" title="notation">|-</span></a><a class="idref" href="Top.SystemC.Definitions.html#c70dfda9b7aff80af236bdc97244f86b"><span class="id" title="notation">exp</span></a> <a class="idref" href="Top.SystemC.Definitions.html#c70dfda9b7aff80af236bdc97244f86b"><span class="id" title="notation">(</span></a><a class="idref" href="Top.SystemC.Definitions.html#exp_fvar"><span class="id" title="constructor">exp_fvar</span></a> <a class="idref" href="Top.SystemC.Definitions.html#x"><span class="id" title="variable">x</span></a><a class="idref" href="Top.SystemC.Definitions.html#c70dfda9b7aff80af236bdc97244f86b"><span class="id" title="notation">)</span></a> <a class="idref" href="Top.SystemC.Definitions.html#c70dfda9b7aff80af236bdc97244f86b"><span class="id" title="notation">~:</span></a> <a class="idref" href="Top.SystemC.Definitions.html#T"><span class="id" title="variable">T</span></a><br/> <br/> &nbsp;&nbsp;| <a name="typing_box"><span class="id" title="constructor">typing_box</span></a> : <span class="id" title="keyword">∀</span> <span class="id" title="var">E</span> <span class="id" title="var">Q</span> (<span class="id" title="var">C</span> : <a class="idref" href="Top.SystemC.CaptureSets.html#cap"><span class="id" title="inductive">cap</span></a>) <span class="id" title="var">S1</span> <span class="id" title="var">b</span>,<br/> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Top.SystemC.Definitions.html#wf_cap"><span class="id" title="inductive">wf_cap</span></a> <a class="idref" href="Top.SystemC.Definitions.html#E"><span class="id" title="variable">E</span></a> <a class="idref" href="Top.SystemC.Definitions.html#C"><span class="id" title="variable">C</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">→</span></a><br/> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">(</span></a><a class="idref" href="Top.SystemC.Definitions.html#E"><span class="id" title="variable">E</span></a> <a class="idref" href="Top.SystemC.Definitions.html#b0e42b705cf240294735f1d77c92cb6a"><span class="id" title="notation">@</span></a> <a class="idref" href="Top.SystemC.Definitions.html#C"><span class="id" title="variable">C</span></a> <a class="idref" href="Top.SystemC.Definitions.html#b0e42b705cf240294735f1d77c92cb6a"><span class="id" title="notation">;</span></a> <a class="idref" href="Top.SystemC.Definitions.html#Q"><span class="id" title="variable">Q</span></a> <a class="idref" href="Top.SystemC.Definitions.html#b0e42b705cf240294735f1d77c92cb6a"><span class="id" title="notation">|-</span></a><a class="idref" href="Top.SystemC.Definitions.html#b0e42b705cf240294735f1d77c92cb6a"><span class="id" title="notation">blk</span></a> <a class="idref" href="Top.SystemC.Definitions.html#b"><span class="id" title="variable">b</span></a> <a class="idref" href="Top.SystemC.Definitions.html#b0e42b705cf240294735f1d77c92cb6a"><span class="id" title="notation">~:</span></a> <a class="idref" href="Top.SystemC.Definitions.html#S1"><span class="id" title="variable">S1</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">→</span></a><br/> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Top.SystemC.Definitions.html#E"><span class="id" title="variable">E</span></a> <a class="idref" href="Top.SystemC.Definitions.html#c70dfda9b7aff80af236bdc97244f86b"><span class="id" title="notation">;</span></a> <a class="idref" href="Top.SystemC.Definitions.html#Q"><span class="id" title="variable">Q</span></a> <a class="idref" href="Top.SystemC.Definitions.html#c70dfda9b7aff80af236bdc97244f86b"><span class="id" title="notation">|-</span></a><a class="idref" href="Top.SystemC.Definitions.html#c70dfda9b7aff80af236bdc97244f86b"><span class="id" title="notation">exp</span></a> <a class="idref" href="Top.SystemC.Definitions.html#c70dfda9b7aff80af236bdc97244f86b"><span class="id" title="notation">(</span></a><a class="idref" href="Top.SystemC.Definitions.html#exp_box"><span class="id" title="constructor">exp_box</span></a> <a class="idref" href="Top.SystemC.Definitions.html#C"><span class="id" title="variable">C</span></a> <a class="idref" href="Top.SystemC.Definitions.html#b"><span class="id" title="variable">b</span></a><a class="idref" href="Top.SystemC.Definitions.html#c70dfda9b7aff80af236bdc97244f86b"><span class="id" title="notation">)</span></a> <a class="idref" href="Top.SystemC.Definitions.html#c70dfda9b7aff80af236bdc97244f86b"><span class="id" title="notation">~:</span></a> <a class="idref" href="Top.SystemC.Definitions.html#c70dfda9b7aff80af236bdc97244f86b"><span class="id" title="notation">(</span></a><a class="idref" href="Top.SystemC.Definitions.html#typ_capt"><span class="id" title="constructor">typ_capt</span></a> <a class="idref" href="Top.SystemC.Definitions.html#S1"><span class="id" title="variable">S1</span></a> <a class="idref" href="Top.SystemC.Definitions.html#C"><span class="id" title="variable">C</span></a><a class="idref" href="Top.SystemC.Definitions.html#c70dfda9b7aff80af236bdc97244f86b"><span class="id" title="notation">)</span></a><br/> <br/> <span class="id" title="keyword">where</span> <a name="c70dfda9b7aff80af236bdc97244f86b"><span class="id" title="notation">&quot;</span></a>E ; Q |-exp e ~: T" := (<a class="idref" href="Top.SystemC.Definitions.html#etyping"><span class="id" title="inductive">etyping</span></a> <span class="id" title="var">E</span> <span class="id" title="var">Q</span> <span class="id" title="var">e</span> <span class="id" title="var">T</span>)<br/> <br/> </div> <div class="doc"> <a name="lab134"></a> <h4 class="section"> Differences to the paper </h4> The three rules directly correspond to rules LIT, VAR, and BOXINTRO in the paper. As can be seen (all) typing judgements in Coq make wellformedness conditions explicit, which are left implicit in the paper. <div class="paragraph"> </div> <div class="paragraph"> </div> <a name="lab135"></a> <h2 class="section"> <a name="typing-block"></a> Block Typing </h2> <div class="paragraph"> </div> <img src="img/typing-blocks.png" alt="Typing of blocks" class="fig" /> </div> <div class="code"> <span class="id" title="keyword">with</span> <a name="btyping"><span class="id" title="inductive">btyping</span></a> : <a class="idref" href="Top.SystemC.Definitions.html#env"><span class="id" title="abbreviation">env</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">→</span></a> <a class="idref" href="Top.SystemC.CaptureSets.html#cap"><span class="id" title="inductive">cap</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">→</span></a> <a class="idref" href="Top.SystemC.Definitions.html#sig"><span class="id" title="abbreviation">sig</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">→</span></a> <a class="idref" href="Top.SystemC.Definitions.html#blk"><span class="id" title="inductive">blk</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">→</span></a> <a class="idref" href="Top.SystemC.Definitions.html#btyp"><span class="id" title="inductive">btyp</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">→</span></a> <span class="id" title="keyword">Prop</span> :=<br/> <br/> &nbsp;&nbsp;| <a name="typing_bvar_tracked"><span class="id" title="constructor">typing_bvar_tracked</span></a> : <span class="id" title="keyword">∀</span> <span class="id" title="var">E</span> <span class="id" title="var">R</span> <span class="id" title="var">Q</span> <span class="id" title="var">f</span> <span class="id" title="var">S1</span>,<br/> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Top.SystemC.Definitions.html#wf_env"><span class="id" title="inductive">wf_env</span></a> <a class="idref" href="Top.SystemC.Definitions.html#E"><span class="id" title="variable">E</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">→</span></a><br/> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Top.SystemC.Definitions.html#wf_sig"><span class="id" title="inductive">wf_sig</span></a> <a class="idref" href="Top.SystemC.Definitions.html#Q"><span class="id" title="variable">Q</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">→</span></a><br/> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Top.SystemC.Definitions.html#wf_cap"><span class="id" title="inductive">wf_cap</span></a> <a class="idref" href="Top.SystemC.Definitions.html#E"><span class="id" title="variable">E</span></a> <a class="idref" href="Top.SystemC.Definitions.html#R"><span class="id" title="variable">R</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">→</span></a><br/> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Top.Util.Environment.html#binds"><span class="id" title="definition">binds</span></a> <a class="idref" href="Top.SystemC.Definitions.html#f"><span class="id" title="variable">f</span></a> (<a class="idref" href="Top.SystemC.Definitions.html#bind_blk"><span class="id" title="constructor">bind_blk</span></a> <a class="idref" href="Top.SystemC.Definitions.html#S1"><span class="id" title="variable">S1</span></a> <a class="idref" href="Top.SystemC.Definitions.html#tracked"><span class="id" title="constructor">tracked</span></a>) <a class="idref" href="Top.SystemC.Definitions.html#E"><span class="id" title="variable">E</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">→</span></a><br/> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Top.SystemC.Definitions.html#R"><span class="id" title="variable">R</span></a> <a class="idref" href="Top.SystemC.Definitions.html#11f615684d43d5ff020d0ffb9a3d8457"><span class="id" title="notation">|=</span></a> <a class="idref" href="Top.SystemC.CaptureSets.html#cset_fvar"><span class="id" title="definition">cset_fvar</span></a> <a class="idref" href="Top.SystemC.Definitions.html#f"><span class="id" title="variable">f</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">→</span></a><br/> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Top.SystemC.Definitions.html#E"><span class="id" title="variable">E</span></a> <a class="idref" href="Top.SystemC.Definitions.html#b0e42b705cf240294735f1d77c92cb6a"><span class="id" title="notation">@</span></a> <a class="idref" href="Top.SystemC.Definitions.html#R"><span class="id" title="variable">R</span></a> <a class="idref" href="Top.SystemC.Definitions.html#b0e42b705cf240294735f1d77c92cb6a"><span class="id" title="notation">;</span></a> <a class="idref" href="Top.SystemC.Definitions.html#Q"><span class="id" title="variable">Q</span></a> <a class="idref" href="Top.SystemC.Definitions.html#b0e42b705cf240294735f1d77c92cb6a"><span class="id" title="notation">|-</span></a><a class="idref" href="Top.SystemC.Definitions.html#b0e42b705cf240294735f1d77c92cb6a"><span class="id" title="notation">blk</span></a> <a class="idref" href="Top.SystemC.Definitions.html#b0e42b705cf240294735f1d77c92cb6a"><span class="id" title="notation">(</span></a><a class="idref" href="Top.SystemC.Definitions.html#blk_fvar"><span class="id" title="constructor">blk_fvar</span></a> <a class="idref" href="Top.SystemC.Definitions.html#f"><span class="id" title="variable">f</span></a><a class="idref" href="Top.SystemC.Definitions.html#b0e42b705cf240294735f1d77c92cb6a"><span class="id" title="notation">)</span></a> <a class="idref" href="Top.SystemC.Definitions.html#b0e42b705cf240294735f1d77c92cb6a"><span class="id" title="notation">~:</span></a> <a class="idref" href="Top.SystemC.Definitions.html#S1"><span class="id" title="variable">S1</span></a><br/> <br/> &nbsp;&nbsp;| <a name="typing_bvar_capture"><span class="id" title="constructor">typing_bvar_capture</span></a> : <span class="id" title="keyword">∀</span> <span class="id" title="var">E</span> <span class="id" title="var">R</span> <span class="id" title="var">Q</span> <span class="id" title="var">f</span> <span class="id" title="var">S1</span> (<span class="id" title="var">C</span> : <a class="idref" href="Top.SystemC.CaptureSets.html#cap"><span class="id" title="inductive">cap</span></a>),<br/> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Top.SystemC.Definitions.html#wf_env"><span class="id" title="inductive">wf_env</span></a> <a class="idref" href="Top.SystemC.Definitions.html#E"><span class="id" title="variable">E</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">→</span></a><br/> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Top.SystemC.Definitions.html#wf_sig"><span class="id" title="inductive">wf_sig</span></a> <a class="idref" href="Top.SystemC.Definitions.html#Q"><span class="id" title="variable">Q</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">→</span></a><br/> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Top.SystemC.Definitions.html#wf_cap"><span class="id" title="inductive">wf_cap</span></a> <a class="idref" href="Top.SystemC.Definitions.html#E"><span class="id" title="variable">E</span></a> <a class="idref" href="Top.SystemC.Definitions.html#R"><span class="id" title="variable">R</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">→</span></a><br/> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Top.SystemC.Definitions.html#R"><span class="id" title="variable">R</span></a> <a class="idref" href="Top.SystemC.Definitions.html#11f615684d43d5ff020d0ffb9a3d8457"><span class="id" title="notation">|=</span></a> <a class="idref" href="Top.SystemC.Definitions.html#C"><span class="id" title="variable">C</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">→</span></a><br/> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Top.Util.Environment.html#binds"><span class="id" title="definition">binds</span></a> <a class="idref" href="Top.SystemC.Definitions.html#f"><span class="id" title="variable">f</span></a> (<a class="idref" href="Top.SystemC.Definitions.html#bind_blk"><span class="id" title="constructor">bind_blk</span></a> <a class="idref" href="Top.SystemC.Definitions.html#S1"><span class="id" title="variable">S1</span></a> (<a class="idref" href="Top.SystemC.Definitions.html#capture"><span class="id" title="constructor">capture</span></a> <a class="idref" href="Top.SystemC.Definitions.html#C"><span class="id" title="variable">C</span></a>)) <a class="idref" href="Top.SystemC.Definitions.html#E"><span class="id" title="variable">E</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">→</span></a><br/> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Top.SystemC.Definitions.html#E"><span class="id" title="variable">E</span></a> <a class="idref" href="Top.SystemC.Definitions.html#b0e42b705cf240294735f1d77c92cb6a"><span class="id" title="notation">@</span></a> <a class="idref" href="Top.SystemC.Definitions.html#R"><span class="id" title="variable">R</span></a> <a class="idref" href="Top.SystemC.Definitions.html#b0e42b705cf240294735f1d77c92cb6a"><span class="id" title="notation">;</span></a> <a class="idref" href="Top.SystemC.Definitions.html#Q"><span class="id" title="variable">Q</span></a> <a class="idref" href="Top.SystemC.Definitions.html#b0e42b705cf240294735f1d77c92cb6a"><span class="id" title="notation">|-</span></a><a class="idref" href="Top.SystemC.Definitions.html#b0e42b705cf240294735f1d77c92cb6a"><span class="id" title="notation">blk</span></a> <a class="idref" href="Top.SystemC.Definitions.html#b0e42b705cf240294735f1d77c92cb6a"><span class="id" title="notation">(</span></a><a class="idref" href="Top.SystemC.Definitions.html#blk_fvar"><span class="id" title="constructor">blk_fvar</span></a> <a class="idref" href="Top.SystemC.Definitions.html#f"><span class="id" title="variable">f</span></a><a class="idref" href="Top.SystemC.Definitions.html#b0e42b705cf240294735f1d77c92cb6a"><span class="id" title="notation">)</span></a> <a class="idref" href="Top.SystemC.Definitions.html#b0e42b705cf240294735f1d77c92cb6a"><span class="id" title="notation">~:</span></a> <a class="idref" href="Top.SystemC.Definitions.html#S1"><span class="id" title="variable">S1</span></a><br/> <br/> &nbsp;&nbsp;| <a name="typing_unbox"><span class="id" title="constructor">typing_unbox</span></a> : <span class="id" title="keyword">∀</span> <span class="id" title="var">E</span> <span class="id" title="var">R</span> <span class="id" title="var">Q</span> <span class="id" title="var">e</span> <span class="id" title="var">S1</span> <span class="id" title="var">C</span>,<br/> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Top.SystemC.Definitions.html#E"><span class="id" title="variable">E</span></a> <a class="idref" href="Top.SystemC.Definitions.html#c70dfda9b7aff80af236bdc97244f86b"><span class="id" title="notation">;</span></a> <a class="idref" href="Top.SystemC.Definitions.html#Q"><span class="id" title="variable">Q</span></a> <a class="idref" href="Top.SystemC.Definitions.html#c70dfda9b7aff80af236bdc97244f86b"><span class="id" title="notation">|-</span></a><a class="idref" href="Top.SystemC.Definitions.html#c70dfda9b7aff80af236bdc97244f86b"><span class="id" title="notation">exp</span></a> <a class="idref" href="Top.SystemC.Definitions.html#e"><span class="id" title="variable">e</span></a> <a class="idref" href="Top.SystemC.Definitions.html#c70dfda9b7aff80af236bdc97244f86b"><span class="id" title="notation">~:</span></a> <a class="idref" href="Top.SystemC.Definitions.html#c70dfda9b7aff80af236bdc97244f86b"><span class="id" title="notation">(</span></a><a class="idref" href="Top.SystemC.Definitions.html#typ_capt"><span class="id" title="constructor">typ_capt</span></a> <a class="idref" href="Top.SystemC.Definitions.html#S1"><span class="id" title="variable">S1</span></a> <a class="idref" href="Top.SystemC.Definitions.html#C"><span class="id" title="variable">C</span></a><a class="idref" href="Top.SystemC.Definitions.html#c70dfda9b7aff80af236bdc97244f86b"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">→</span></a><br/> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Top.SystemC.Definitions.html#wf_cap"><span class="id" title="inductive">wf_cap</span></a> <a class="idref" href="Top.SystemC.Definitions.html#E"><span class="id" title="variable">E</span></a> <a class="idref" href="Top.SystemC.Definitions.html#R"><span class="id" title="variable">R</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">→</span></a><br/> <br/> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Top.SystemC.Definitions.html#R"><span class="id" title="variable">R</span></a> <a class="idref" href="Top.SystemC.Definitions.html#11f615684d43d5ff020d0ffb9a3d8457"><span class="id" title="notation">|=</span></a> <a class="idref" href="Top.SystemC.Definitions.html#C"><span class="id" title="variable">C</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">→</span></a><br/> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Top.SystemC.Definitions.html#E"><span class="id" title="variable">E</span></a> <a class="idref" href="Top.SystemC.Definitions.html#b0e42b705cf240294735f1d77c92cb6a"><span class="id" title="notation">@</span></a> <a class="idref" href="Top.SystemC.Definitions.html#R"><span class="id" title="variable">R</span></a> <a class="idref" href="Top.SystemC.Definitions.html#b0e42b705cf240294735f1d77c92cb6a"><span class="id" title="notation">;</span></a> <a class="idref" href="Top.SystemC.Definitions.html#Q"><span class="id" title="variable">Q</span></a> <a class="idref" href="Top.SystemC.Definitions.html#b0e42b705cf240294735f1d77c92cb6a"><span class="id" title="notation">|-</span></a><a class="idref" href="Top.SystemC.Definitions.html#b0e42b705cf240294735f1d77c92cb6a"><span class="id" title="notation">blk</span></a> <a class="idref" href="Top.SystemC.Definitions.html#b0e42b705cf240294735f1d77c92cb6a"><span class="id" title="notation">(</span></a><a class="idref" href="Top.SystemC.Definitions.html#blk_unbox"><span class="id" title="constructor">blk_unbox</span></a> <a class="idref" href="Top.SystemC.Definitions.html#e"><span class="id" title="variable">e</span></a><a class="idref" href="Top.SystemC.Definitions.html#b0e42b705cf240294735f1d77c92cb6a"><span class="id" title="notation">)</span></a> <a class="idref" href="Top.SystemC.Definitions.html#b0e42b705cf240294735f1d77c92cb6a"><span class="id" title="notation">~:</span></a> <a class="idref" href="Top.SystemC.Definitions.html#S1"><span class="id" title="variable">S1</span></a><br/> <br/> &nbsp;&nbsp;| <a name="typing_vabs"><span class="id" title="constructor">typing_vabs</span></a> : <span class="id" title="keyword">∀</span> <span class="id" title="var">L</span> <span class="id" title="var">E</span> <span class="id" title="var">R</span> <span class="id" title="var">Q</span> <span class="id" title="var">T1</span> <span class="id" title="var">s</span> <span class="id" title="var">T2</span>,<br/> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">(</span></a><span class="id" title="keyword">∀</span> <span class="id" title="var">x</span> : <a class="idref" href="Top.Util.Atom.html#AtomImpl.atom"><span class="id" title="axiom">atom</span></a>, <a class="idref" href="Top.SystemC.Definitions.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="Top.Util.Metatheory.html#afed8734a485685888dccb4f977f99dd"><span class="id" title="notation">`</span></a><a class="idref" href="Top.Util.Metatheory.html#afed8734a485685888dccb4f977f99dd"><span class="id" title="notation">notin</span></a><a class="idref" href="Top.Util.Metatheory.html#afed8734a485685888dccb4f977f99dd"><span class="id" title="notation">`</span></a> <a class="idref" href="Top.SystemC.Definitions.html#L"><span class="id" title="variable">L</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">→</span></a><br/> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Top.SystemC.Definitions.html#9cede441202180a620a73f1df5e6bca6"><span class="id" title="notation">(</span></a><a class="idref" href="Top.Util.Environment.html#1e2518ff2e78f907c94429897ac7861a"><span class="id" title="notation">[</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="Top.SystemC.Definitions.html#x"><span class="id" title="variable">x</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="Top.SystemC.Definitions.html#bind_val"><span class="id" title="constructor">bind_val</span></a> <a class="idref" href="Top.SystemC.Definitions.html#T1"><span class="id" title="variable">T1</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a><a class="idref" href="Top.Util.Environment.html#1e2518ff2e78f907c94429897ac7861a"><span class="id" title="notation">]</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="Top.SystemC.Definitions.html#E"><span class="id" title="variable">E</span></a><a class="idref" href="Top.SystemC.Definitions.html#9cede441202180a620a73f1df5e6bca6"><span class="id" title="notation">)</span></a> <a class="idref" href="Top.SystemC.Definitions.html#9cede441202180a620a73f1df5e6bca6"><span class="id" title="notation">@</span></a> <a class="idref" href="Top.SystemC.Definitions.html#R"><span class="id" title="variable">R</span></a> <a class="idref" href="Top.SystemC.Definitions.html#9cede441202180a620a73f1df5e6bca6"><span class="id" title="notation">;</span></a> <a class="idref" href="Top.SystemC.Definitions.html#Q"><span class="id" title="variable">Q</span></a> <a class="idref" href="Top.SystemC.Definitions.html#9cede441202180a620a73f1df5e6bca6"><span class="id" title="notation">|-</span></a><a class="idref" href="Top.SystemC.Definitions.html#9cede441202180a620a73f1df5e6bca6"><span class="id" title="notation">stm</span></a> <a class="idref" href="Top.SystemC.Definitions.html#9cede441202180a620a73f1df5e6bca6"><span class="id" title="notation">(</span></a><a class="idref" href="Top.SystemC.Definitions.html#open_es"><span class="id" title="definition">open_es</span></a> <a class="idref" href="Top.SystemC.Definitions.html#s"><span class="id" title="variable">s</span></a> <a class="idref" href="Top.SystemC.Definitions.html#x"><span class="id" title="variable">x</span></a><a class="idref" href="Top.SystemC.Definitions.html#9cede441202180a620a73f1df5e6bca6"><span class="id" title="notation">)</span></a> <a class="idref" href="Top.SystemC.Definitions.html#9cede441202180a620a73f1df5e6bca6"><span class="id" title="notation">~:</span></a> <a class="idref" href="Top.SystemC.Definitions.html#T2"><span class="id" title="variable">T2</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">→</span></a><br/> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Top.SystemC.Definitions.html#E"><span class="id" title="variable">E</span></a> <a class="idref" href="Top.SystemC.Definitions.html#b0e42b705cf240294735f1d77c92cb6a"><span class="id" title="notation">@</span></a> <a class="idref" href="Top.SystemC.Definitions.html#R"><span class="id" title="variable">R</span></a> <a class="idref" href="Top.SystemC.Definitions.html#b0e42b705cf240294735f1d77c92cb6a"><span class="id" title="notation">;</span></a> <a class="idref" href="Top.SystemC.Definitions.html#Q"><span class="id" title="variable">Q</span></a> <a class="idref" href="Top.SystemC.Definitions.html#b0e42b705cf240294735f1d77c92cb6a"><span class="id" title="notation">|-</span></a><a class="idref" href="Top.SystemC.Definitions.html#b0e42b705cf240294735f1d77c92cb6a"><span class="id" title="notation">blk</span></a> <a class="idref" href="Top.SystemC.Definitions.html#b0e42b705cf240294735f1d77c92cb6a"><span class="id" title="notation">(</span></a><a class="idref" href="Top.SystemC.Definitions.html#blk_vabs"><span class="id" title="constructor">blk_vabs</span></a> <a class="idref" href="Top.SystemC.Definitions.html#T1"><span class="id" title="variable">T1</span></a> <a class="idref" href="Top.SystemC.Definitions.html#s"><span class="id" title="variable">s</span></a><a class="idref" href="Top.SystemC.Definitions.html#b0e42b705cf240294735f1d77c92cb6a"><span class="id" title="notation">)</span></a> <a class="idref" href="Top.SystemC.Definitions.html#b0e42b705cf240294735f1d77c92cb6a"><span class="id" title="notation">~:</span></a> <a class="idref" href="Top.SystemC.Definitions.html#b0e42b705cf240294735f1d77c92cb6a"><span class="id" title="notation">(</span></a><a class="idref" href="Top.SystemC.Definitions.html#typ_vfun"><span class="id" title="constructor">typ_vfun</span></a> <a class="idref" href="Top.SystemC.Definitions.html#T1"><span class="id" title="variable">T1</span></a> <a class="idref" href="Top.SystemC.Definitions.html#T2"><span class="id" title="variable">T2</span></a><a class="idref" href="Top.SystemC.Definitions.html#b0e42b705cf240294735f1d77c92cb6a"><span class="id" title="notation">)</span></a><br/> <br/> &nbsp;&nbsp;| <a name="typing_babs"><span class="id" title="constructor">typing_babs</span></a> : <span class="id" title="keyword">∀</span> <span class="id" title="var">L</span> <span class="id" title="var">E</span> <span class="id" title="var">R</span> <span class="id" title="var">Q</span> <span class="id" title="var">S1</span> <span class="id" title="var">s</span> <span class="id" title="var">T2</span>,<br/> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">(</span></a><span class="id" title="keyword">∀</span> <span class="id" title="var">x</span> : <a class="idref" href="Top.Util.Atom.html#AtomImpl.atom"><span class="id" title="axiom">atom</span></a>, <a class="idref" href="Top.SystemC.Definitions.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="Top.Util.Metatheory.html#afed8734a485685888dccb4f977f99dd"><span class="id" title="notation">`</span></a><a class="idref" href="Top.Util.Metatheory.html#afed8734a485685888dccb4f977f99dd"><span class="id" title="notation">notin</span></a><a class="idref" href="Top.Util.Metatheory.html#afed8734a485685888dccb4f977f99dd"><span class="id" title="notation">`</span></a> <a class="idref" href="Top.SystemC.Definitions.html#L"><span class="id" title="variable">L</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">→</span></a><br/> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Top.SystemC.Definitions.html#9cede441202180a620a73f1df5e6bca6"><span class="id" title="notation">(</span></a><a class="idref" href="Top.Util.Environment.html#1e2518ff2e78f907c94429897ac7861a"><span class="id" title="notation">[</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="Top.SystemC.Definitions.html#x"><span class="id" title="variable">x</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="Top.SystemC.Definitions.html#bind_blk"><span class="id" title="constructor">bind_blk</span></a> <a class="idref" href="Top.SystemC.Definitions.html#S1"><span class="id" title="variable">S1</span></a> <a class="idref" href="Top.SystemC.Definitions.html#tracked"><span class="id" title="constructor">tracked</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a><a class="idref" href="Top.Util.Environment.html#1e2518ff2e78f907c94429897ac7861a"><span class="id" title="notation">]</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="Top.SystemC.Definitions.html#E"><span class="id" title="variable">E</span></a><a class="idref" href="Top.SystemC.Definitions.html#9cede441202180a620a73f1df5e6bca6"><span class="id" title="notation">)</span></a> <a class="idref" href="Top.SystemC.Definitions.html#9cede441202180a620a73f1df5e6bca6"><span class="id" title="notation">@</span></a> <a class="idref" href="Top.SystemC.CaptureSets.html#cset_union"><span class="id" title="definition">cset_union</span></a> <a class="idref" href="Top.SystemC.Definitions.html#R"><span class="id" title="variable">R</span></a> (<a class="idref" href="Top.SystemC.CaptureSets.html#cset_fvar"><span class="id" title="definition">cset_fvar</span></a> <a class="idref" href="Top.SystemC.Definitions.html#x"><span class="id" title="variable">x</span></a>) <a class="idref" href="Top.SystemC.Definitions.html#9cede441202180a620a73f1df5e6bca6"><span class="id" title="notation">;</span></a> <a class="idref" href="Top.SystemC.Definitions.html#Q"><span class="id" title="variable">Q</span></a> <a class="idref" href="Top.SystemC.Definitions.html#9cede441202180a620a73f1df5e6bca6"><span class="id" title="notation">|-</span></a><a class="idref" href="Top.SystemC.Definitions.html#9cede441202180a620a73f1df5e6bca6"><span class="id" title="notation">stm</span></a> <a class="idref" href="Top.SystemC.Definitions.html#9cede441202180a620a73f1df5e6bca6"><span class="id" title="notation">(</span></a><a class="idref" href="Top.SystemC.Definitions.html#open_cs"><span class="id" title="definition">open_cs</span></a> <a class="idref" href="Top.SystemC.Definitions.html#s"><span class="id" title="variable">s</span></a> <a class="idref" href="Top.SystemC.Definitions.html#x"><span class="id" title="variable">x</span></a> (<a class="idref" href="Top.SystemC.CaptureSets.html#cset_fvar"><span class="id" title="definition">cset_fvar</span></a> <a class="idref" href="Top.SystemC.Definitions.html#x"><span class="id" title="variable">x</span></a>)<a class="idref" href="Top.SystemC.Definitions.html#9cede441202180a620a73f1df5e6bca6"><span class="id" title="notation">)</span></a> <a class="idref" href="Top.SystemC.Definitions.html#9cede441202180a620a73f1df5e6bca6"><span class="id" title="notation">~:</span></a> <a class="idref" href="Top.SystemC.Definitions.html#9cede441202180a620a73f1df5e6bca6"><span class="id" title="notation">(</span></a><a class="idref" href="Top.SystemC.Definitions.html#open_cvt"><span class="id" title="definition">open_cvt</span></a> <a class="idref" href="Top.SystemC.Definitions.html#T2"><span class="id" title="variable">T2</span></a> (<a class="idref" href="Top.SystemC.CaptureSets.html#cset_fvar"><span class="id" title="definition">cset_fvar</span></a> <a class="idref" href="Top.SystemC.Definitions.html#x"><span class="id" title="variable">x</span></a>)<a class="idref" href="Top.SystemC.Definitions.html#9cede441202180a620a73f1df5e6bca6"><span class="id" title="notation">)</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">→</span></a><br/> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Top.SystemC.Definitions.html#E"><span class="id" title="variable">E</span></a> <a class="idref" href="Top.SystemC.Definitions.html#b0e42b705cf240294735f1d77c92cb6a"><span class="id" title="notation">@</span></a> <a class="idref" href="Top.SystemC.Definitions.html#R"><span class="id" title="variable">R</span></a> <a class="idref" href="Top.SystemC.Definitions.html#b0e42b705cf240294735f1d77c92cb6a"><span class="id" title="notation">;</span></a> <a class="idref" href="Top.SystemC.Definitions.html#Q"><span class="id" title="variable">Q</span></a> <a class="idref" href="Top.SystemC.Definitions.html#b0e42b705cf240294735f1d77c92cb6a"><span class="id" title="notation">|-</span></a><a class="idref" href="Top.SystemC.Definitions.html#b0e42b705cf240294735f1d77c92cb6a"><span class="id" title="notation">blk</span></a> <a class="idref" href="Top.SystemC.Definitions.html#b0e42b705cf240294735f1d77c92cb6a"><span class="id" title="notation">(</span></a><a class="idref" href="Top.SystemC.Definitions.html#blk_babs"><span class="id" title="constructor">blk_babs</span></a> <a class="idref" href="Top.SystemC.Definitions.html#S1"><span class="id" title="variable">S1</span></a> <a class="idref" href="Top.SystemC.Definitions.html#s"><span class="id" title="variable">s</span></a><a class="idref" href="Top.SystemC.Definitions.html#b0e42b705cf240294735f1d77c92cb6a"><span class="id" title="notation">)</span></a> <a class="idref" href="Top.SystemC.Definitions.html#b0e42b705cf240294735f1d77c92cb6a"><span class="id" title="notation">~:</span></a> <a class="idref" href="Top.SystemC.Definitions.html#b0e42b705cf240294735f1d77c92cb6a"><span class="id" title="notation">(</span></a><a class="idref" href="Top.SystemC.Definitions.html#typ_bfun"><span class="id" title="constructor">typ_bfun</span></a> <a class="idref" href="Top.SystemC.Definitions.html#S1"><span class="id" title="variable">S1</span></a> <a class="idref" href="Top.SystemC.Definitions.html#T2"><span class="id" title="variable">T2</span></a><a class="idref" href="Top.SystemC.Definitions.html#b0e42b705cf240294735f1d77c92cb6a"><span class="id" title="notation">)</span></a><br/> <br/> <br/> </div> <div class="doc"> <a name="lab136"></a> <h4 class="section"> Differences to the paper </h4> Note that we build in subsumption on blocks (rule BSUB in the paper) into the rules as additional premises, instead of having one additional rule. This allows us to omit having to prove inversion of subeffecting. <div class="paragraph"> </div> Instead, in <span class="inlinecode"><span class="id" title="var">SystemC.Substitution.btyping_weaken_restriction</span></span> we show that rule SUB is admissible (and similar for subsumption on statements). <div class="paragraph"> </div> In the paper, we use <span class="inlinecode"><a class="idref" href="Top.SystemC.CaptureSets.html#Props.C"><span class="id" title="variable">C</span></a></span> for capture sets, but in the mechanization we speak of restrictions and use the metavariable <span class="inlinecode"><a class="idref" href="Top.SystemC.CaptureSets.html#Props.R"><span class="id" title="variable">R</span></a></span> <div class="paragraph"> </div> Rules from the paper map in the following way to the mechanization: <ul class="doclist"> <li> <tt>TRACKED</tt> maps to <span class="inlinecode"><a class="idref" href="Top.SystemC.Definitions.html#typing_bvar_tracked"><span class="id" title="constructor">typing_bvar_tracked</span></a></span> </li> <li> <tt>TRANSPARENT</tt> maps to <span class="inlinecode"><a class="idref" href="Top.SystemC.Definitions.html#typing_bvar_capture"><span class="id" title="constructor">typing_bvar_capture</span></a></span> </li> <li> <tt>BLOCK</tt> maps to <span class="inlinecode"><a class="idref" href="Top.SystemC.Definitions.html#typing_vabs"><span class="id" title="constructor">typing_vabs</span></a></span> and <span class="inlinecode"><a class="idref" href="Top.SystemC.Definitions.html#typing_babs"><span class="id" title="constructor">typing_babs</span></a></span> </li> <li> <tt>BOXELIM</tt> maps to <span class="inlinecode"><a class="idref" href="Top.SystemC.Definitions.html#typing_unbox"><span class="id" title="constructor">typing_unbox</span></a></span> <div class="paragraph"> </div> </li> </ul> <a name="lab137"></a> <h3 class="section"> Additional Rules for Type Polymorphism </h3> </div> <div class="code"> <br/> <br/> &nbsp;&nbsp;| <a name="typing_tabs"><span class="id" title="constructor">typing_tabs</span></a> : <span class="id" title="keyword">∀</span> <span class="id" title="var">L</span> <span class="id" title="var">E</span> <span class="id" title="var">R</span> <span class="id" title="var">Q</span> <span class="id" title="var">s</span> <span class="id" title="var">T</span>,<br/> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">(</span></a><span class="id" title="keyword">∀</span> <span class="id" title="var">X</span> : <a class="idref" href="Top.Util.Atom.html#AtomImpl.atom"><span class="id" title="axiom">atom</span></a>, <a class="idref" href="Top.SystemC.Definitions.html#X"><span class="id" title="variable">X</span></a> <a class="idref" href="Top.Util.Metatheory.html#afed8734a485685888dccb4f977f99dd"><span class="id" title="notation">`</span></a><a class="idref" href="Top.Util.Metatheory.html#afed8734a485685888dccb4f977f99dd"><span class="id" title="notation">notin</span></a><a class="idref" href="Top.Util.Metatheory.html#afed8734a485685888dccb4f977f99dd"><span class="id" title="notation">`</span></a> <a class="idref" href="Top.SystemC.Definitions.html#L"><span class="id" title="variable">L</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">→</span></a><br/> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Top.SystemC.Definitions.html#b0e42b705cf240294735f1d77c92cb6a"><span class="id" title="notation">(</span></a><a class="idref" href="Top.Util.Environment.html#1e2518ff2e78f907c94429897ac7861a"><span class="id" title="notation">[</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="Top.SystemC.Definitions.html#X"><span class="id" title="variable">X</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="Top.SystemC.Definitions.html#bind_typ"><span class="id" title="constructor">bind_typ</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a><a class="idref" href="Top.Util.Environment.html#1e2518ff2e78f907c94429897ac7861a"><span class="id" title="notation">]</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="Top.SystemC.Definitions.html#E"><span class="id" title="variable">E</span></a><a class="idref" href="Top.SystemC.Definitions.html#b0e42b705cf240294735f1d77c92cb6a"><span class="id" title="notation">)</span></a> <a class="idref" href="Top.SystemC.Definitions.html#b0e42b705cf240294735f1d77c92cb6a"><span class="id" title="notation">@</span></a> <a class="idref" href="Top.SystemC.Definitions.html#R"><span class="id" title="variable">R</span></a> <a class="idref" href="Top.SystemC.Definitions.html#b0e42b705cf240294735f1d77c92cb6a"><span class="id" title="notation">;</span></a> <a class="idref" href="Top.SystemC.Definitions.html#Q"><span class="id" title="variable">Q</span></a> <a class="idref" href="Top.SystemC.Definitions.html#b0e42b705cf240294735f1d77c92cb6a"><span class="id" title="notation">|-</span></a><a class="idref" href="Top.SystemC.Definitions.html#b0e42b705cf240294735f1d77c92cb6a"><span class="id" title="notation">blk</span></a> <a class="idref" href="Top.SystemC.Definitions.html#b0e42b705cf240294735f1d77c92cb6a"><span class="id" title="notation">(</span></a><a class="idref" href="Top.SystemC.Definitions.html#open_tb"><span class="id" title="definition">open_tb</span></a> <a class="idref" href="Top.SystemC.Definitions.html#s"><span class="id" title="variable">s</span></a> <a class="idref" href="Top.SystemC.Definitions.html#X"><span class="id" title="variable">X</span></a><a class="idref" href="Top.SystemC.Definitions.html#b0e42b705cf240294735f1d77c92cb6a"><span class="id" title="notation">)</span></a> <a class="idref" href="Top.SystemC.Definitions.html#b0e42b705cf240294735f1d77c92cb6a"><span class="id" title="notation">~:</span></a> <a class="idref" href="Top.SystemC.Definitions.html#b0e42b705cf240294735f1d77c92cb6a"><span class="id" title="notation">(</span></a><a class="idref" href="Top.SystemC.Definitions.html#open_tbt"><span class="id" title="definition">open_tbt</span></a> <a class="idref" href="Top.SystemC.Definitions.html#T"><span class="id" title="variable">T</span></a> <a class="idref" href="Top.SystemC.Definitions.html#X"><span class="id" title="variable">X</span></a><a class="idref" href="Top.SystemC.Definitions.html#b0e42b705cf240294735f1d77c92cb6a"><span class="id" title="notation">)</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">→</span></a><br/> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Top.SystemC.Definitions.html#E"><span class="id" title="variable">E</span></a> <a class="idref" href="Top.SystemC.Definitions.html#b0e42b705cf240294735f1d77c92cb6a"><span class="id" title="notation">@</span></a> <a class="idref" href="Top.SystemC.Definitions.html#R"><span class="id" title="variable">R</span></a> <a class="idref" href="Top.SystemC.Definitions.html#b0e42b705cf240294735f1d77c92cb6a"><span class="id" title="notation">;</span></a> <a class="idref" href="Top.SystemC.Definitions.html#Q"><span class="id" title="variable">Q</span></a> <a class="idref" href="Top.SystemC.Definitions.html#b0e42b705cf240294735f1d77c92cb6a"><span class="id" title="notation">|-</span></a><a class="idref" href="Top.SystemC.Definitions.html#b0e42b705cf240294735f1d77c92cb6a"><span class="id" title="notation">blk</span></a> <a class="idref" href="Top.SystemC.Definitions.html#b0e42b705cf240294735f1d77c92cb6a"><span class="id" title="notation">(</span></a><a class="idref" href="Top.SystemC.Definitions.html#blk_tabs"><span class="id" title="constructor">blk_tabs</span></a> <a class="idref" href="Top.SystemC.Definitions.html#s"><span class="id" title="variable">s</span></a><a class="idref" href="Top.SystemC.Definitions.html#b0e42b705cf240294735f1d77c92cb6a"><span class="id" title="notation">)</span></a> <a class="idref" href="Top.SystemC.Definitions.html#b0e42b705cf240294735f1d77c92cb6a"><span class="id" title="notation">~:</span></a> <a class="idref" href="Top.SystemC.Definitions.html#b0e42b705cf240294735f1d77c92cb6a"><span class="id" title="notation">(</span></a><a class="idref" href="Top.SystemC.Definitions.html#typ_tfun"><span class="id" title="constructor">typ_tfun</span></a> <a class="idref" href="Top.SystemC.Definitions.html#T"><span class="id" title="variable">T</span></a><a class="idref" href="Top.SystemC.Definitions.html#b0e42b705cf240294735f1d77c92cb6a"><span class="id" title="notation">)</span></a><br/> <br/> &nbsp;&nbsp;| <a name="typing_tapp"><span class="id" title="constructor">typing_tapp</span></a> : <span class="id" title="keyword">∀</span> <span class="id" title="var">E</span> <span class="id" title="var">R</span> <span class="id" title="var">Q</span> <span class="id" title="var">s</span> <span class="id" title="var">T</span> <span class="id" title="var">T1</span>,<br/> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Top.SystemC.Definitions.html#wf_vtyp"><span class="id" title="inductive">wf_vtyp</span></a> <a class="idref" href="Top.SystemC.Definitions.html#E"><span class="id" title="variable">E</span></a> <a class="idref" href="Top.SystemC.Definitions.html#T1"><span class="id" title="variable">T1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">→</span></a><br/> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Top.SystemC.Definitions.html#E"><span class="id" title="variable">E</span></a> <a class="idref" href="Top.SystemC.Definitions.html#b0e42b705cf240294735f1d77c92cb6a"><span class="id" title="notation">@</span></a> <a class="idref" href="Top.SystemC.Definitions.html#R"><span class="id" title="variable">R</span></a> <a class="idref" href="Top.SystemC.Definitions.html#b0e42b705cf240294735f1d77c92cb6a"><span class="id" title="notation">;</span></a> <a class="idref" href="Top.SystemC.Definitions.html#Q"><span class="id" title="variable">Q</span></a> <a class="idref" href="Top.SystemC.Definitions.html#b0e42b705cf240294735f1d77c92cb6a"><span class="id" title="notation">|-</span></a><a class="idref" href="Top.SystemC.Definitions.html#b0e42b705cf240294735f1d77c92cb6a"><span class="id" title="notation">blk</span></a> <a class="idref" href="Top.SystemC.Definitions.html#s"><span class="id" title="variable">s</span></a> <a class="idref" href="Top.SystemC.Definitions.html#b0e42b705cf240294735f1d77c92cb6a"><span class="id" title="notation">~:</span></a> <a class="idref" href="Top.SystemC.Definitions.html#b0e42b705cf240294735f1d77c92cb6a"><span class="id" title="notation">(</span></a><a class="idref" href="Top.SystemC.Definitions.html#typ_tfun"><span class="id" title="constructor">typ_tfun</span></a> <a class="idref" href="Top.SystemC.Definitions.html#T"><span class="id" title="variable">T</span></a><a class="idref" href="Top.SystemC.Definitions.html#b0e42b705cf240294735f1d77c92cb6a"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">→</span></a><br/> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Top.SystemC.Definitions.html#E"><span class="id" title="variable">E</span></a> <a class="idref" href="Top.SystemC.Definitions.html#b0e42b705cf240294735f1d77c92cb6a"><span class="id" title="notation">@</span></a> <a class="idref" href="Top.SystemC.Definitions.html#R"><span class="id" title="variable">R</span></a> <a class="idref" href="Top.SystemC.Definitions.html#b0e42b705cf240294735f1d77c92cb6a"><span class="id" title="notation">;</span></a> <a class="idref" href="Top.SystemC.Definitions.html#Q"><span class="id" title="variable">Q</span></a> <a class="idref" href="Top.SystemC.Definitions.html#b0e42b705cf240294735f1d77c92cb6a"><span class="id" title="notation">|-</span></a><a class="idref" href="Top.SystemC.Definitions.html#b0e42b705cf240294735f1d77c92cb6a"><span class="id" title="notation">blk</span></a> <a class="idref" href="Top.SystemC.Definitions.html#b0e42b705cf240294735f1d77c92cb6a"><span class="id" title="notation">(</span></a><a class="idref" href="Top.SystemC.Definitions.html#blk_tapp"><span class="id" title="constructor">blk_tapp</span></a> <a class="idref" href="Top.SystemC.Definitions.html#s"><span class="id" title="variable">s</span></a> <a class="idref" href="Top.SystemC.Definitions.html#T1"><span class="id" title="variable">T1</span></a><a class="idref" href="Top.SystemC.Definitions.html#b0e42b705cf240294735f1d77c92cb6a"><span class="id" title="notation">)</span></a> <a class="idref" href="Top.SystemC.Definitions.html#b0e42b705cf240294735f1d77c92cb6a"><span class="id" title="notation">~:</span></a> <a class="idref" href="Top.SystemC.Definitions.html#b0e42b705cf240294735f1d77c92cb6a"><span class="id" title="notation">(</span></a><a class="idref" href="Top.SystemC.Definitions.html#open_tbt"><span class="id" title="definition">open_tbt</span></a> <a class="idref" href="Top.SystemC.Definitions.html#T"><span class="id" title="variable">T</span></a> <a class="idref" href="Top.SystemC.Definitions.html#T1"><span class="id" title="variable">T1</span></a><a class="idref" href="Top.SystemC.Definitions.html#b0e42b705cf240294735f1d77c92cb6a"><span class="id" title="notation">)</span></a><br/> <br/> </div> <div class="doc"> <a name="lab138"></a> <h3 class="section"> Typing Effect Handlers </h3> <img src="img/typing-cap.png" alt="Typing of handlers" class="fig" /> Like in the other rules, we bake subsumption into this rule. </div> <div class="code"> <br/> &nbsp;&nbsp;| <a name="typing_handler"><span class="id" title="constructor">typing_handler</span></a> : <span class="id" title="keyword">∀</span> <span class="id" title="var">E</span> <span class="id" title="var">R</span> <span class="id" title="var">Q</span> <span class="id" title="var">l</span> <span class="id" title="var">T1</span> <span class="id" title="var">T</span>,<br/> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Top.SystemC.Definitions.html#wf_env"><span class="id" title="inductive">wf_env</span></a> <a class="idref" href="Top.SystemC.Definitions.html#E"><span class="id" title="variable">E</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">→</span></a><br/> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Top.SystemC.Definitions.html#wf_sig"><span class="id" title="inductive">wf_sig</span></a> <a class="idref" href="Top.SystemC.Definitions.html#Q"><span class="id" title="variable">Q</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">→</span></a><br/> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Top.SystemC.Definitions.html#wf_cap"><span class="id" title="inductive">wf_cap</span></a> <a class="idref" href="Top.SystemC.Definitions.html#E"><span class="id" title="variable">E</span></a> <a class="idref" href="Top.SystemC.Definitions.html#R"><span class="id" title="variable">R</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">→</span></a><br/> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Top.SystemC.Definitions.html#wf_vtyp"><span class="id" title="inductive">wf_vtyp</span></a> <a class="idref" href="Top.SystemC.Definitions.html#E"><span class="id" title="variable">E</span></a> <a class="idref" href="Top.SystemC.Definitions.html#T"><span class="id" title="variable">T</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">→</span></a><br/> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;We&nbsp;are&nbsp;allowed&nbsp;to&nbsp;use&nbsp;l:&nbsp;*)</span><br/> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Top.SystemC.CaptureSets.html#cset_references_lvar"><span class="id" title="definition">cset_references_lvar</span></a> <a class="idref" href="Top.SystemC.Definitions.html#l"><span class="id" title="variable">l</span></a> <a class="idref" href="Top.SystemC.Definitions.html#R"><span class="id" title="variable">R</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">→</span></a><br/> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;It&nbsp;has&nbsp;the&nbsp;correct&nbsp;type&nbsp;*)</span><br/> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Top.Util.Signatures.html#Signatures.binds"><span class="id" title="definition">Signatures.binds</span></a> <a class="idref" href="Top.SystemC.Definitions.html#l"><span class="id" title="variable">l</span></a> (<a class="idref" href="Top.SystemC.Definitions.html#bind_sig"><span class="id" title="constructor">bind_sig</span></a> <a class="idref" href="Top.SystemC.Definitions.html#T1"><span class="id" title="variable">T1</span></a> <a class="idref" href="Top.SystemC.Definitions.html#T"><span class="id" title="variable">T</span></a>) <a class="idref" href="Top.SystemC.Definitions.html#Q"><span class="id" title="variable">Q</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">→</span></a><br/> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Top.SystemC.Definitions.html#E"><span class="id" title="variable">E</span></a> <a class="idref" href="Top.SystemC.Definitions.html#b0e42b705cf240294735f1d77c92cb6a"><span class="id" title="notation">@</span></a> <a class="idref" href="Top.SystemC.Definitions.html#R"><span class="id" title="variable">R</span></a> <a class="idref" href="Top.SystemC.Definitions.html#b0e42b705cf240294735f1d77c92cb6a"><span class="id" title="notation">;</span></a> <a class="idref" href="Top.SystemC.Definitions.html#Q"><span class="id" title="variable">Q</span></a> <a class="idref" href="Top.SystemC.Definitions.html#b0e42b705cf240294735f1d77c92cb6a"><span class="id" title="notation">|-</span></a><a class="idref" href="Top.SystemC.Definitions.html#b0e42b705cf240294735f1d77c92cb6a"><span class="id" title="notation">blk</span></a> <a class="idref" href="Top.SystemC.Definitions.html#blk_handler"><span class="id" title="constructor">blk_handler</span></a> <a class="idref" href="Top.SystemC.Definitions.html#l"><span class="id" title="variable">l</span></a> <a class="idref" href="Top.SystemC.Definitions.html#b0e42b705cf240294735f1d77c92cb6a"><span class="id" title="notation">~:</span></a> <a class="idref" href="Top.SystemC.Definitions.html#b0e42b705cf240294735f1d77c92cb6a"><span class="id" title="notation">(</span></a><a class="idref" href="Top.SystemC.Definitions.html#typ_exc"><span class="id" title="constructor">typ_exc</span></a> <a class="idref" href="Top.SystemC.Definitions.html#T1"><span class="id" title="variable">T1</span></a> <a class="idref" href="Top.SystemC.Definitions.html#T"><span class="id" title="variable">T</span></a><a class="idref" href="Top.SystemC.Definitions.html#b0e42b705cf240294735f1d77c92cb6a"><span class="id" title="notation">)</span></a><br/> <br/> <span class="id" title="keyword">where</span> <a name="b0e42b705cf240294735f1d77c92cb6a"><span class="id" title="notation">&quot;</span></a>E @ R ; Q |-blk b ~: S" := (<a class="idref" href="Top.SystemC.Definitions.html#btyping"><span class="id" title="inductive">btyping</span></a> <span class="id" title="var">E</span> <span class="id" title="var">R</span> <span class="id" title="var">Q</span> <span class="id" title="var">b</span> <span class="id" title="var">S</span>)<br/> <br/> </div> <div class="doc"> <a name="lab139"></a> <h2 class="section"> <a name="typing-statement"></a> Statement Typing </h2> <div class="paragraph"> </div> <img src="img/typing-statements.png" alt="Typing of statements" class="fig" /> </div> <div class="code"> <span class="id" title="keyword">with</span> <a name="styping"><span class="id" title="inductive">styping</span></a> : <a class="idref" href="Top.SystemC.Definitions.html#env"><span class="id" title="abbreviation">env</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">→</span></a> <a class="idref" href="Top.SystemC.CaptureSets.html#cap"><span class="id" title="inductive">cap</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">→</span></a> <a class="idref" href="Top.SystemC.Definitions.html#sig"><span class="id" title="abbreviation">sig</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">→</span></a> <a class="idref" href="Top.SystemC.Definitions.html#stm"><span class="id" title="inductive">stm</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">→</span></a> <a class="idref" href="Top.SystemC.Definitions.html#vtyp"><span class="id" title="inductive">vtyp</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">→</span></a> <span class="id" title="keyword">Prop</span> :=<br/> <br/> &nbsp;&nbsp;| <a name="typing_ret"><span class="id" title="constructor">typing_ret</span></a> : <span class="id" title="keyword">∀</span> <span class="id" title="var">E</span> <span class="id" title="var">R</span> <span class="id" title="var">Q</span> <span class="id" title="var">e</span> <span class="id" title="var">T</span>,<br/> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Top.SystemC.Definitions.html#E"><span class="id" title="variable">E</span></a> <a class="idref" href="Top.SystemC.Definitions.html#c70dfda9b7aff80af236bdc97244f86b"><span class="id" title="notation">;</span></a> <a class="idref" href="Top.SystemC.Definitions.html#Q"><span class="id" title="variable">Q</span></a> <a class="idref" href="Top.SystemC.Definitions.html#c70dfda9b7aff80af236bdc97244f86b"><span class="id" title="notation">|-</span></a><a class="idref" href="Top.SystemC.Definitions.html#c70dfda9b7aff80af236bdc97244f86b"><span class="id" title="notation">exp</span></a> <a class="idref" href="Top.SystemC.Definitions.html#e"><span class="id" title="variable">e</span></a> <a class="idref" href="Top.SystemC.Definitions.html#c70dfda9b7aff80af236bdc97244f86b"><span class="id" title="notation">~:</span></a> <a class="idref" href="Top.SystemC.Definitions.html#T"><span class="id" title="variable">T</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">→</span></a><br/> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Top.SystemC.Definitions.html#wf_cap"><span class="id" title="inductive">wf_cap</span></a> <a class="idref" href="Top.SystemC.Definitions.html#E"><span class="id" title="variable">E</span></a> <a class="idref" href="Top.SystemC.Definitions.html#R"><span class="id" title="variable">R</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">→</span></a><br/> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Top.SystemC.Definitions.html#E"><span class="id" title="variable">E</span></a> <a class="idref" href="Top.SystemC.Definitions.html#9cede441202180a620a73f1df5e6bca6"><span class="id" title="notation">@</span></a> <a class="idref" href="Top.SystemC.Definitions.html#R"><span class="id" title="variable">R</span></a> <a class="idref" href="Top.SystemC.Definitions.html#9cede441202180a620a73f1df5e6bca6"><span class="id" title="notation">;</span></a> <a class="idref" href="Top.SystemC.Definitions.html#Q"><span class="id" title="variable">Q</span></a> <a class="idref" href="Top.SystemC.Definitions.html#9cede441202180a620a73f1df5e6bca6"><span class="id" title="notation">|-</span></a><a class="idref" href="Top.SystemC.Definitions.html#9cede441202180a620a73f1df5e6bca6"><span class="id" title="notation">stm</span></a> <a class="idref" href="Top.SystemC.Definitions.html#9cede441202180a620a73f1df5e6bca6"><span class="id" title="notation">(</span></a><a class="idref" href="Top.SystemC.Definitions.html#stm_ret"><span class="id" title="constructor">stm_ret</span></a> <a class="idref" href="Top.SystemC.Definitions.html#e"><span class="id" title="variable">e</span></a><a class="idref" href="Top.SystemC.Definitions.html#9cede441202180a620a73f1df5e6bca6"><span class="id" title="notation">)</span></a> <a class="idref" href="Top.SystemC.Definitions.html#9cede441202180a620a73f1df5e6bca6"><span class="id" title="notation">~:</span></a> <a class="idref" href="Top.SystemC.Definitions.html#T"><span class="id" title="variable">T</span></a><br/> <br/> &nbsp;&nbsp;| <a name="typing_val"><span class="id" title="constructor">typing_val</span></a> : <span class="id" title="keyword">∀</span> <span class="id" title="var">L</span> <span class="id" title="var">E</span> <span class="id" title="var">R</span> <span class="id" title="var">Q</span> <span class="id" title="var">b</span> <span class="id" title="var">s</span> <span class="id" title="var">T1</span> <span class="id" title="var">T2</span>,<br/> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Top.SystemC.Definitions.html#E"><span class="id" title="variable">E</span></a> <a class="idref" href="Top.SystemC.Definitions.html#9cede441202180a620a73f1df5e6bca6"><span class="id" title="notation">@</span></a> <a class="idref" href="Top.SystemC.Definitions.html#R"><span class="id" title="variable">R</span></a> <a class="idref" href="Top.SystemC.Definitions.html#9cede441202180a620a73f1df5e6bca6"><span class="id" title="notation">;</span></a> <a class="idref" href="Top.SystemC.Definitions.html#Q"><span class="id" title="variable">Q</span></a> <a class="idref" href="Top.SystemC.Definitions.html#9cede441202180a620a73f1df5e6bca6"><span class="id" title="notation">|-</span></a><a class="idref" href="Top.SystemC.Definitions.html#9cede441202180a620a73f1df5e6bca6"><span class="id" title="notation">stm</span></a> <a class="idref" href="Top.SystemC.Definitions.html#b"><span class="id" title="variable">b</span></a> <a class="idref" href="Top.SystemC.Definitions.html#9cede441202180a620a73f1df5e6bca6"><span class="id" title="notation">~:</span></a> <a class="idref" href="Top.SystemC.Definitions.html#T1"><span class="id" title="variable">T1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">→</span></a><br/> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">(</span></a><span class="id" title="keyword">∀</span> <span class="id" title="var">x</span> : <a class="idref" href="Top.Util.Atom.html#AtomImpl.atom"><span class="id" title="axiom">atom</span></a>, <a class="idref" href="Top.SystemC.Definitions.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="Top.Util.Metatheory.html#afed8734a485685888dccb4f977f99dd"><span class="id" title="notation">`</span></a><a class="idref" href="Top.Util.Metatheory.html#afed8734a485685888dccb4f977f99dd"><span class="id" title="notation">notin</span></a><a class="idref" href="Top.Util.Metatheory.html#afed8734a485685888dccb4f977f99dd"><span class="id" title="notation">`</span></a> <a class="idref" href="Top.SystemC.Definitions.html#L"><span class="id" title="variable">L</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">→</span></a><br/> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Top.SystemC.Definitions.html#9cede441202180a620a73f1df5e6bca6"><span class="id" title="notation">(</span></a><a class="idref" href="Top.Util.Environment.html#1e2518ff2e78f907c94429897ac7861a"><span class="id" title="notation">[</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="Top.SystemC.Definitions.html#x"><span class="id" title="variable">x</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="Top.SystemC.Definitions.html#bind_val"><span class="id" title="constructor">bind_val</span></a> <a class="idref" href="Top.SystemC.Definitions.html#T1"><span class="id" title="variable">T1</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a><a class="idref" href="Top.Util.Environment.html#1e2518ff2e78f907c94429897ac7861a"><span class="id" title="notation">]</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="Top.SystemC.Definitions.html#E"><span class="id" title="variable">E</span></a><a class="idref" href="Top.SystemC.Definitions.html#9cede441202180a620a73f1df5e6bca6"><span class="id" title="notation">)</span></a> <a class="idref" href="Top.SystemC.Definitions.html#9cede441202180a620a73f1df5e6bca6"><span class="id" title="notation">@</span></a> <a class="idref" href="Top.SystemC.Definitions.html#R"><span class="id" title="variable">R</span></a> <a class="idref" href="Top.SystemC.Definitions.html#9cede441202180a620a73f1df5e6bca6"><span class="id" title="notation">;</span></a> <a class="idref" href="Top.SystemC.Definitions.html#Q"><span class="id" title="variable">Q</span></a> <a class="idref" href="Top.SystemC.Definitions.html#9cede441202180a620a73f1df5e6bca6"><span class="id" title="notation">|-</span></a><a class="idref" href="Top.SystemC.Definitions.html#9cede441202180a620a73f1df5e6bca6"><span class="id" title="notation">stm</span></a> <a class="idref" href="Top.SystemC.Definitions.html#9cede441202180a620a73f1df5e6bca6"><span class="id" title="notation">(</span></a><a class="idref" href="Top.SystemC.Definitions.html#open_es"><span class="id" title="definition">open_es</span></a> <a class="idref" href="Top.SystemC.Definitions.html#s"><span class="id" title="variable">s</span></a> <a class="idref" href="Top.SystemC.Definitions.html#x"><span class="id" title="variable">x</span></a><a class="idref" href="Top.SystemC.Definitions.html#9cede441202180a620a73f1df5e6bca6"><span class="id" title="notation">)</span></a> <a class="idref" href="Top.SystemC.Definitions.html#9cede441202180a620a73f1df5e6bca6"><span class="id" title="notation">~:</span></a> <a class="idref" href="Top.SystemC.Definitions.html#T2"><span class="id" title="variable">T2</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">→</span></a><br/> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Top.SystemC.Definitions.html#E"><span class="id" title="variable">E</span></a> <a class="idref" href="Top.SystemC.Definitions.html#9cede441202180a620a73f1df5e6bca6"><span class="id" title="notation">@</span></a> <a class="idref" href="Top.SystemC.Definitions.html#R"><span class="id" title="variable">R</span></a> <a class="idref" href="Top.SystemC.Definitions.html#9cede441202180a620a73f1df5e6bca6"><span class="id" title="notation">;</span></a> <a class="idref" href="Top.SystemC.Definitions.html#Q"><span class="id" title="variable">Q</span></a> <a class="idref" href="Top.SystemC.Definitions.html#9cede441202180a620a73f1df5e6bca6"><span class="id" title="notation">|-</span></a><a class="idref" href="Top.SystemC.Definitions.html#9cede441202180a620a73f1df5e6bca6"><span class="id" title="notation">stm</span></a> <a class="idref" href="Top.SystemC.Definitions.html#9cede441202180a620a73f1df5e6bca6"><span class="id" title="notation">(</span></a><a class="idref" href="Top.SystemC.Definitions.html#stm_val"><span class="id" title="constructor">stm_val</span></a> <a class="idref" href="Top.SystemC.Definitions.html#T1"><span class="id" title="variable">T1</span></a> <a class="idref" href="Top.SystemC.Definitions.html#b"><span class="id" title="variable">b</span></a> <a class="idref" href="Top.SystemC.Definitions.html#s"><span class="id" title="variable">s</span></a><a class="idref" href="Top.SystemC.Definitions.html#9cede441202180a620a73f1df5e6bca6"><span class="id" title="notation">)</span></a> <a class="idref" href="Top.SystemC.Definitions.html#9cede441202180a620a73f1df5e6bca6"><span class="id" title="notation">~:</span></a> <a class="idref" href="Top.SystemC.Definitions.html#T2"><span class="id" title="variable">T2</span></a><br/> <br/> &nbsp;&nbsp;| <a name="typing_def"><span class="id" title="constructor">typing_def</span></a> : <span class="id" title="keyword">∀</span> <span class="id" title="var">L</span> <span class="id" title="var">E</span> <span class="id" title="var">R</span> <span class="id" title="var">Q</span> <span class="id" title="var">b</span> <span class="id" title="var">s</span> (<span class="id" title="var">C</span> : <a class="idref" href="Top.SystemC.CaptureSets.html#cap"><span class="id" title="inductive">cap</span></a>) <span class="id" title="var">S1</span> <span class="id" title="var">T2</span>,<br/> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Top.SystemC.Definitions.html#wf_cap"><span class="id" title="inductive">wf_cap</span></a> <a class="idref" href="Top.SystemC.Definitions.html#E"><span class="id" title="variable">E</span></a> <a class="idref" href="Top.SystemC.Definitions.html#C"><span class="id" title="variable">C</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">→</span></a><br/> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Top.SystemC.Definitions.html#E"><span class="id" title="variable">E</span></a> <a class="idref" href="Top.SystemC.Definitions.html#b0e42b705cf240294735f1d77c92cb6a"><span class="id" title="notation">@</span></a> <a class="idref" href="Top.SystemC.Definitions.html#C"><span class="id" title="variable">C</span></a> <a class="idref" href="Top.SystemC.Definitions.html#b0e42b705cf240294735f1d77c92cb6a"><span class="id" title="notation">;</span></a> <a class="idref" href="Top.SystemC.Definitions.html#Q"><span class="id" title="variable">Q</span></a> <a class="idref" href="Top.SystemC.Definitions.html#b0e42b705cf240294735f1d77c92cb6a"><span class="id" title="notation">|-</span></a><a class="idref" href="Top.SystemC.Definitions.html#b0e42b705cf240294735f1d77c92cb6a"><span class="id" title="notation">blk</span></a> <a class="idref" href="Top.SystemC.Definitions.html#b"><span class="id" title="variable">b</span></a> <a class="idref" href="Top.SystemC.Definitions.html#b0e42b705cf240294735f1d77c92cb6a"><span class="id" title="notation">~:</span></a> <a class="idref" href="Top.SystemC.Definitions.html#S1"><span class="id" title="variable">S1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">→</span></a><br/> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;This&nbsp;is&nbsp;a&nbsp;transparent&nbsp;binding&nbsp;(not&nbsp;tracked),&nbsp;we&nbsp;do&nbsp;not&nbsp;open&nbsp;types.&nbsp;*)</span><br/> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">(</span></a><span class="id" title="keyword">∀</span> <span class="id" title="var">x</span> : <a class="idref" href="Top.Util.Atom.html#AtomImpl.atom"><span class="id" title="axiom">atom</span></a>, <a class="idref" href="Top.SystemC.Definitions.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="Top.Util.Metatheory.html#afed8734a485685888dccb4f977f99dd"><span class="id" title="notation">`</span></a><a class="idref" href="Top.Util.Metatheory.html#afed8734a485685888dccb4f977f99dd"><span class="id" title="notation">notin</span></a><a class="idref" href="Top.Util.Metatheory.html#afed8734a485685888dccb4f977f99dd"><span class="id" title="notation">`</span></a> <a class="idref" href="Top.SystemC.Definitions.html#L"><span class="id" title="variable">L</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">→</span></a><br/> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Top.SystemC.Definitions.html#9cede441202180a620a73f1df5e6bca6"><span class="id" title="notation">(</span></a><a class="idref" href="Top.Util.Environment.html#1e2518ff2e78f907c94429897ac7861a"><span class="id" title="notation">[</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="Top.SystemC.Definitions.html#x"><span class="id" title="variable">x</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="Top.SystemC.Definitions.html#bind_blk"><span class="id" title="constructor">bind_blk</span></a> <a class="idref" href="Top.SystemC.Definitions.html#S1"><span class="id" title="variable">S1</span></a> (<a class="idref" href="Top.SystemC.Definitions.html#capture"><span class="id" title="constructor">capture</span></a> <a class="idref" href="Top.SystemC.Definitions.html#C"><span class="id" title="variable">C</span></a>)<a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a><a class="idref" href="Top.Util.Environment.html#1e2518ff2e78f907c94429897ac7861a"><span class="id" title="notation">]</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="Top.SystemC.Definitions.html#E"><span class="id" title="variable">E</span></a><a class="idref" href="Top.SystemC.Definitions.html#9cede441202180a620a73f1df5e6bca6"><span class="id" title="notation">)</span></a> <a class="idref" href="Top.SystemC.Definitions.html#9cede441202180a620a73f1df5e6bca6"><span class="id" title="notation">@</span></a> <a class="idref" href="Top.SystemC.Definitions.html#R"><span class="id" title="variable">R</span></a> <a class="idref" href="Top.SystemC.Definitions.html#9cede441202180a620a73f1df5e6bca6"><span class="id" title="notation">;</span></a> <a class="idref" href="Top.SystemC.Definitions.html#Q"><span class="id" title="variable">Q</span></a> <a class="idref" href="Top.SystemC.Definitions.html#9cede441202180a620a73f1df5e6bca6"><span class="id" title="notation">|-</span></a><a class="idref" href="Top.SystemC.Definitions.html#9cede441202180a620a73f1df5e6bca6"><span class="id" title="notation">stm</span></a> <a class="idref" href="Top.SystemC.Definitions.html#9cede441202180a620a73f1df5e6bca6"><span class="id" title="notation">(</span></a><a class="idref" href="Top.SystemC.Definitions.html#open_bs"><span class="id" title="definition">open_bs</span></a> <a class="idref" href="Top.SystemC.Definitions.html#s"><span class="id" title="variable">s</span></a> <a class="idref" href="Top.SystemC.Definitions.html#x"><span class="id" title="variable">x</span></a><a class="idref" href="Top.SystemC.Definitions.html#9cede441202180a620a73f1df5e6bca6"><span class="id" title="notation">)</span></a> <a class="idref" href="Top.SystemC.Definitions.html#9cede441202180a620a73f1df5e6bca6"><span class="id" title="notation">~:</span></a> <a class="idref" href="Top.SystemC.Definitions.html#T2"><span class="id" title="variable">T2</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">→</span></a><br/> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Top.SystemC.Definitions.html#E"><span class="id" title="variable">E</span></a> <a class="idref" href="Top.SystemC.Definitions.html#9cede441202180a620a73f1df5e6bca6"><span class="id" title="notation">@</span></a> <a class="idref" href="Top.SystemC.Definitions.html#R"><span class="id" title="variable">R</span></a> <a class="idref" href="Top.SystemC.Definitions.html#9cede441202180a620a73f1df5e6bca6"><span class="id" title="notation">;</span></a> <a class="idref" href="Top.SystemC.Definitions.html#Q"><span class="id" title="variable">Q</span></a> <a class="idref" href="Top.SystemC.Definitions.html#9cede441202180a620a73f1df5e6bca6"><span class="id" title="notation">|-</span></a><a class="idref" href="Top.SystemC.Definitions.html#9cede441202180a620a73f1df5e6bca6"><span class="id" title="notation">stm</span></a> <a class="idref" href="Top.SystemC.Definitions.html#9cede441202180a620a73f1df5e6bca6"><span class="id" title="notation">(</span></a><a class="idref" href="Top.SystemC.Definitions.html#stm_def"><span class="id" title="constructor">stm_def</span></a> <a class="idref" href="Top.SystemC.Definitions.html#C"><span class="id" title="variable">C</span></a> <a class="idref" href="Top.SystemC.Definitions.html#S1"><span class="id" title="variable">S1</span></a> <a class="idref" href="Top.SystemC.Definitions.html#b"><span class="id" title="variable">b</span></a> <a class="idref" href="Top.SystemC.Definitions.html#s"><span class="id" title="variable">s</span></a><a class="idref" href="Top.SystemC.Definitions.html#9cede441202180a620a73f1df5e6bca6"><span class="id" title="notation">)</span></a> <a class="idref" href="Top.SystemC.Definitions.html#9cede441202180a620a73f1df5e6bca6"><span class="id" title="notation">~:</span></a> <a class="idref" href="Top.SystemC.Definitions.html#T2"><span class="id" title="variable">T2</span></a><br/> <br/> &nbsp;&nbsp;| <a name="typing_vapp"><span class="id" title="constructor">typing_vapp</span></a> : <span class="id" title="keyword">∀</span> <span class="id" title="var">E</span> <span class="id" title="var">R</span> <span class="id" title="var">Q</span> <span class="id" title="var">b</span> <span class="id" title="var">e</span> <span class="id" title="var">T1</span> <span class="id" title="var">T2</span>,<br/> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Top.SystemC.Definitions.html#E"><span class="id" title="variable">E</span></a> <a class="idref" href="Top.SystemC.Definitions.html#b0e42b705cf240294735f1d77c92cb6a"><span class="id" title="notation">@</span></a> <a class="idref" href="Top.SystemC.Definitions.html#R"><span class="id" title="variable">R</span></a> <a class="idref" href="Top.SystemC.Definitions.html#b0e42b705cf240294735f1d77c92cb6a"><span class="id" title="notation">;</span></a> <a class="idref" href="Top.SystemC.Definitions.html#Q"><span class="id" title="variable">Q</span></a> <a class="idref" href="Top.SystemC.Definitions.html#b0e42b705cf240294735f1d77c92cb6a"><span class="id" title="notation">|-</span></a><a class="idref" href="Top.SystemC.Definitions.html#b0e42b705cf240294735f1d77c92cb6a"><span class="id" title="notation">blk</span></a> <a class="idref" href="Top.SystemC.Definitions.html#b"><span class="id" title="variable">b</span></a> <a class="idref" href="Top.SystemC.Definitions.html#b0e42b705cf240294735f1d77c92cb6a"><span class="id" title="notation">~:</span></a> <a class="idref" href="Top.SystemC.Definitions.html#b0e42b705cf240294735f1d77c92cb6a"><span class="id" title="notation">(</span></a><a class="idref" href="Top.SystemC.Definitions.html#typ_vfun"><span class="id" title="constructor">typ_vfun</span></a> <a class="idref" href="Top.SystemC.Definitions.html#T1"><span class="id" title="variable">T1</span></a> <a class="idref" href="Top.SystemC.Definitions.html#T2"><span class="id" title="variable">T2</span></a><a class="idref" href="Top.SystemC.Definitions.html#b0e42b705cf240294735f1d77c92cb6a"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">→</span></a><br/> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Top.SystemC.Definitions.html#E"><span class="id" title="variable">E</span></a> <a class="idref" href="Top.SystemC.Definitions.html#c70dfda9b7aff80af236bdc97244f86b"><span class="id" title="notation">;</span></a> <a class="idref" href="Top.SystemC.Definitions.html#Q"><span class="id" title="variable">Q</span></a> <a class="idref" href="Top.SystemC.Definitions.html#c70dfda9b7aff80af236bdc97244f86b"><span class="id" title="notation">|-</span></a><a class="idref" href="Top.SystemC.Definitions.html#c70dfda9b7aff80af236bdc97244f86b"><span class="id" title="notation">exp</span></a> <a class="idref" href="Top.SystemC.Definitions.html#e"><span class="id" title="variable">e</span></a> <a class="idref" href="Top.SystemC.Definitions.html#c70dfda9b7aff80af236bdc97244f86b"><span class="id" title="notation">~:</span></a> <a class="idref" href="Top.SystemC.Definitions.html#T1"><span class="id" title="variable">T1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">→</span></a><br/> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Top.SystemC.Definitions.html#E"><span class="id" title="variable">E</span></a> <a class="idref" href="Top.SystemC.Definitions.html#9cede441202180a620a73f1df5e6bca6"><span class="id" title="notation">@</span></a> <a class="idref" href="Top.SystemC.Definitions.html#R"><span class="id" title="variable">R</span></a> <a class="idref" href="Top.SystemC.Definitions.html#9cede441202180a620a73f1df5e6bca6"><span class="id" title="notation">;</span></a> <a class="idref" href="Top.SystemC.Definitions.html#Q"><span class="id" title="variable">Q</span></a> <a class="idref" href="Top.SystemC.Definitions.html#9cede441202180a620a73f1df5e6bca6"><span class="id" title="notation">|-</span></a><a class="idref" href="Top.SystemC.Definitions.html#9cede441202180a620a73f1df5e6bca6"><span class="id" title="notation">stm</span></a> <a class="idref" href="Top.SystemC.Definitions.html#9cede441202180a620a73f1df5e6bca6"><span class="id" title="notation">(</span></a><a class="idref" href="Top.SystemC.Definitions.html#stm_vapp"><span class="id" title="constructor">stm_vapp</span></a> <a class="idref" href="Top.SystemC.Definitions.html#b"><span class="id" title="variable">b</span></a> <a class="idref" href="Top.SystemC.Definitions.html#e"><span class="id" title="variable">e</span></a><a class="idref" href="Top.SystemC.Definitions.html#9cede441202180a620a73f1df5e6bca6"><span class="id" title="notation">)</span></a> <a class="idref" href="Top.SystemC.Definitions.html#9cede441202180a620a73f1df5e6bca6"><span class="id" title="notation">~:</span></a> <a class="idref" href="Top.SystemC.Definitions.html#T2"><span class="id" title="variable">T2</span></a><br/> <br/> &nbsp;&nbsp;| <a name="typing_bapp"><span class="id" title="constructor">typing_bapp</span></a> : <span class="id" title="keyword">∀</span> <span class="id" title="var">E</span> <span class="id" title="var">R</span> <span class="id" title="var">Q</span> <span class="id" title="var">b1</span> <span class="id" title="var">b2</span> (<span class="id" title="var">C</span> : <a class="idref" href="Top.SystemC.CaptureSets.html#cap"><span class="id" title="inductive">cap</span></a>) <span class="id" title="var">S1</span> <span class="id" title="var">T2</span>,<br/> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Top.SystemC.Definitions.html#R"><span class="id" title="variable">R</span></a> <a class="idref" href="Top.SystemC.Definitions.html#11f615684d43d5ff020d0ffb9a3d8457"><span class="id" title="notation">|=</span></a> <a class="idref" href="Top.SystemC.Definitions.html#C"><span class="id" title="variable">C</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">→</span></a><br/> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Top.SystemC.Definitions.html#wf_cap"><span class="id" title="inductive">wf_cap</span></a> <a class="idref" href="Top.SystemC.Definitions.html#E"><span class="id" title="variable">E</span></a> <a class="idref" href="Top.SystemC.Definitions.html#C"><span class="id" title="variable">C</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">→</span></a><br/> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Top.SystemC.Definitions.html#E"><span class="id" title="variable">E</span></a> <a class="idref" href="Top.SystemC.Definitions.html#b0e42b705cf240294735f1d77c92cb6a"><span class="id" title="notation">@</span></a> <a class="idref" href="Top.SystemC.Definitions.html#R"><span class="id" title="variable">R</span></a> <a class="idref" href="Top.SystemC.Definitions.html#b0e42b705cf240294735f1d77c92cb6a"><span class="id" title="notation">;</span></a> <a class="idref" href="Top.SystemC.Definitions.html#Q"><span class="id" title="variable">Q</span></a> <a class="idref" href="Top.SystemC.Definitions.html#b0e42b705cf240294735f1d77c92cb6a"><span class="id" title="notation">|-</span></a><a class="idref" href="Top.SystemC.Definitions.html#b0e42b705cf240294735f1d77c92cb6a"><span class="id" title="notation">blk</span></a> <a class="idref" href="Top.SystemC.Definitions.html#b1"><span class="id" title="variable">b1</span></a> <a class="idref" href="Top.SystemC.Definitions.html#b0e42b705cf240294735f1d77c92cb6a"><span class="id" title="notation">~:</span></a> <a class="idref" href="Top.SystemC.Definitions.html#b0e42b705cf240294735f1d77c92cb6a"><span class="id" title="notation">(</span></a><a class="idref" href="Top.SystemC.Definitions.html#typ_bfun"><span class="id" title="constructor">typ_bfun</span></a> <a class="idref" href="Top.SystemC.Definitions.html#S1"><span class="id" title="variable">S1</span></a> <a class="idref" href="Top.SystemC.Definitions.html#T2"><span class="id" title="variable">T2</span></a><a class="idref" href="Top.SystemC.Definitions.html#b0e42b705cf240294735f1d77c92cb6a"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">→</span></a><br/> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Top.SystemC.Definitions.html#E"><span class="id" title="variable">E</span></a> <a class="idref" href="Top.SystemC.Definitions.html#b0e42b705cf240294735f1d77c92cb6a"><span class="id" title="notation">@</span></a> <a class="idref" href="Top.SystemC.Definitions.html#C"><span class="id" title="variable">C</span></a> <a class="idref" href="Top.SystemC.Definitions.html#b0e42b705cf240294735f1d77c92cb6a"><span class="id" title="notation">;</span></a> <a class="idref" href="Top.SystemC.Definitions.html#Q"><span class="id" title="variable">Q</span></a> <a class="idref" href="Top.SystemC.Definitions.html#b0e42b705cf240294735f1d77c92cb6a"><span class="id" title="notation">|-</span></a><a class="idref" href="Top.SystemC.Definitions.html#b0e42b705cf240294735f1d77c92cb6a"><span class="id" title="notation">blk</span></a> <a class="idref" href="Top.SystemC.Definitions.html#b2"><span class="id" title="variable">b2</span></a> <a class="idref" href="Top.SystemC.Definitions.html#b0e42b705cf240294735f1d77c92cb6a"><span class="id" title="notation">~:</span></a> <a class="idref" href="Top.SystemC.Definitions.html#S1"><span class="id" title="variable">S1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">→</span></a><br/> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Top.SystemC.Definitions.html#E"><span class="id" title="variable">E</span></a> <a class="idref" href="Top.SystemC.Definitions.html#9cede441202180a620a73f1df5e6bca6"><span class="id" title="notation">@</span></a> <a class="idref" href="Top.SystemC.Definitions.html#R"><span class="id" title="variable">R</span></a> <a class="idref" href="Top.SystemC.Definitions.html#9cede441202180a620a73f1df5e6bca6"><span class="id" title="notation">;</span></a> <a class="idref" href="Top.SystemC.Definitions.html#Q"><span class="id" title="variable">Q</span></a> <a class="idref" href="Top.SystemC.Definitions.html#9cede441202180a620a73f1df5e6bca6"><span class="id" title="notation">|-</span></a><a class="idref" href="Top.SystemC.Definitions.html#9cede441202180a620a73f1df5e6bca6"><span class="id" title="notation">stm</span></a> <a class="idref" href="Top.SystemC.Definitions.html#9cede441202180a620a73f1df5e6bca6"><span class="id" title="notation">(</span></a><a class="idref" href="Top.SystemC.Definitions.html#stm_bapp"><span class="id" title="constructor">stm_bapp</span></a> <a class="idref" href="Top.SystemC.Definitions.html#b1"><span class="id" title="variable">b1</span></a> <a class="idref" href="Top.SystemC.Definitions.html#C"><span class="id" title="variable">C</span></a> <a class="idref" href="Top.SystemC.Definitions.html#b2"><span class="id" title="variable">b2</span></a><a class="idref" href="Top.SystemC.Definitions.html#9cede441202180a620a73f1df5e6bca6"><span class="id" title="notation">)</span></a> <a class="idref" href="Top.SystemC.Definitions.html#9cede441202180a620a73f1df5e6bca6"><span class="id" title="notation">~:</span></a> <a class="idref" href="Top.SystemC.Definitions.html#9cede441202180a620a73f1df5e6bca6"><span class="id" title="notation">(</span></a><a class="idref" href="Top.SystemC.Definitions.html#open_cvt"><span class="id" title="definition">open_cvt</span></a> <a class="idref" href="Top.SystemC.Definitions.html#T2"><span class="id" title="variable">T2</span></a> <a class="idref" href="Top.SystemC.Definitions.html#C"><span class="id" title="variable">C</span></a><a class="idref" href="Top.SystemC.Definitions.html#9cede441202180a620a73f1df5e6bca6"><span class="id" title="notation">)</span></a><br/> <br/> </div> <div class="doc"> <a name="lab140"></a> <h4 class="section"> Differences to the paper </h4> The rules correspond to the paper with the following mapping: <ul class="doclist"> <li> <tt>RET</tt> maps to <span class="inlinecode"><a class="idref" href="Top.SystemC.Definitions.html#typing_ret"><span class="id" title="constructor">typing_ret</span></a></span> </li> <li> <tt>VAL</tt> maps to <span class="inlinecode"><a class="idref" href="Top.SystemC.Definitions.html#typing_val"><span class="id" title="constructor">typing_val</span></a></span> </li> <li> <tt>DEF</tt> maps to <span class="inlinecode"><a class="idref" href="Top.SystemC.Definitions.html#typing_def"><span class="id" title="constructor">typing_def</span></a></span> </li> <li> <tt>APP</tt> maps to <span class="inlinecode"><a class="idref" href="Top.SystemC.Definitions.html#typing_vapp"><span class="id" title="constructor">typing_vapp</span></a></span> and <span class="inlinecode"><a class="idref" href="Top.SystemC.Definitions.html#typing_bapp"><span class="id" title="constructor">typing_bapp</span></a></span> <div class="paragraph"> </div> In rule <span class="inlinecode"><a class="idref" href="Top.SystemC.Definitions.html#typing_val"><span class="id" title="constructor">typing_val</span></a></span>, for simplicity we do not compute the union, but instead require both restrictions to be the same. This does not affect expressivity, since we can always use subsumption. <div class="paragraph"> </div> </li> </ul> <a name="lab141"></a> <h3 class="section"> Typing Handling of Effects </h3> <img src="img/typing-try.png" alt="Typing of handlers" class="fig" /> </div> <div class="code"> &nbsp;&nbsp;| <a name="typing_try"><span class="id" title="constructor">typing_try</span></a> : <span class="id" title="keyword">∀</span> <span class="id" title="var">L</span> <span class="id" title="var">E</span> <span class="id" title="var">R</span> <span class="id" title="var">Q</span> <span class="id" title="var">C</span> <span class="id" title="var">b</span> <span class="id" title="var">h</span> <span class="id" title="var">T</span> <span class="id" title="var">T1</span> <span class="id" title="var">T2</span>,<br/> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Top.SystemC.Definitions.html#R"><span class="id" title="variable">R</span></a> <a class="idref" href="Top.SystemC.Definitions.html#11f615684d43d5ff020d0ffb9a3d8457"><span class="id" title="notation">|=</span></a> <a class="idref" href="Top.SystemC.Definitions.html#C"><span class="id" title="variable">C</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">→</span></a><br/> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Top.SystemC.Definitions.html#wf_cap"><span class="id" title="inductive">wf_cap</span></a> <a class="idref" href="Top.SystemC.Definitions.html#E"><span class="id" title="variable">E</span></a> <a class="idref" href="Top.SystemC.Definitions.html#C"><span class="id" title="variable">C</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">→</span></a><br/> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Top.SystemC.Definitions.html#wf_cap"><span class="id" title="inductive">wf_cap</span></a> <a class="idref" href="Top.SystemC.Definitions.html#E"><span class="id" title="variable">E</span></a> <a class="idref" href="Top.SystemC.Definitions.html#R"><span class="id" title="variable">R</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">→</span></a><br/> <br/> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;E,&nbsp;f&nbsp;:&nbsp;(Exc&nbsp;@&nbsp;{*})&nbsp;@&nbsp;C&nbsp;union&nbsp;f&nbsp;|-&nbsp;h&nbsp;:&nbsp;T&nbsp;*)</span><br/> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">(</span></a><span class="id" title="keyword">∀</span> <span class="id" title="var">f</span> : <a class="idref" href="Top.Util.Atom.html#AtomImpl.atom"><span class="id" title="axiom">atom</span></a>, <a class="idref" href="Top.SystemC.Definitions.html#f"><span class="id" title="variable">f</span></a> <a class="idref" href="Top.Util.Metatheory.html#afed8734a485685888dccb4f977f99dd"><span class="id" title="notation">`</span></a><a class="idref" href="Top.Util.Metatheory.html#afed8734a485685888dccb4f977f99dd"><span class="id" title="notation">notin</span></a><a class="idref" href="Top.Util.Metatheory.html#afed8734a485685888dccb4f977f99dd"><span class="id" title="notation">`</span></a> <a class="idref" href="Top.SystemC.Definitions.html#L"><span class="id" title="variable">L</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">→</span></a><br/> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Top.SystemC.Definitions.html#9cede441202180a620a73f1df5e6bca6"><span class="id" title="notation">(</span></a><a class="idref" href="Top.Util.Environment.html#1e2518ff2e78f907c94429897ac7861a"><span class="id" title="notation">[</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="Top.SystemC.Definitions.html#f"><span class="id" title="variable">f</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="Top.SystemC.Definitions.html#bind_blk"><span class="id" title="constructor">bind_blk</span></a> (<a class="idref" href="Top.SystemC.Definitions.html#typ_exc"><span class="id" title="constructor">typ_exc</span></a> <a class="idref" href="Top.SystemC.Definitions.html#T2"><span class="id" title="variable">T2</span></a> <a class="idref" href="Top.SystemC.Definitions.html#T1"><span class="id" title="variable">T1</span></a>) <a class="idref" href="Top.SystemC.Definitions.html#tracked"><span class="id" title="constructor">tracked</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a><a class="idref" href="Top.Util.Environment.html#1e2518ff2e78f907c94429897ac7861a"><span class="id" title="notation">]</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="Top.SystemC.Definitions.html#E"><span class="id" title="variable">E</span></a><a class="idref" href="Top.SystemC.Definitions.html#9cede441202180a620a73f1df5e6bca6"><span class="id" title="notation">)</span></a> <a class="idref" href="Top.SystemC.Definitions.html#9cede441202180a620a73f1df5e6bca6"><span class="id" title="notation">@</span></a> <a class="idref" href="Top.SystemC.Definitions.html#9cede441202180a620a73f1df5e6bca6"><span class="id" title="notation">(</span></a><a class="idref" href="Top.SystemC.CaptureSets.html#cset_union"><span class="id" title="definition">cset_union</span></a> <a class="idref" href="Top.SystemC.Definitions.html#C"><span class="id" title="variable">C</span></a> (<a class="idref" href="Top.SystemC.CaptureSets.html#cset_fvar"><span class="id" title="definition">cset_fvar</span></a> <a class="idref" href="Top.SystemC.Definitions.html#f"><span class="id" title="variable">f</span></a>)<a class="idref" href="Top.SystemC.Definitions.html#9cede441202180a620a73f1df5e6bca6"><span class="id" title="notation">)</span></a> <a class="idref" href="Top.SystemC.Definitions.html#9cede441202180a620a73f1df5e6bca6"><span class="id" title="notation">;</span></a> <a class="idref" href="Top.SystemC.Definitions.html#Q"><span class="id" title="variable">Q</span></a><br/> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Top.SystemC.Definitions.html#9cede441202180a620a73f1df5e6bca6"><span class="id" title="notation">|-</span></a><a class="idref" href="Top.SystemC.Definitions.html#9cede441202180a620a73f1df5e6bca6"><span class="id" title="notation">stm</span></a> <a class="idref" href="Top.SystemC.Definitions.html#9cede441202180a620a73f1df5e6bca6"><span class="id" title="notation">(</span></a><a class="idref" href="Top.SystemC.Definitions.html#open_cs"><span class="id" title="definition">open_cs</span></a> <a class="idref" href="Top.SystemC.Definitions.html#b"><span class="id" title="variable">b</span></a> <a class="idref" href="Top.SystemC.Definitions.html#f"><span class="id" title="variable">f</span></a> (<a class="idref" href="Top.SystemC.CaptureSets.html#cset_fvar"><span class="id" title="definition">cset_fvar</span></a> <a class="idref" href="Top.SystemC.Definitions.html#f"><span class="id" title="variable">f</span></a>)<a class="idref" href="Top.SystemC.Definitions.html#9cede441202180a620a73f1df5e6bca6"><span class="id" title="notation">)</span></a> <a class="idref" href="Top.SystemC.Definitions.html#9cede441202180a620a73f1df5e6bca6"><span class="id" title="notation">~:</span></a> <a class="idref" href="Top.SystemC.Definitions.html#T"><span class="id" title="variable">T</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">→</span></a><br/> <br/> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;E,&nbsp;x&nbsp;:&nbsp;T1,&nbsp;k&nbsp;:&nbsp;(T2&nbsp;-&gt;&nbsp;T&nbsp;@&nbsp;C)&nbsp;@&nbsp;C&nbsp;|-&nbsp;h&nbsp;:&nbsp;T&nbsp;*)</span><br/> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">(</span></a><span class="id" title="keyword">∀</span> (<span class="id" title="var">v</span> : <a class="idref" href="Top.Util.Atom.html#AtomImpl.atom"><span class="id" title="axiom">atom</span></a>), <a class="idref" href="Top.SystemC.Definitions.html#v"><span class="id" title="variable">v</span></a> <a class="idref" href="Top.Util.Metatheory.html#afed8734a485685888dccb4f977f99dd"><span class="id" title="notation">`</span></a><a class="idref" href="Top.Util.Metatheory.html#afed8734a485685888dccb4f977f99dd"><span class="id" title="notation">notin</span></a><a class="idref" href="Top.Util.Metatheory.html#afed8734a485685888dccb4f977f99dd"><span class="id" title="notation">`</span></a> <a class="idref" href="Top.SystemC.Definitions.html#L"><span class="id" title="variable">L</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">→</span></a><br/> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">(</span></a><span class="id" title="keyword">∀</span> (<span class="id" title="var">f</span> : <a class="idref" href="Top.Util.Atom.html#AtomImpl.atom"><span class="id" title="axiom">atom</span></a>), <a class="idref" href="Top.SystemC.Definitions.html#f"><span class="id" title="variable">f</span></a> <a class="idref" href="Top.Util.Metatheory.html#afed8734a485685888dccb4f977f99dd"><span class="id" title="notation">`</span></a><a class="idref" href="Top.Util.Metatheory.html#afed8734a485685888dccb4f977f99dd"><span class="id" title="notation">notin</span></a><a class="idref" href="Top.Util.Metatheory.html#afed8734a485685888dccb4f977f99dd"><span class="id" title="notation">`</span></a> <a class="idref" href="Top.Util.Metatheory.html#afed8734a485685888dccb4f977f99dd"><span class="id" title="notation">(</span></a><a class="idref" href="Top.SystemC.Definitions.html#L"><span class="id" title="variable">L</span></a> <a class="idref" href="Top.Util.Metatheory.html#c92914db0a86f2562eff329be5a29633"><span class="id" title="notation">`</span></a><a class="idref" href="Top.Util.Metatheory.html#c92914db0a86f2562eff329be5a29633"><span class="id" title="notation">union</span></a><a class="idref" href="Top.Util.Metatheory.html#c92914db0a86f2562eff329be5a29633"><span class="id" title="notation">`</span></a> <a class="idref" href="Top.Util.Metatheory.html#singleton"><span class="id" title="abbreviation">singleton</span></a> <a class="idref" href="Top.SystemC.Definitions.html#v"><span class="id" title="variable">v</span></a><a class="idref" href="Top.Util.Metatheory.html#afed8734a485685888dccb4f977f99dd"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">→</span></a><br/> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Top.SystemC.Definitions.html#9cede441202180a620a73f1df5e6bca6"><span class="id" title="notation">(</span></a><a class="idref" href="Top.Util.Environment.html#1e2518ff2e78f907c94429897ac7861a"><span class="id" title="notation">[</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="Top.SystemC.Definitions.html#f"><span class="id" title="variable">f</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="Top.SystemC.Definitions.html#bind_blk"><span class="id" title="constructor">bind_blk</span></a> (<a class="idref" href="Top.SystemC.Definitions.html#typ_vfun"><span class="id" title="constructor">typ_vfun</span></a> <a class="idref" href="Top.SystemC.Definitions.html#T1"><span class="id" title="variable">T1</span></a> <a class="idref" href="Top.SystemC.Definitions.html#T"><span class="id" title="variable">T</span></a>) (<a class="idref" href="Top.SystemC.Definitions.html#capture"><span class="id" title="constructor">capture</span></a> <a class="idref" href="Top.SystemC.Definitions.html#C"><span class="id" title="variable">C</span></a>)<a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a><a class="idref" href="Top.Util.Environment.html#1e2518ff2e78f907c94429897ac7861a"><span class="id" title="notation">]</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a><br/> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Top.Util.Environment.html#1e2518ff2e78f907c94429897ac7861a"><span class="id" title="notation">[</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="Top.SystemC.Definitions.html#v"><span class="id" title="variable">v</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="Top.SystemC.Definitions.html#bind_val"><span class="id" title="constructor">bind_val</span></a> <a class="idref" href="Top.SystemC.Definitions.html#T2"><span class="id" title="variable">T2</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a><a class="idref" href="Top.Util.Environment.html#1e2518ff2e78f907c94429897ac7861a"><span class="id" title="notation">]</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="Top.SystemC.Definitions.html#E"><span class="id" title="variable">E</span></a><a class="idref" href="Top.SystemC.Definitions.html#9cede441202180a620a73f1df5e6bca6"><span class="id" title="notation">)</span></a> <a class="idref" href="Top.SystemC.Definitions.html#9cede441202180a620a73f1df5e6bca6"><span class="id" title="notation">@</span></a> <a class="idref" href="Top.SystemC.Definitions.html#C"><span class="id" title="variable">C</span></a> <a class="idref" href="Top.SystemC.Definitions.html#9cede441202180a620a73f1df5e6bca6"><span class="id" title="notation">;</span></a> <a class="idref" href="Top.SystemC.Definitions.html#Q"><span class="id" title="variable">Q</span></a><br/> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Top.SystemC.Definitions.html#9cede441202180a620a73f1df5e6bca6"><span class="id" title="notation">|-</span></a><a class="idref" href="Top.SystemC.Definitions.html#9cede441202180a620a73f1df5e6bca6"><span class="id" title="notation">stm</span></a> <a class="idref" href="Top.SystemC.Definitions.html#9cede441202180a620a73f1df5e6bca6"><span class="id" title="notation">(</span></a><a class="idref" href="Top.SystemC.Definitions.html#open_bs"><span class="id" title="definition">open_bs</span></a> (<a class="idref" href="Top.SystemC.Definitions.html#open_es"><span class="id" title="definition">open_es</span></a> <a class="idref" href="Top.SystemC.Definitions.html#h"><span class="id" title="variable">h</span></a> <a class="idref" href="Top.SystemC.Definitions.html#v"><span class="id" title="variable">v</span></a>) <a class="idref" href="Top.SystemC.Definitions.html#f"><span class="id" title="variable">f</span></a><a class="idref" href="Top.SystemC.Definitions.html#9cede441202180a620a73f1df5e6bca6"><span class="id" title="notation">)</span></a> <a class="idref" href="Top.SystemC.Definitions.html#9cede441202180a620a73f1df5e6bca6"><span class="id" title="notation">~:</span></a> <a class="idref" href="Top.SystemC.Definitions.html#T"><span class="id" title="variable">T</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">))</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">→</span></a><br/> <br/> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Top.SystemC.Definitions.html#E"><span class="id" title="variable">E</span></a> <a class="idref" href="Top.SystemC.Definitions.html#9cede441202180a620a73f1df5e6bca6"><span class="id" title="notation">@</span></a> <a class="idref" href="Top.SystemC.Definitions.html#R"><span class="id" title="variable">R</span></a> <a class="idref" href="Top.SystemC.Definitions.html#9cede441202180a620a73f1df5e6bca6"><span class="id" title="notation">;</span></a> <a class="idref" href="Top.SystemC.Definitions.html#Q"><span class="id" title="variable">Q</span></a> <a class="idref" href="Top.SystemC.Definitions.html#9cede441202180a620a73f1df5e6bca6"><span class="id" title="notation">|-</span></a><a class="idref" href="Top.SystemC.Definitions.html#9cede441202180a620a73f1df5e6bca6"><span class="id" title="notation">stm</span></a> <a class="idref" href="Top.SystemC.Definitions.html#9cede441202180a620a73f1df5e6bca6"><span class="id" title="notation">(</span></a><a class="idref" href="Top.SystemC.Definitions.html#stm_try"><span class="id" title="constructor">stm_try</span></a> <a class="idref" href="Top.SystemC.Definitions.html#C"><span class="id" title="variable">C</span></a> <a class="idref" href="Top.SystemC.Definitions.html#T2"><span class="id" title="variable">T2</span></a> <a class="idref" href="Top.SystemC.Definitions.html#T1"><span class="id" title="variable">T1</span></a> <a class="idref" href="Top.SystemC.Definitions.html#b"><span class="id" title="variable">b</span></a> <a class="idref" href="Top.SystemC.Definitions.html#h"><span class="id" title="variable">h</span></a><a class="idref" href="Top.SystemC.Definitions.html#9cede441202180a620a73f1df5e6bca6"><span class="id" title="notation">)</span></a> <a class="idref" href="Top.SystemC.Definitions.html#9cede441202180a620a73f1df5e6bca6"><span class="id" title="notation">~:</span></a> <a class="idref" href="Top.SystemC.Definitions.html#T"><span class="id" title="variable">T</span></a><br/> <br/> </div> <div class="doc"> <a name="lab142"></a> <h4 class="section"> Differences to the paper </h4> As mentioned above, handling statements are annotated with a capture set <span class="inlinecode"><a class="idref" href="Top.SystemC.CaptureSets.html#Props.C"><span class="id" title="variable">C</span></a></span>. Also, we use the special type constructor <span class="inlinecode"><a class="idref" href="Top.SystemC.Definitions.html#typ_exc"><span class="id" title="constructor">typ_exc</span></a></span> instead of a function type. Otherwise, the definition is a straightforward translation to Coq in locally nameless. <div class="paragraph"> </div> The following rule for <span class="inlinecode"><a class="idref" href="Top.SystemC.Definitions.html#typing_reset"><span class="id" title="constructor">typing_reset</span></a></span> is a variation of <span class="inlinecode"><a class="idref" href="Top.SystemC.Definitions.html#typing_try"><span class="id" title="constructor">typing_try</span></a></span>, not binding the capability anymore and with a singleton set <span class="inlinecode">{<a class="idref" href="Top.SystemC.CaptureSets.html#Props.l"><span class="id" title="variable">l</span></a>}</span> instead of <span class="inlinecode"><a class="idref" href="Top.SystemC.CaptureSets.html#Props.C"><span class="id" title="variable">C</span></a></span>. </div> <div class="code"> <br/> &nbsp;&nbsp;| <a name="typing_reset"><span class="id" title="constructor">typing_reset</span></a> : <span class="id" title="keyword">∀</span> <span class="id" title="var">L</span> <span class="id" title="var">E</span> <span class="id" title="var">R</span> <span class="id" title="var">Q</span> <span class="id" title="var">C</span> <span class="id" title="var">l</span> <span class="id" title="var">b</span> <span class="id" title="var">h</span> <span class="id" title="var">T</span> <span class="id" title="var">T1</span> <span class="id" title="var">T2</span>,<br/> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Top.SystemC.Definitions.html#R"><span class="id" title="variable">R</span></a> <a class="idref" href="Top.SystemC.Definitions.html#11f615684d43d5ff020d0ffb9a3d8457"><span class="id" title="notation">|=</span></a> <a class="idref" href="Top.SystemC.Definitions.html#C"><span class="id" title="variable">C</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">→</span></a><br/> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Top.SystemC.Definitions.html#wf_cap"><span class="id" title="inductive">wf_cap</span></a> <a class="idref" href="Top.SystemC.Definitions.html#E"><span class="id" title="variable">E</span></a> <a class="idref" href="Top.SystemC.Definitions.html#C"><span class="id" title="variable">C</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">→</span></a><br/> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Top.SystemC.Definitions.html#wf_cap"><span class="id" title="inductive">wf_cap</span></a> <a class="idref" href="Top.SystemC.Definitions.html#E"><span class="id" title="variable">E</span></a> <a class="idref" href="Top.SystemC.Definitions.html#R"><span class="id" title="variable">R</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">→</span></a><br/> <br/> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;We&nbsp;require&nbsp;that&nbsp;the&nbsp;signature&nbsp;of&nbsp;l&nbsp;matches&nbsp;the&nbsp;type&nbsp;at&nbsp;the&nbsp;reset.&nbsp;*)</span><br/> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Top.Util.Signatures.html#Signatures.binds"><span class="id" title="definition">Signatures.binds</span></a> <a class="idref" href="Top.SystemC.Definitions.html#l"><span class="id" title="variable">l</span></a> (<a class="idref" href="Top.SystemC.Definitions.html#bind_sig"><span class="id" title="constructor">bind_sig</span></a> <a class="idref" href="Top.SystemC.Definitions.html#T2"><span class="id" title="variable">T2</span></a> <a class="idref" href="Top.SystemC.Definitions.html#T1"><span class="id" title="variable">T1</span></a>) <a class="idref" href="Top.SystemC.Definitions.html#Q"><span class="id" title="variable">Q</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">→</span></a><br/> <br/> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Top.SystemC.Definitions.html#E"><span class="id" title="variable">E</span></a> <a class="idref" href="Top.SystemC.Definitions.html#9cede441202180a620a73f1df5e6bca6"><span class="id" title="notation">@</span></a> <a class="idref" href="Top.SystemC.Definitions.html#9cede441202180a620a73f1df5e6bca6"><span class="id" title="notation">(</span></a><a class="idref" href="Top.SystemC.CaptureSets.html#cset_union"><span class="id" title="definition">cset_union</span></a> <a class="idref" href="Top.SystemC.Definitions.html#C"><span class="id" title="variable">C</span></a> (<a class="idref" href="Top.SystemC.CaptureSets.html#cset_lvar"><span class="id" title="definition">cset_lvar</span></a> <a class="idref" href="Top.SystemC.Definitions.html#l"><span class="id" title="variable">l</span></a>)<a class="idref" href="Top.SystemC.Definitions.html#9cede441202180a620a73f1df5e6bca6"><span class="id" title="notation">)</span></a> <a class="idref" href="Top.SystemC.Definitions.html#9cede441202180a620a73f1df5e6bca6"><span class="id" title="notation">;</span></a> <a class="idref" href="Top.SystemC.Definitions.html#Q"><span class="id" title="variable">Q</span></a> <a class="idref" href="Top.SystemC.Definitions.html#9cede441202180a620a73f1df5e6bca6"><span class="id" title="notation">|-</span></a><a class="idref" href="Top.SystemC.Definitions.html#9cede441202180a620a73f1df5e6bca6"><span class="id" title="notation">stm</span></a> <a class="idref" href="Top.SystemC.Definitions.html#b"><span class="id" title="variable">b</span></a> <a class="idref" href="Top.SystemC.Definitions.html#9cede441202180a620a73f1df5e6bca6"><span class="id" title="notation">~:</span></a> <a class="idref" href="Top.SystemC.Definitions.html#T"><span class="id" title="variable">T</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">→</span></a><br/> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">(</span></a><span class="id" title="keyword">∀</span> <span class="id" title="var">v</span> : <a class="idref" href="Top.Util.Atom.html#AtomImpl.atom"><span class="id" title="axiom">atom</span></a>, <a class="idref" href="Top.SystemC.Definitions.html#v"><span class="id" title="variable">v</span></a> <a class="idref" href="Top.Util.Metatheory.html#afed8734a485685888dccb4f977f99dd"><span class="id" title="notation">`</span></a><a class="idref" href="Top.Util.Metatheory.html#afed8734a485685888dccb4f977f99dd"><span class="id" title="notation">notin</span></a><a class="idref" href="Top.Util.Metatheory.html#afed8734a485685888dccb4f977f99dd"><span class="id" title="notation">`</span></a> <a class="idref" href="Top.SystemC.Definitions.html#L"><span class="id" title="variable">L</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">→</span></a><br/> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">(</span></a><span class="id" title="keyword">∀</span> <span class="id" title="var">f</span> : <a class="idref" href="Top.Util.Atom.html#AtomImpl.atom"><span class="id" title="axiom">atom</span></a>, <a class="idref" href="Top.SystemC.Definitions.html#f"><span class="id" title="variable">f</span></a> <a class="idref" href="Top.Util.Metatheory.html#afed8734a485685888dccb4f977f99dd"><span class="id" title="notation">`</span></a><a class="idref" href="Top.Util.Metatheory.html#afed8734a485685888dccb4f977f99dd"><span class="id" title="notation">notin</span></a><a class="idref" href="Top.Util.Metatheory.html#afed8734a485685888dccb4f977f99dd"><span class="id" title="notation">`</span></a> <a class="idref" href="Top.Util.Metatheory.html#afed8734a485685888dccb4f977f99dd"><span class="id" title="notation">(</span></a><a class="idref" href="Top.SystemC.Definitions.html#L"><span class="id" title="variable">L</span></a> <a class="idref" href="Top.Util.Metatheory.html#c92914db0a86f2562eff329be5a29633"><span class="id" title="notation">`</span></a><a class="idref" href="Top.Util.Metatheory.html#c92914db0a86f2562eff329be5a29633"><span class="id" title="notation">union</span></a><a class="idref" href="Top.Util.Metatheory.html#c92914db0a86f2562eff329be5a29633"><span class="id" title="notation">`</span></a> <a class="idref" href="Top.Util.Metatheory.html#singleton"><span class="id" title="abbreviation">singleton</span></a> <a class="idref" href="Top.SystemC.Definitions.html#v"><span class="id" title="variable">v</span></a><a class="idref" href="Top.Util.Metatheory.html#afed8734a485685888dccb4f977f99dd"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">→</span></a><br/> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Top.SystemC.Definitions.html#9cede441202180a620a73f1df5e6bca6"><span class="id" title="notation">(</span></a><a class="idref" href="Top.Util.Environment.html#1e2518ff2e78f907c94429897ac7861a"><span class="id" title="notation">[</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="Top.SystemC.Definitions.html#f"><span class="id" title="variable">f</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="Top.SystemC.Definitions.html#bind_blk"><span class="id" title="constructor">bind_blk</span></a> (<a class="idref" href="Top.SystemC.Definitions.html#typ_vfun"><span class="id" title="constructor">typ_vfun</span></a> <a class="idref" href="Top.SystemC.Definitions.html#T1"><span class="id" title="variable">T1</span></a> <a class="idref" href="Top.SystemC.Definitions.html#T"><span class="id" title="variable">T</span></a>) (<a class="idref" href="Top.SystemC.Definitions.html#capture"><span class="id" title="constructor">capture</span></a> <a class="idref" href="Top.SystemC.Definitions.html#C"><span class="id" title="variable">C</span></a>)<a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a><a class="idref" href="Top.Util.Environment.html#1e2518ff2e78f907c94429897ac7861a"><span class="id" title="notation">]</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a><br/> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Top.Util.Environment.html#1e2518ff2e78f907c94429897ac7861a"><span class="id" title="notation">[</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="Top.SystemC.Definitions.html#v"><span class="id" title="variable">v</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="Top.SystemC.Definitions.html#bind_val"><span class="id" title="constructor">bind_val</span></a> <a class="idref" href="Top.SystemC.Definitions.html#T2"><span class="id" title="variable">T2</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a><a class="idref" href="Top.Util.Environment.html#1e2518ff2e78f907c94429897ac7861a"><span class="id" title="notation">]</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="Top.SystemC.Definitions.html#E"><span class="id" title="variable">E</span></a><a class="idref" href="Top.SystemC.Definitions.html#9cede441202180a620a73f1df5e6bca6"><span class="id" title="notation">)</span></a> <a class="idref" href="Top.SystemC.Definitions.html#9cede441202180a620a73f1df5e6bca6"><span class="id" title="notation">@</span></a> <a class="idref" href="Top.SystemC.Definitions.html#C"><span class="id" title="variable">C</span></a> <a class="idref" href="Top.SystemC.Definitions.html#9cede441202180a620a73f1df5e6bca6"><span class="id" title="notation">;</span></a> <a class="idref" href="Top.SystemC.Definitions.html#Q"><span class="id" title="variable">Q</span></a><br/> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Top.SystemC.Definitions.html#9cede441202180a620a73f1df5e6bca6"><span class="id" title="notation">|-</span></a><a class="idref" href="Top.SystemC.Definitions.html#9cede441202180a620a73f1df5e6bca6"><span class="id" title="notation">stm</span></a> <a class="idref" href="Top.SystemC.Definitions.html#9cede441202180a620a73f1df5e6bca6"><span class="id" title="notation">(</span></a><a class="idref" href="Top.SystemC.Definitions.html#open_bs"><span class="id" title="definition">open_bs</span></a> (<a class="idref" href="Top.SystemC.Definitions.html#open_es"><span class="id" title="definition">open_es</span></a> <a class="idref" href="Top.SystemC.Definitions.html#h"><span class="id" title="variable">h</span></a> <a class="idref" href="Top.SystemC.Definitions.html#v"><span class="id" title="variable">v</span></a>) <a class="idref" href="Top.SystemC.Definitions.html#f"><span class="id" title="variable">f</span></a><a class="idref" href="Top.SystemC.Definitions.html#9cede441202180a620a73f1df5e6bca6"><span class="id" title="notation">)</span></a> <a class="idref" href="Top.SystemC.Definitions.html#9cede441202180a620a73f1df5e6bca6"><span class="id" title="notation">~:</span></a> <a class="idref" href="Top.SystemC.Definitions.html#T"><span class="id" title="variable">T</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">))</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">→</span></a><br/> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Top.SystemC.Definitions.html#E"><span class="id" title="variable">E</span></a> <a class="idref" href="Top.SystemC.Definitions.html#9cede441202180a620a73f1df5e6bca6"><span class="id" title="notation">@</span></a> <a class="idref" href="Top.SystemC.Definitions.html#R"><span class="id" title="variable">R</span></a> <a class="idref" href="Top.SystemC.Definitions.html#9cede441202180a620a73f1df5e6bca6"><span class="id" title="notation">;</span></a> <a class="idref" href="Top.SystemC.Definitions.html#Q"><span class="id" title="variable">Q</span></a> <a class="idref" href="Top.SystemC.Definitions.html#9cede441202180a620a73f1df5e6bca6"><span class="id" title="notation">|-</span></a><a class="idref" href="Top.SystemC.Definitions.html#9cede441202180a620a73f1df5e6bca6"><span class="id" title="notation">stm</span></a> <a class="idref" href="Top.SystemC.Definitions.html#9cede441202180a620a73f1df5e6bca6"><span class="id" title="notation">(</span></a><a class="idref" href="Top.SystemC.Definitions.html#stm_reset"><span class="id" title="constructor">stm_reset</span></a> <a class="idref" href="Top.SystemC.Definitions.html#l"><span class="id" title="variable">l</span></a> <a class="idref" href="Top.SystemC.Definitions.html#C"><span class="id" title="variable">C</span></a> <a class="idref" href="Top.SystemC.Definitions.html#b"><span class="id" title="variable">b</span></a> <a class="idref" href="Top.SystemC.Definitions.html#h"><span class="id" title="variable">h</span></a><a class="idref" href="Top.SystemC.Definitions.html#9cede441202180a620a73f1df5e6bca6"><span class="id" title="notation">)</span></a> <a class="idref" href="Top.SystemC.Definitions.html#9cede441202180a620a73f1df5e6bca6"><span class="id" title="notation">~:</span></a> <a class="idref" href="Top.SystemC.Definitions.html#T"><span class="id" title="variable">T</span></a><br/> <br/> &nbsp;&nbsp;| <a name="typing_throw"><span class="id" title="constructor">typing_throw</span></a> : <span class="id" title="keyword">∀</span> <span class="id" title="var">E</span> <span class="id" title="var">R</span> <span class="id" title="var">Q</span> <span class="id" title="var">b</span> <span class="id" title="var">e</span> <span class="id" title="var">T</span> <span class="id" title="var">T1</span>,<br/> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Top.SystemC.Definitions.html#E"><span class="id" title="variable">E</span></a> <a class="idref" href="Top.SystemC.Definitions.html#b0e42b705cf240294735f1d77c92cb6a"><span class="id" title="notation">@</span></a> <a class="idref" href="Top.SystemC.Definitions.html#R"><span class="id" title="variable">R</span></a> <a class="idref" href="Top.SystemC.Definitions.html#b0e42b705cf240294735f1d77c92cb6a"><span class="id" title="notation">;</span></a> <a class="idref" href="Top.SystemC.Definitions.html#Q"><span class="id" title="variable">Q</span></a> <a class="idref" href="Top.SystemC.Definitions.html#b0e42b705cf240294735f1d77c92cb6a"><span class="id" title="notation">|-</span></a><a class="idref" href="Top.SystemC.Definitions.html#b0e42b705cf240294735f1d77c92cb6a"><span class="id" title="notation">blk</span></a> <a class="idref" href="Top.SystemC.Definitions.html#b"><span class="id" title="variable">b</span></a> <a class="idref" href="Top.SystemC.Definitions.html#b0e42b705cf240294735f1d77c92cb6a"><span class="id" title="notation">~:</span></a> <a class="idref" href="Top.SystemC.Definitions.html#b0e42b705cf240294735f1d77c92cb6a"><span class="id" title="notation">(</span></a><a class="idref" href="Top.SystemC.Definitions.html#typ_exc"><span class="id" title="constructor">typ_exc</span></a> <a class="idref" href="Top.SystemC.Definitions.html#T1"><span class="id" title="variable">T1</span></a> <a class="idref" href="Top.SystemC.Definitions.html#T"><span class="id" title="variable">T</span></a><a class="idref" href="Top.SystemC.Definitions.html#b0e42b705cf240294735f1d77c92cb6a"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">→</span></a><br/> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Top.SystemC.Definitions.html#E"><span class="id" title="variable">E</span></a> <a class="idref" href="Top.SystemC.Definitions.html#c70dfda9b7aff80af236bdc97244f86b"><span class="id" title="notation">;</span></a> <a class="idref" href="Top.SystemC.Definitions.html#Q"><span class="id" title="variable">Q</span></a> <a class="idref" href="Top.SystemC.Definitions.html#c70dfda9b7aff80af236bdc97244f86b"><span class="id" title="notation">|-</span></a><a class="idref" href="Top.SystemC.Definitions.html#c70dfda9b7aff80af236bdc97244f86b"><span class="id" title="notation">exp</span></a> <a class="idref" href="Top.SystemC.Definitions.html#e"><span class="id" title="variable">e</span></a> <a class="idref" href="Top.SystemC.Definitions.html#c70dfda9b7aff80af236bdc97244f86b"><span class="id" title="notation">~:</span></a> <a class="idref" href="Top.SystemC.Definitions.html#T1"><span class="id" title="variable">T1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">→</span></a><br/> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Top.SystemC.Definitions.html#E"><span class="id" title="variable">E</span></a> <a class="idref" href="Top.SystemC.Definitions.html#9cede441202180a620a73f1df5e6bca6"><span class="id" title="notation">@</span></a> <a class="idref" href="Top.SystemC.Definitions.html#R"><span class="id" title="variable">R</span></a> <a class="idref" href="Top.SystemC.Definitions.html#9cede441202180a620a73f1df5e6bca6"><span class="id" title="notation">;</span></a> <a class="idref" href="Top.SystemC.Definitions.html#Q"><span class="id" title="variable">Q</span></a> <a class="idref" href="Top.SystemC.Definitions.html#9cede441202180a620a73f1df5e6bca6"><span class="id" title="notation">|-</span></a><a class="idref" href="Top.SystemC.Definitions.html#9cede441202180a620a73f1df5e6bca6"><span class="id" title="notation">stm</span></a> <a class="idref" href="Top.SystemC.Definitions.html#9cede441202180a620a73f1df5e6bca6"><span class="id" title="notation">(</span></a><a class="idref" href="Top.SystemC.Definitions.html#stm_throw"><span class="id" title="constructor">stm_throw</span></a> <a class="idref" href="Top.SystemC.Definitions.html#b"><span class="id" title="variable">b</span></a> <a class="idref" href="Top.SystemC.Definitions.html#e"><span class="id" title="variable">e</span></a><a class="idref" href="Top.SystemC.Definitions.html#9cede441202180a620a73f1df5e6bca6"><span class="id" title="notation">)</span></a> <a class="idref" href="Top.SystemC.Definitions.html#9cede441202180a620a73f1df5e6bca6"><span class="id" title="notation">~:</span></a> <a class="idref" href="Top.SystemC.Definitions.html#T"><span class="id" title="variable">T</span></a><br/> <br/> <span class="id" title="keyword">where</span> <a name="9cede441202180a620a73f1df5e6bca6"><span class="id" title="notation">&quot;</span></a>E @ R ; Q |-stm s ~: T" := (<a class="idref" href="Top.SystemC.Definitions.html#styping"><span class="id" title="inductive">styping</span></a> <span class="id" title="var">E</span> <span class="id" title="var">R</span> <span class="id" title="var">Q</span> <span class="id" title="var">s</span> <span class="id" title="var">T</span>).<br/> <br/> </div> <div class="doc"> Since we use locally nameless, the definition of typing uses the <span class="inlinecode"><a class="idref" href="Top.Util.Signatures.html#Signatures.binds"><span class="id" title="definition">binds</span></a></span> relation from the <span class="inlinecode"><span class="id" title="library">Environment</span></span> library (in the <span class="inlinecode"><span class="id" title="var">typing_var</span></span> case) and cofinite quantification in the cases involving binders (e.g., <span class="inlinecode"><a class="idref" href="Top.SystemC.Definitions.html#typing_vabs"><span class="id" title="constructor">typing_vabs</span></a></span>, <span class="inlinecode"><a class="idref" href="Top.SystemC.Definitions.html#typing_tabs"><span class="id" title="constructor">typing_tabs</span></a></span>, ...). <div class="paragraph"> </div> We have to define our own induction scheme to convince the termination checker </div> <div class="code"> <br/> <span class="id" title="keyword">Scheme</span> <a name="etyping_mutind"><span class="id" title="definition">etyping_mutind</span></a> := <span class="id" title="keyword">Induction</span> <span class="id" title="keyword">for</span> <a class="idref" href="Top.SystemC.Definitions.html#etyping"><span class="id" title="inductive">etyping</span></a> <span class="id" title="keyword">Sort</span> <span class="id" title="keyword">Prop</span><br/> &nbsp;&nbsp;<span class="id" title="keyword">with</span> <a name="styping_mutind"><span class="id" title="definition">styping_mutind</span></a> := <span class="id" title="keyword">Induction</span> <span class="id" title="keyword">for</span> <a class="idref" href="Top.SystemC.Definitions.html#styping"><span class="id" title="inductive">styping</span></a> <span class="id" title="keyword">Sort</span> <span class="id" title="keyword">Prop</span><br/> &nbsp;&nbsp;<span class="id" title="keyword">with</span> <a name="btyping_mutind"><span class="id" title="definition">btyping_mutind</span></a> := <span class="id" title="keyword">Induction</span> <span class="id" title="keyword">for</span> <a class="idref" href="Top.SystemC.Definitions.html#btyping"><span class="id" title="inductive">btyping</span></a> <span class="id" title="keyword">Sort</span> <span class="id" title="keyword">Prop</span>.<br/> <br/> <br/> </div> <div class="doc"> <a name="lab143"></a> <h1 class="section"> <a name="semantics"></a> Operational Semantics </h1> <div class="paragraph"> </div> As described in the appendix of the paper, we mechanize the operational semantics in form of an abstract machine. <div class="paragraph"> </div> However, the operational semantics is of a hybrid form: We <i>only</i> use the abstract machine semantics for <i>statements</i> and only if they affect the evaluation context / stack. <div class="paragraph"> </div> For all other "trivial" reductions, we use a substitution based semantics with congruence rules. <div class="paragraph"> </div> This separation makes it easier in the soundness proof to separate the "interesting" cases from the trivial ones. <div class="paragraph"> </div> <div class="paragraph"> </div> <a name="lab144"></a> <h2 class="section"> <a name="values"></a> Values </h2> <div class="paragraph"> </div> Values are defined in the paper in the appendix. <div class="paragraph"> </div> <img src="img/values.png" alt="Values" class="fig" /> </div> <div class="code"> <br/> <span class="id" title="keyword">Inductive</span> <a name="evalue"><span class="id" title="inductive">evalue</span></a> : <a class="idref" href="Top.SystemC.Definitions.html#exp"><span class="id" title="inductive">exp</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">→</span></a> <span class="id" title="keyword">Prop</span> :=<br/> &nbsp;&nbsp;| <a name="value_const"><span class="id" title="constructor">value_const</span></a> :<br/> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Top.SystemC.Definitions.html#evalue"><span class="id" title="inductive">evalue</span></a> <a class="idref" href="Top.SystemC.Definitions.html#exp_const"><span class="id" title="constructor">exp_const</span></a><br/> &nbsp;&nbsp;| <a name="value_box"><span class="id" title="constructor">value_box</span></a> : <span class="id" title="keyword">∀</span> <span class="id" title="var">C</span> <span class="id" title="var">b</span>,<br/> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Top.SystemC.Definitions.html#bvalue"><span class="id" title="inductive">bvalue</span></a> <a class="idref" href="Top.SystemC.Definitions.html#b"><span class="id" title="variable">b</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">→</span></a><br/> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Top.SystemC.CaptureSets.html#capt"><span class="id" title="definition">capt</span></a> <a class="idref" href="Top.SystemC.Definitions.html#C"><span class="id" title="variable">C</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">→</span></a><br/> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Top.SystemC.Definitions.html#evalue"><span class="id" title="inductive">evalue</span></a> (<a class="idref" href="Top.SystemC.Definitions.html#exp_box"><span class="id" title="constructor">exp_box</span></a> <a class="idref" href="Top.SystemC.Definitions.html#C"><span class="id" title="variable">C</span></a> <a class="idref" href="Top.SystemC.Definitions.html#b"><span class="id" title="variable">b</span></a>)<br/> <br/> <span class="id" title="keyword">with</span> <a name="bvalue"><span class="id" title="inductive">bvalue</span></a> : <a class="idref" href="Top.SystemC.Definitions.html#blk"><span class="id" title="inductive">blk</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">→</span></a> <span class="id" title="keyword">Prop</span> :=<br/> &nbsp;&nbsp;| <a name="value_vfun"><span class="id" title="constructor">value_vfun</span></a> : <span class="id" title="keyword">∀</span> <span class="id" title="var">T</span> <span class="id" title="var">s</span>,<br/> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Top.SystemC.Definitions.html#block"><span class="id" title="inductive">block</span></a> (<a class="idref" href="Top.SystemC.Definitions.html#blk_vabs"><span class="id" title="constructor">blk_vabs</span></a> <a class="idref" href="Top.SystemC.Definitions.html#T"><span class="id" title="variable">T</span></a> <a class="idref" href="Top.SystemC.Definitions.html#s"><span class="id" title="variable">s</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">→</span></a><br/> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Top.SystemC.Definitions.html#bvalue"><span class="id" title="inductive">bvalue</span></a> (<a class="idref" href="Top.SystemC.Definitions.html#blk_vabs"><span class="id" title="constructor">blk_vabs</span></a> <a class="idref" href="Top.SystemC.Definitions.html#T"><span class="id" title="variable">T</span></a> <a class="idref" href="Top.SystemC.Definitions.html#s"><span class="id" title="variable">s</span></a>)<br/> &nbsp;&nbsp;| <a name="value_bfun"><span class="id" title="constructor">value_bfun</span></a> : <span class="id" title="keyword">∀</span> <span class="id" title="var">S1</span> <span class="id" title="var">s</span>,<br/> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Top.SystemC.Definitions.html#block"><span class="id" title="inductive">block</span></a> (<a class="idref" href="Top.SystemC.Definitions.html#blk_babs"><span class="id" title="constructor">blk_babs</span></a> <a class="idref" href="Top.SystemC.Definitions.html#S1"><span class="id" title="variable">S1</span></a> <a class="idref" href="Top.SystemC.Definitions.html#s"><span class="id" title="variable">s</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">→</span></a><br/> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Top.SystemC.Definitions.html#bvalue"><span class="id" title="inductive">bvalue</span></a> (<a class="idref" href="Top.SystemC.Definitions.html#blk_babs"><span class="id" title="constructor">blk_babs</span></a> <a class="idref" href="Top.SystemC.Definitions.html#S1"><span class="id" title="variable">S1</span></a> <a class="idref" href="Top.SystemC.Definitions.html#s"><span class="id" title="variable">s</span></a>)<br/> &nbsp;&nbsp;| <a name="value_tfun"><span class="id" title="constructor">value_tfun</span></a> : <span class="id" title="keyword">∀</span> <span class="id" title="var">s</span>,<br/> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Top.SystemC.Definitions.html#block"><span class="id" title="inductive">block</span></a> (<a class="idref" href="Top.SystemC.Definitions.html#blk_tabs"><span class="id" title="constructor">blk_tabs</span></a> <a class="idref" href="Top.SystemC.Definitions.html#s"><span class="id" title="variable">s</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">→</span></a><br/> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Top.SystemC.Definitions.html#bvalue"><span class="id" title="inductive">bvalue</span></a> (<a class="idref" href="Top.SystemC.Definitions.html#blk_tabs"><span class="id" title="constructor">blk_tabs</span></a> <a class="idref" href="Top.SystemC.Definitions.html#s"><span class="id" title="variable">s</span></a>)<br/> &nbsp;&nbsp;| <a name="value_handler"><span class="id" title="constructor">value_handler</span></a> : <span class="id" title="keyword">∀</span> <span class="id" title="var">l</span>,<br/> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Top.SystemC.Definitions.html#bvalue"><span class="id" title="inductive">bvalue</span></a> (<a class="idref" href="Top.SystemC.Definitions.html#blk_handler"><span class="id" title="constructor">blk_handler</span></a> <a class="idref" href="Top.SystemC.Definitions.html#l"><span class="id" title="variable">l</span></a>).<br/> <br/> </div> <div class="doc"> <a name="lab145"></a> <h2 class="section"> <a name="redexes"></a> Machine Redexes </h2> <div class="paragraph"> </div> Since we mechanize the operational semantics in terms of an abstract machine, we also define a predicate that describes when a statement can only be reduced in a larger context. </div> <div class="code"> <br/> <span class="id" title="keyword">Inductive</span> <a name="machine_redex"><span class="id" title="inductive">machine_redex</span></a> : <a class="idref" href="Top.SystemC.Definitions.html#stm"><span class="id" title="inductive">stm</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">→</span></a> <span class="id" title="keyword">Prop</span> :=<br/> &nbsp;&nbsp;| <a name="redex_ret"><span class="id" title="constructor">redex_ret</span></a> : <span class="id" title="keyword">∀</span> <span class="id" title="var">e</span>,<br/> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Top.SystemC.Definitions.html#evalue"><span class="id" title="inductive">evalue</span></a> <a class="idref" href="Top.SystemC.Definitions.html#e"><span class="id" title="variable">e</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">→</span></a><br/> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Top.SystemC.Definitions.html#machine_redex"><span class="id" title="inductive">machine_redex</span></a> (<a class="idref" href="Top.SystemC.Definitions.html#stm_ret"><span class="id" title="constructor">stm_ret</span></a> <a class="idref" href="Top.SystemC.Definitions.html#e"><span class="id" title="variable">e</span></a>)<br/> &nbsp;&nbsp;| <a name="redex_val"><span class="id" title="constructor">redex_val</span></a> : <span class="id" title="keyword">∀</span> <span class="id" title="var">T</span> <span class="id" title="var">b</span> <span class="id" title="var">s</span>,<br/> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Top.SystemC.Definitions.html#machine_redex"><span class="id" title="inductive">machine_redex</span></a> (<a class="idref" href="Top.SystemC.Definitions.html#stm_val"><span class="id" title="constructor">stm_val</span></a> <a class="idref" href="Top.SystemC.Definitions.html#T"><span class="id" title="variable">T</span></a> <a class="idref" href="Top.SystemC.Definitions.html#b"><span class="id" title="variable">b</span></a> <a class="idref" href="Top.SystemC.Definitions.html#s"><span class="id" title="variable">s</span></a>)<br/> &nbsp;&nbsp;| <a name="redex_try"><span class="id" title="constructor">redex_try</span></a> : <span class="id" title="keyword">∀</span> <span class="id" title="var">C</span> <span class="id" title="var">T1</span> <span class="id" title="var">T</span> <span class="id" title="var">b</span> <span class="id" title="var">s</span>,<br/> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Top.SystemC.Definitions.html#machine_redex"><span class="id" title="inductive">machine_redex</span></a> (<a class="idref" href="Top.SystemC.Definitions.html#stm_try"><span class="id" title="constructor">stm_try</span></a> <a class="idref" href="Top.SystemC.Definitions.html#C"><span class="id" title="variable">C</span></a> <a class="idref" href="Top.SystemC.Definitions.html#T1"><span class="id" title="variable">T1</span></a> <a class="idref" href="Top.SystemC.Definitions.html#T"><span class="id" title="variable">T</span></a> <a class="idref" href="Top.SystemC.Definitions.html#b"><span class="id" title="variable">b</span></a> <a class="idref" href="Top.SystemC.Definitions.html#s"><span class="id" title="variable">s</span></a>)<br/> &nbsp;&nbsp;| <a name="redex_reset"><span class="id" title="constructor">redex_reset</span></a> : <span class="id" title="keyword">∀</span> <span class="id" title="var">l</span> <span class="id" title="var">C</span> <span class="id" title="var">b</span> <span class="id" title="var">s</span>,<br/> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Top.SystemC.Definitions.html#machine_redex"><span class="id" title="inductive">machine_redex</span></a> (<a class="idref" href="Top.SystemC.Definitions.html#stm_reset"><span class="id" title="constructor">stm_reset</span></a> <a class="idref" href="Top.SystemC.Definitions.html#l"><span class="id" title="variable">l</span></a> <a class="idref" href="Top.SystemC.Definitions.html#C"><span class="id" title="variable">C</span></a> <a class="idref" href="Top.SystemC.Definitions.html#b"><span class="id" title="variable">b</span></a> <a class="idref" href="Top.SystemC.Definitions.html#s"><span class="id" title="variable">s</span></a>)<br/> &nbsp;&nbsp;| <a name="redex_throw"><span class="id" title="constructor">redex_throw</span></a> : <span class="id" title="keyword">∀</span> <span class="id" title="var">l</span> <span class="id" title="var">e</span>,<br/> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Top.SystemC.Definitions.html#evalue"><span class="id" title="inductive">evalue</span></a> <a class="idref" href="Top.SystemC.Definitions.html#e"><span class="id" title="variable">e</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">→</span></a><br/> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Top.SystemC.Definitions.html#machine_redex"><span class="id" title="inductive">machine_redex</span></a> (<a class="idref" href="Top.SystemC.Definitions.html#stm_throw"><span class="id" title="constructor">stm_throw</span></a> (<a class="idref" href="Top.SystemC.Definitions.html#blk_handler"><span class="id" title="constructor">blk_handler</span></a> <a class="idref" href="Top.SystemC.Definitions.html#l"><span class="id" title="variable">l</span></a>) <a class="idref" href="Top.SystemC.Definitions.html#e"><span class="id" title="variable">e</span></a>).<br/> <br/> </div> <div class="doc"> <a name="lab146"></a> <h2 class="section"> <a name="semantics-trivial"></a> Trivial Reduction </h2> <div class="paragraph"> </div> <img src="img/machine-semantics-trivial.png" alt="Semantics" class="fig" /> </div> <div class="code"> <br/> <span class="id" title="keyword">Reserved Notation</span> &quot;e1 --&gt;b e2" (<span class="id" title="tactic">at</span> <span class="id" title="keyword">level</span> 69).<br/> <span class="id" title="keyword">Reserved Notation</span> &quot;e1 --&gt;e e2" (<span class="id" title="tactic">at</span> <span class="id" title="keyword">level</span> 69).<br/> <span class="id" title="keyword">Reserved Notation</span> &quot;e1 --&gt;s e2" (<span class="id" title="tactic">at</span> <span class="id" title="keyword">level</span> 69).<br/> <br/> </div> <div class="doc"> <a name="lab147"></a> <h3 class="section"> <a name="semantics-blocks"></a> Reduction of Blocks </h3> Blocks can always be reduced regardless of the context. In fact, the only reduction is box-unbox elimination (<span class="inlinecode"><a class="idref" href="Top.SystemC.Definitions.html#bred_box"><span class="id" title="constructor">bred_box</span></a></span>) and block substitution (<span class="inlinecode"><a class="idref" href="Top.SystemC.Definitions.html#bred_box"><span class="id" title="constructor">bred_box</span></a></span>). </div> <div class="code"> <span class="id" title="keyword">Inductive</span> <a name="bred"><span class="id" title="inductive">bred</span></a> : <a class="idref" href="Top.SystemC.Definitions.html#blk"><span class="id" title="inductive">blk</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">→</span></a> <a class="idref" href="Top.SystemC.Definitions.html#blk"><span class="id" title="inductive">blk</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">→</span></a> <span class="id" title="keyword">Prop</span> :=<br/> &nbsp;&nbsp;| <a name="bred_box"><span class="id" title="constructor">bred_box</span></a> : <span class="id" title="keyword">∀</span> <span class="id" title="var">C</span> <span class="id" title="var">b</span>,<br/> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Top.SystemC.Definitions.html#blk_unbox"><span class="id" title="constructor">blk_unbox</span></a> (<a class="idref" href="Top.SystemC.Definitions.html#exp_box"><span class="id" title="constructor">exp_box</span></a> <a class="idref" href="Top.SystemC.Definitions.html#C"><span class="id" title="variable">C</span></a> <a class="idref" href="Top.SystemC.Definitions.html#b"><span class="id" title="variable">b</span></a>) <a class="idref" href="Top.SystemC.Definitions.html#21a10694b7b04103b96620702ff41ba6"><span class="id" title="notation">--&gt;</span></a><a class="idref" href="Top.SystemC.Definitions.html#21a10694b7b04103b96620702ff41ba6"><span class="id" title="notation">b</span></a> <a class="idref" href="Top.SystemC.Definitions.html#b"><span class="id" title="variable">b</span></a><br/> <br/> &nbsp;&nbsp;| <a name="bred_tapp_cong"><span class="id" title="constructor">bred_tapp_cong</span></a> : <span class="id" title="keyword">∀</span> <span class="id" title="var">b</span> <span class="id" title="var">b'</span> <span class="id" title="var">T</span>,<br/> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Top.SystemC.Definitions.html#b"><span class="id" title="variable">b</span></a> <a class="idref" href="Top.SystemC.Definitions.html#21a10694b7b04103b96620702ff41ba6"><span class="id" title="notation">--&gt;</span></a><a class="idref" href="Top.SystemC.Definitions.html#21a10694b7b04103b96620702ff41ba6"><span class="id" title="notation">b</span></a> <a class="idref" href="Top.SystemC.Definitions.html#b'"><span class="id" title="variable">b'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">→</span></a><br/> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Top.SystemC.Definitions.html#blk_tapp"><span class="id" title="constructor">blk_tapp</span></a> <a class="idref" href="Top.SystemC.Definitions.html#b"><span class="id" title="variable">b</span></a> <a class="idref" href="Top.SystemC.Definitions.html#T"><span class="id" title="variable">T</span></a> <a class="idref" href="Top.SystemC.Definitions.html#21a10694b7b04103b96620702ff41ba6"><span class="id" title="notation">--&gt;</span></a><a class="idref" href="Top.SystemC.Definitions.html#21a10694b7b04103b96620702ff41ba6"><span class="id" title="notation">b</span></a> <a class="idref" href="Top.SystemC.Definitions.html#blk_tapp"><span class="id" title="constructor">blk_tapp</span></a> <a class="idref" href="Top.SystemC.Definitions.html#b'"><span class="id" title="variable">b'</span></a> <a class="idref" href="Top.SystemC.Definitions.html#T"><span class="id" title="variable">T</span></a><br/> <br/> &nbsp;&nbsp;| <a name="bred_tapp"><span class="id" title="constructor">bred_tapp</span></a> : <span class="id" title="keyword">∀</span> <span class="id" title="var">s</span> <span class="id" title="var">T</span>,<br/> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Top.SystemC.Definitions.html#blk_tapp"><span class="id" title="constructor">blk_tapp</span></a> (<a class="idref" href="Top.SystemC.Definitions.html#blk_tabs"><span class="id" title="constructor">blk_tabs</span></a> <a class="idref" href="Top.SystemC.Definitions.html#s"><span class="id" title="variable">s</span></a>) <a class="idref" href="Top.SystemC.Definitions.html#T"><span class="id" title="variable">T</span></a> <a class="idref" href="Top.SystemC.Definitions.html#21a10694b7b04103b96620702ff41ba6"><span class="id" title="notation">--&gt;</span></a><a class="idref" href="Top.SystemC.Definitions.html#21a10694b7b04103b96620702ff41ba6"><span class="id" title="notation">b</span></a> <a class="idref" href="Top.SystemC.Definitions.html#21a10694b7b04103b96620702ff41ba6"><span class="id" title="notation">(</span></a><a class="idref" href="Top.SystemC.Definitions.html#open_tb"><span class="id" title="definition">open_tb</span></a> <a class="idref" href="Top.SystemC.Definitions.html#s"><span class="id" title="variable">s</span></a> <a class="idref" href="Top.SystemC.Definitions.html#T"><span class="id" title="variable">T</span></a><a class="idref" href="Top.SystemC.Definitions.html#21a10694b7b04103b96620702ff41ba6"><span class="id" title="notation">)</span></a><br/> <span class="id" title="keyword">where</span> <a name="21a10694b7b04103b96620702ff41ba6"><span class="id" title="notation">&quot;</span></a>b1 --&gt;b b2" := (<a class="idref" href="Top.SystemC.Definitions.html#bred"><span class="id" title="inductive">bred</span></a> <span class="id" title="var">b1</span> <span class="id" title="var">b2</span>).<br/> <br/> </div> <div class="doc"> <a name="lab148"></a> <h3 class="section"> <a name="semantics-blocks"></a> Reduction of Expressions </h3> Reduction on expressions is even simpler. Only boxed blocks can be reduced at all. </div> <div class="code"> <span class="id" title="keyword">Inductive</span> <a name="ered"><span class="id" title="inductive">ered</span></a> : <a class="idref" href="Top.SystemC.Definitions.html#exp"><span class="id" title="inductive">exp</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">→</span></a> <a class="idref" href="Top.SystemC.Definitions.html#exp"><span class="id" title="inductive">exp</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">→</span></a> <span class="id" title="keyword">Prop</span> :=<br/> &nbsp;&nbsp;| <a name="ered_box"><span class="id" title="constructor">ered_box</span></a> : <span class="id" title="keyword">∀</span> <span class="id" title="var">C</span> <span class="id" title="var">b</span> <span class="id" title="var">b'</span>,<br/> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Top.SystemC.Definitions.html#b"><span class="id" title="variable">b</span></a> <a class="idref" href="Top.SystemC.Definitions.html#21a10694b7b04103b96620702ff41ba6"><span class="id" title="notation">--&gt;</span></a><a class="idref" href="Top.SystemC.Definitions.html#21a10694b7b04103b96620702ff41ba6"><span class="id" title="notation">b</span></a> <a class="idref" href="Top.SystemC.Definitions.html#b'"><span class="id" title="variable">b'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">→</span></a><br/> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Top.SystemC.Definitions.html#20dacbe52519fa496608a0f00147f0ff"><span class="id" title="notation">(</span></a><a class="idref" href="Top.SystemC.Definitions.html#exp_box"><span class="id" title="constructor">exp_box</span></a> <a class="idref" href="Top.SystemC.Definitions.html#C"><span class="id" title="variable">C</span></a> <a class="idref" href="Top.SystemC.Definitions.html#b"><span class="id" title="variable">b</span></a><a class="idref" href="Top.SystemC.Definitions.html#20dacbe52519fa496608a0f00147f0ff"><span class="id" title="notation">)</span></a> <a class="idref" href="Top.SystemC.Definitions.html#20dacbe52519fa496608a0f00147f0ff"><span class="id" title="notation">--&gt;</span></a><a class="idref" href="Top.SystemC.Definitions.html#20dacbe52519fa496608a0f00147f0ff"><span class="id" title="notation">e</span></a> <a class="idref" href="Top.SystemC.Definitions.html#20dacbe52519fa496608a0f00147f0ff"><span class="id" title="notation">(</span></a><a class="idref" href="Top.SystemC.Definitions.html#exp_box"><span class="id" title="constructor">exp_box</span></a> <a class="idref" href="Top.SystemC.Definitions.html#C"><span class="id" title="variable">C</span></a> <a class="idref" href="Top.SystemC.Definitions.html#b'"><span class="id" title="variable">b'</span></a><a class="idref" href="Top.SystemC.Definitions.html#20dacbe52519fa496608a0f00147f0ff"><span class="id" title="notation">)</span></a><br/> <span class="id" title="keyword">where</span> <a name="20dacbe52519fa496608a0f00147f0ff"><span class="id" title="notation">&quot;</span></a>e1 --&gt;e e2" := (<a class="idref" href="Top.SystemC.Definitions.html#ered"><span class="id" title="inductive">ered</span></a> <span class="id" title="var">e1</span> <span class="id" title="var">e2</span>).<br/> <br/> </div> <div class="doc"> <a name="lab149"></a> <h3 class="section"> <a name="semantics-statements"></a> Reduction of Statements </h3> </div> <div class="code"> <span class="id" title="keyword">Inductive</span> <a name="sred"><span class="id" title="inductive">sred</span></a> : <a class="idref" href="Top.SystemC.Definitions.html#stm"><span class="id" title="inductive">stm</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">→</span></a> <a class="idref" href="Top.SystemC.Definitions.html#stm"><span class="id" title="inductive">stm</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">→</span></a> <span class="id" title="keyword">Prop</span> :=<br/> &nbsp;&nbsp;| <a name="sred_ret"><span class="id" title="constructor">sred_ret</span></a> : <span class="id" title="keyword">∀</span> <span class="id" title="var">e</span> <span class="id" title="var">e'</span>,<br/> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Top.SystemC.Definitions.html#e"><span class="id" title="variable">e</span></a> <a class="idref" href="Top.SystemC.Definitions.html#20dacbe52519fa496608a0f00147f0ff"><span class="id" title="notation">--&gt;</span></a><a class="idref" href="Top.SystemC.Definitions.html#20dacbe52519fa496608a0f00147f0ff"><span class="id" title="notation">e</span></a> <a class="idref" href="Top.SystemC.Definitions.html#e'"><span class="id" title="variable">e'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">→</span></a><br/> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Top.SystemC.Definitions.html#stm_ret"><span class="id" title="constructor">stm_ret</span></a> <a class="idref" href="Top.SystemC.Definitions.html#e"><span class="id" title="variable">e</span></a> <a class="idref" href="Top.SystemC.Definitions.html#e1eb5820dc5956ef4a133faa42f77941"><span class="id" title="notation">--&gt;</span></a><a class="idref" href="Top.SystemC.Definitions.html#e1eb5820dc5956ef4a133faa42f77941"><span class="id" title="notation">s</span></a> <a class="idref" href="Top.SystemC.Definitions.html#stm_ret"><span class="id" title="constructor">stm_ret</span></a> <a class="idref" href="Top.SystemC.Definitions.html#e'"><span class="id" title="variable">e'</span></a><br/> <br/> &nbsp;&nbsp;| <a name="sred_vapp_3"><span class="id" title="constructor">sred_vapp_3</span></a> : <span class="id" title="keyword">∀</span> <span class="id" title="var">T</span> <span class="id" title="var">s</span> <span class="id" title="var">e</span>,<br/> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Top.SystemC.Definitions.html#evalue"><span class="id" title="inductive">evalue</span></a> <a class="idref" href="Top.SystemC.Definitions.html#e"><span class="id" title="variable">e</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">→</span></a><br/> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Top.SystemC.Definitions.html#stm_vapp"><span class="id" title="constructor">stm_vapp</span></a> (<a class="idref" href="Top.SystemC.Definitions.html#blk_vabs"><span class="id" title="constructor">blk_vabs</span></a> <a class="idref" href="Top.SystemC.Definitions.html#T"><span class="id" title="variable">T</span></a> <a class="idref" href="Top.SystemC.Definitions.html#s"><span class="id" title="variable">s</span></a>) <a class="idref" href="Top.SystemC.Definitions.html#e"><span class="id" title="variable">e</span></a> <a class="idref" href="Top.SystemC.Definitions.html#e1eb5820dc5956ef4a133faa42f77941"><span class="id" title="notation">--&gt;</span></a><a class="idref" href="Top.SystemC.Definitions.html#e1eb5820dc5956ef4a133faa42f77941"><span class="id" title="notation">s</span></a> <a class="idref" href="Top.SystemC.Definitions.html#e1eb5820dc5956ef4a133faa42f77941"><span class="id" title="notation">(</span></a><a class="idref" href="Top.SystemC.Definitions.html#open_es"><span class="id" title="definition">open_es</span></a> <a class="idref" href="Top.SystemC.Definitions.html#s"><span class="id" title="variable">s</span></a> <a class="idref" href="Top.SystemC.Definitions.html#e"><span class="id" title="variable">e</span></a><a class="idref" href="Top.SystemC.Definitions.html#e1eb5820dc5956ef4a133faa42f77941"><span class="id" title="notation">)</span></a><br/> <br/> </div> <div class="doc"> The remaining rules are congruences, omitted in the appendix of the paper. </div> <div class="code"> &nbsp;&nbsp;| <a name="sred_def_1"><span class="id" title="constructor">sred_def_1</span></a> : <span class="id" title="keyword">∀</span> <span class="id" title="var">C</span> <span class="id" title="var">S1</span> <span class="id" title="var">b</span> <span class="id" title="var">b'</span> <span class="id" title="var">s</span>,<br/> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Top.SystemC.Definitions.html#b"><span class="id" title="variable">b</span></a> <a class="idref" href="Top.SystemC.Definitions.html#21a10694b7b04103b96620702ff41ba6"><span class="id" title="notation">--&gt;</span></a><a class="idref" href="Top.SystemC.Definitions.html#21a10694b7b04103b96620702ff41ba6"><span class="id" title="notation">b</span></a> <a class="idref" href="Top.SystemC.Definitions.html#b'"><span class="id" title="variable">b'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">→</span></a><br/> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Top.SystemC.Definitions.html#stm_def"><span class="id" title="constructor">stm_def</span></a> <a class="idref" href="Top.SystemC.Definitions.html#C"><span class="id" title="variable">C</span></a> <a class="idref" href="Top.SystemC.Definitions.html#S1"><span class="id" title="variable">S1</span></a> <a class="idref" href="Top.SystemC.Definitions.html#b"><span class="id" title="variable">b</span></a> <a class="idref" href="Top.SystemC.Definitions.html#s"><span class="id" title="variable">s</span></a> <a class="idref" href="Top.SystemC.Definitions.html#e1eb5820dc5956ef4a133faa42f77941"><span class="id" title="notation">--&gt;</span></a><a class="idref" href="Top.SystemC.Definitions.html#e1eb5820dc5956ef4a133faa42f77941"><span class="id" title="notation">s</span></a> <a class="idref" href="Top.SystemC.Definitions.html#stm_def"><span class="id" title="constructor">stm_def</span></a> <a class="idref" href="Top.SystemC.Definitions.html#C"><span class="id" title="variable">C</span></a> <a class="idref" href="Top.SystemC.Definitions.html#S1"><span class="id" title="variable">S1</span></a> <a class="idref" href="Top.SystemC.Definitions.html#b'"><span class="id" title="variable">b'</span></a> <a class="idref" href="Top.SystemC.Definitions.html#s"><span class="id" title="variable">s</span></a><br/> <br/> &nbsp;&nbsp;| <a name="sred_def_2"><span class="id" title="constructor">sred_def_2</span></a> : <span class="id" title="keyword">∀</span> <span class="id" title="var">C</span> <span class="id" title="var">S1</span> <span class="id" title="var">b</span> <span class="id" title="var">s</span>,<br/> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Top.SystemC.Definitions.html#bvalue"><span class="id" title="inductive">bvalue</span></a> <a class="idref" href="Top.SystemC.Definitions.html#b"><span class="id" title="variable">b</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">→</span></a><br/> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Top.SystemC.Definitions.html#stm_def"><span class="id" title="constructor">stm_def</span></a> <a class="idref" href="Top.SystemC.Definitions.html#C"><span class="id" title="variable">C</span></a> <a class="idref" href="Top.SystemC.Definitions.html#S1"><span class="id" title="variable">S1</span></a> <a class="idref" href="Top.SystemC.Definitions.html#b"><span class="id" title="variable">b</span></a> <a class="idref" href="Top.SystemC.Definitions.html#s"><span class="id" title="variable">s</span></a> <a class="idref" href="Top.SystemC.Definitions.html#e1eb5820dc5956ef4a133faa42f77941"><span class="id" title="notation">--&gt;</span></a><a class="idref" href="Top.SystemC.Definitions.html#e1eb5820dc5956ef4a133faa42f77941"><span class="id" title="notation">s</span></a> <a class="idref" href="Top.SystemC.Definitions.html#e1eb5820dc5956ef4a133faa42f77941"><span class="id" title="notation">(</span></a><a class="idref" href="Top.SystemC.Definitions.html#open_bs"><span class="id" title="definition">open_bs</span></a> <a class="idref" href="Top.SystemC.Definitions.html#s"><span class="id" title="variable">s</span></a> <a class="idref" href="Top.SystemC.Definitions.html#b"><span class="id" title="variable">b</span></a><a class="idref" href="Top.SystemC.Definitions.html#e1eb5820dc5956ef4a133faa42f77941"><span class="id" title="notation">)</span></a><br/> <br/> &nbsp;&nbsp;| <a name="sred_vapp_1"><span class="id" title="constructor">sred_vapp_1</span></a> : <span class="id" title="keyword">∀</span> <span class="id" title="var">b</span> <span class="id" title="var">b'</span> <span class="id" title="var">e</span>,<br/> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Top.SystemC.Definitions.html#b"><span class="id" title="variable">b</span></a> <a class="idref" href="Top.SystemC.Definitions.html#21a10694b7b04103b96620702ff41ba6"><span class="id" title="notation">--&gt;</span></a><a class="idref" href="Top.SystemC.Definitions.html#21a10694b7b04103b96620702ff41ba6"><span class="id" title="notation">b</span></a> <a class="idref" href="Top.SystemC.Definitions.html#b'"><span class="id" title="variable">b'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">→</span></a><br/> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Top.SystemC.Definitions.html#stm_vapp"><span class="id" title="constructor">stm_vapp</span></a> <a class="idref" href="Top.SystemC.Definitions.html#b"><span class="id" title="variable">b</span></a> <a class="idref" href="Top.SystemC.Definitions.html#e"><span class="id" title="variable">e</span></a> <a class="idref" href="Top.SystemC.Definitions.html#e1eb5820dc5956ef4a133faa42f77941"><span class="id" title="notation">--&gt;</span></a><a class="idref" href="Top.SystemC.Definitions.html#e1eb5820dc5956ef4a133faa42f77941"><span class="id" title="notation">s</span></a> <a class="idref" href="Top.SystemC.Definitions.html#stm_vapp"><span class="id" title="constructor">stm_vapp</span></a> <a class="idref" href="Top.SystemC.Definitions.html#b'"><span class="id" title="variable">b'</span></a> <a class="idref" href="Top.SystemC.Definitions.html#e"><span class="id" title="variable">e</span></a><br/> <br/> &nbsp;&nbsp;| <a name="sred_vapp_2"><span class="id" title="constructor">sred_vapp_2</span></a> : <span class="id" title="keyword">∀</span> <span class="id" title="var">b</span> <span class="id" title="var">e</span> <span class="id" title="var">e'</span>,<br/> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Top.SystemC.Definitions.html#e"><span class="id" title="variable">e</span></a> <a class="idref" href="Top.SystemC.Definitions.html#20dacbe52519fa496608a0f00147f0ff"><span class="id" title="notation">--&gt;</span></a><a class="idref" href="Top.SystemC.Definitions.html#20dacbe52519fa496608a0f00147f0ff"><span class="id" title="notation">e</span></a> <a class="idref" href="Top.SystemC.Definitions.html#e'"><span class="id" title="variable">e'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">→</span></a><br/> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Top.SystemC.Definitions.html#stm_vapp"><span class="id" title="constructor">stm_vapp</span></a> <a class="idref" href="Top.SystemC.Definitions.html#b"><span class="id" title="variable">b</span></a> <a class="idref" href="Top.SystemC.Definitions.html#e"><span class="id" title="variable">e</span></a> <a class="idref" href="Top.SystemC.Definitions.html#e1eb5820dc5956ef4a133faa42f77941"><span class="id" title="notation">--&gt;</span></a><a class="idref" href="Top.SystemC.Definitions.html#e1eb5820dc5956ef4a133faa42f77941"><span class="id" title="notation">s</span></a> <a class="idref" href="Top.SystemC.Definitions.html#stm_vapp"><span class="id" title="constructor">stm_vapp</span></a> <a class="idref" href="Top.SystemC.Definitions.html#b"><span class="id" title="variable">b</span></a> <a class="idref" href="Top.SystemC.Definitions.html#e'"><span class="id" title="variable">e'</span></a><br/> <br/> &nbsp;&nbsp;| <a name="sred_bapp_1"><span class="id" title="constructor">sred_bapp_1</span></a> : <span class="id" title="keyword">∀</span> <span class="id" title="var">b1</span> <span class="id" title="var">b1'</span> <span class="id" title="var">C</span> <span class="id" title="var">b2</span>,<br/> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Top.SystemC.Definitions.html#b1"><span class="id" title="variable">b1</span></a> <a class="idref" href="Top.SystemC.Definitions.html#21a10694b7b04103b96620702ff41ba6"><span class="id" title="notation">--&gt;</span></a><a class="idref" href="Top.SystemC.Definitions.html#21a10694b7b04103b96620702ff41ba6"><span class="id" title="notation">b</span></a> <a class="idref" href="Top.SystemC.Definitions.html#b1'"><span class="id" title="variable">b1'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">→</span></a><br/> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Top.SystemC.Definitions.html#stm_bapp"><span class="id" title="constructor">stm_bapp</span></a> <a class="idref" href="Top.SystemC.Definitions.html#b1"><span class="id" title="variable">b1</span></a> <a class="idref" href="Top.SystemC.Definitions.html#C"><span class="id" title="variable">C</span></a> <a class="idref" href="Top.SystemC.Definitions.html#b2"><span class="id" title="variable">b2</span></a> <a class="idref" href="Top.SystemC.Definitions.html#e1eb5820dc5956ef4a133faa42f77941"><span class="id" title="notation">--&gt;</span></a><a class="idref" href="Top.SystemC.Definitions.html#e1eb5820dc5956ef4a133faa42f77941"><span class="id" title="notation">s</span></a> <a class="idref" href="Top.SystemC.Definitions.html#stm_bapp"><span class="id" title="constructor">stm_bapp</span></a> <a class="idref" href="Top.SystemC.Definitions.html#b1'"><span class="id" title="variable">b1'</span></a> <a class="idref" href="Top.SystemC.Definitions.html#C"><span class="id" title="variable">C</span></a> <a class="idref" href="Top.SystemC.Definitions.html#b2"><span class="id" title="variable">b2</span></a><br/> <br/> &nbsp;&nbsp;| <a name="sred_bapp_2"><span class="id" title="constructor">sred_bapp_2</span></a> : <span class="id" title="keyword">∀</span> <span class="id" title="var">b1</span> <span class="id" title="var">C</span> <span class="id" title="var">b2</span> <span class="id" title="var">b2'</span>,<br/> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Top.SystemC.Definitions.html#b2"><span class="id" title="variable">b2</span></a> <a class="idref" href="Top.SystemC.Definitions.html#21a10694b7b04103b96620702ff41ba6"><span class="id" title="notation">--&gt;</span></a><a class="idref" href="Top.SystemC.Definitions.html#21a10694b7b04103b96620702ff41ba6"><span class="id" title="notation">b</span></a> <a class="idref" href="Top.SystemC.Definitions.html#b2'"><span class="id" title="variable">b2'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">→</span></a><br/> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Top.SystemC.Definitions.html#stm_bapp"><span class="id" title="constructor">stm_bapp</span></a> <a class="idref" href="Top.SystemC.Definitions.html#b1"><span class="id" title="variable">b1</span></a> <a class="idref" href="Top.SystemC.Definitions.html#C"><span class="id" title="variable">C</span></a> <a class="idref" href="Top.SystemC.Definitions.html#b2"><span class="id" title="variable">b2</span></a> <a class="idref" href="Top.SystemC.Definitions.html#e1eb5820dc5956ef4a133faa42f77941"><span class="id" title="notation">--&gt;</span></a><a class="idref" href="Top.SystemC.Definitions.html#e1eb5820dc5956ef4a133faa42f77941"><span class="id" title="notation">s</span></a> <a class="idref" href="Top.SystemC.Definitions.html#stm_bapp"><span class="id" title="constructor">stm_bapp</span></a> <a class="idref" href="Top.SystemC.Definitions.html#b1"><span class="id" title="variable">b1</span></a> <a class="idref" href="Top.SystemC.Definitions.html#C"><span class="id" title="variable">C</span></a> <a class="idref" href="Top.SystemC.Definitions.html#b2'"><span class="id" title="variable">b2'</span></a><br/> <br/> &nbsp;&nbsp;| <a name="sred_bapp_3"><span class="id" title="constructor">sred_bapp_3</span></a> : <span class="id" title="keyword">∀</span> <span class="id" title="var">S1</span> <span class="id" title="var">s</span> <span class="id" title="var">C</span> <span class="id" title="var">b2</span>,<br/> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Top.SystemC.Definitions.html#bvalue"><span class="id" title="inductive">bvalue</span></a> <a class="idref" href="Top.SystemC.Definitions.html#b2"><span class="id" title="variable">b2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">→</span></a><br/> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Top.SystemC.Definitions.html#stm_bapp"><span class="id" title="constructor">stm_bapp</span></a> (<a class="idref" href="Top.SystemC.Definitions.html#blk_babs"><span class="id" title="constructor">blk_babs</span></a> <a class="idref" href="Top.SystemC.Definitions.html#S1"><span class="id" title="variable">S1</span></a> <a class="idref" href="Top.SystemC.Definitions.html#s"><span class="id" title="variable">s</span></a>) <a class="idref" href="Top.SystemC.Definitions.html#C"><span class="id" title="variable">C</span></a> <a class="idref" href="Top.SystemC.Definitions.html#b2"><span class="id" title="variable">b2</span></a> <a class="idref" href="Top.SystemC.Definitions.html#e1eb5820dc5956ef4a133faa42f77941"><span class="id" title="notation">--&gt;</span></a><a class="idref" href="Top.SystemC.Definitions.html#e1eb5820dc5956ef4a133faa42f77941"><span class="id" title="notation">s</span></a> <a class="idref" href="Top.SystemC.Definitions.html#e1eb5820dc5956ef4a133faa42f77941"><span class="id" title="notation">(</span></a><a class="idref" href="Top.SystemC.Definitions.html#open_cs"><span class="id" title="definition">open_cs</span></a> <a class="idref" href="Top.SystemC.Definitions.html#s"><span class="id" title="variable">s</span></a> <a class="idref" href="Top.SystemC.Definitions.html#b2"><span class="id" title="variable">b2</span></a> <a class="idref" href="Top.SystemC.Definitions.html#C"><span class="id" title="variable">C</span></a><a class="idref" href="Top.SystemC.Definitions.html#e1eb5820dc5956ef4a133faa42f77941"><span class="id" title="notation">)</span></a><br/> <br/> &nbsp;&nbsp;| <a name="sred_throw_1"><span class="id" title="constructor">sred_throw_1</span></a> : <span class="id" title="keyword">∀</span> <span class="id" title="var">b</span> <span class="id" title="var">b'</span> <span class="id" title="var">e</span>,<br/> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Top.SystemC.Definitions.html#b"><span class="id" title="variable">b</span></a> <a class="idref" href="Top.SystemC.Definitions.html#21a10694b7b04103b96620702ff41ba6"><span class="id" title="notation">--&gt;</span></a><a class="idref" href="Top.SystemC.Definitions.html#21a10694b7b04103b96620702ff41ba6"><span class="id" title="notation">b</span></a> <a class="idref" href="Top.SystemC.Definitions.html#b'"><span class="id" title="variable">b'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">→</span></a><br/> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Top.SystemC.Definitions.html#stm_throw"><span class="id" title="constructor">stm_throw</span></a> <a class="idref" href="Top.SystemC.Definitions.html#b"><span class="id" title="variable">b</span></a> <a class="idref" href="Top.SystemC.Definitions.html#e"><span class="id" title="variable">e</span></a> <a class="idref" href="Top.SystemC.Definitions.html#e1eb5820dc5956ef4a133faa42f77941"><span class="id" title="notation">--&gt;</span></a><a class="idref" href="Top.SystemC.Definitions.html#e1eb5820dc5956ef4a133faa42f77941"><span class="id" title="notation">s</span></a> <a class="idref" href="Top.SystemC.Definitions.html#stm_throw"><span class="id" title="constructor">stm_throw</span></a> <a class="idref" href="Top.SystemC.Definitions.html#b'"><span class="id" title="variable">b'</span></a> <a class="idref" href="Top.SystemC.Definitions.html#e"><span class="id" title="variable">e</span></a><br/> <br/> &nbsp;&nbsp;| <a name="sred_throw_2"><span class="id" title="constructor">sred_throw_2</span></a> : <span class="id" title="keyword">∀</span> <span class="id" title="var">b</span> <span class="id" title="var">e</span> <span class="id" title="var">e'</span>,<br/> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Top.SystemC.Definitions.html#bvalue"><span class="id" title="inductive">bvalue</span></a> <a class="idref" href="Top.SystemC.Definitions.html#b"><span class="id" title="variable">b</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">→</span></a><br/> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Top.SystemC.Definitions.html#e"><span class="id" title="variable">e</span></a> <a class="idref" href="Top.SystemC.Definitions.html#20dacbe52519fa496608a0f00147f0ff"><span class="id" title="notation">--&gt;</span></a><a class="idref" href="Top.SystemC.Definitions.html#20dacbe52519fa496608a0f00147f0ff"><span class="id" title="notation">e</span></a> <a class="idref" href="Top.SystemC.Definitions.html#e'"><span class="id" title="variable">e'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">→</span></a><br/> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Top.SystemC.Definitions.html#stm_throw"><span class="id" title="constructor">stm_throw</span></a> <a class="idref" href="Top.SystemC.Definitions.html#b"><span class="id" title="variable">b</span></a> <a class="idref" href="Top.SystemC.Definitions.html#e"><span class="id" title="variable">e</span></a> <a class="idref" href="Top.SystemC.Definitions.html#e1eb5820dc5956ef4a133faa42f77941"><span class="id" title="notation">--&gt;</span></a><a class="idref" href="Top.SystemC.Definitions.html#e1eb5820dc5956ef4a133faa42f77941"><span class="id" title="notation">s</span></a> <a class="idref" href="Top.SystemC.Definitions.html#stm_throw"><span class="id" title="constructor">stm_throw</span></a> <a class="idref" href="Top.SystemC.Definitions.html#b"><span class="id" title="variable">b</span></a> <a class="idref" href="Top.SystemC.Definitions.html#e'"><span class="id" title="variable">e'</span></a><br/> <br/> <span class="id" title="keyword">where</span> <a name="e1eb5820dc5956ef4a133faa42f77941"><span class="id" title="notation">&quot;</span></a>b1 --&gt;s b2" := (<a class="idref" href="Top.SystemC.Definitions.html#sred"><span class="id" title="inductive">sred</span></a> <span class="id" title="var">b1</span> <span class="id" title="var">b2</span>)<br/> .<br/> <br/> </div> <div class="doc"> <a name="lab150"></a> <h2 class="section"> <a name="stacks"></a> Stacks / Contexts </h2> <div class="paragraph"> </div> <img src="img/contexts.png" alt="contexts" class="fig" /> </div> <div class="code"> <br/> <span class="id" title="keyword">Inductive</span> <a name="frame"><span class="id" title="inductive">frame</span></a> : <span class="id" title="keyword">Type</span> :=<br/> &nbsp;&nbsp;<span class="comment">(*&nbsp;val&nbsp;_&nbsp;:&nbsp;T&nbsp;=&nbsp;<span class="inlinecode"></span>;&nbsp;s&nbsp;&nbsp;*)</span><br/> &nbsp;&nbsp;| <a name="K"><span class="id" title="constructor">K</span></a> : <a class="idref" href="Top.SystemC.Definitions.html#vtyp"><span class="id" title="inductive">vtyp</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">→</span></a> <a class="idref" href="Top.SystemC.Definitions.html#stm"><span class="id" title="inductive">stm</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">→</span></a> <a class="idref" href="Top.SystemC.Definitions.html#frame"><span class="id" title="inductive">frame</span></a><br/> &nbsp;&nbsp;<span class="comment">(*&nbsp;invariant:&nbsp;all&nbsp;elements&nbsp;in&nbsp;cap&nbsp;are&nbsp;bound&nbsp;in&nbsp;the&nbsp;tail&nbsp;of&nbsp;the&nbsp;ctx&nbsp;*)</span><br/> &nbsp;&nbsp;| <a name="H"><span class="id" title="constructor">H</span></a> : <a class="idref" href="Top.Util.Label.html#LabelImpl.label"><span class="id" title="axiom">label</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">→</span></a> <a class="idref" href="Top.SystemC.CaptureSets.html#cap"><span class="id" title="inductive">cap</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">→</span></a> <a class="idref" href="Top.SystemC.Definitions.html#stm"><span class="id" title="inductive">stm</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">→</span></a> <a class="idref" href="Top.SystemC.Definitions.html#frame"><span class="id" title="inductive">frame</span></a><br/> .<br/> <br/> </div> <div class="doc"> We use the following abbreviation to denote runtime stacks </div> <div class="code"> <span class="id" title="keyword">Notation</span> <a name="ctx"><span class="id" title="abbreviation">ctx</span></a> := (<a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="Top.SystemC.Definitions.html#frame"><span class="id" title="inductive">frame</span></a>).<br/> <br/> </div> <div class="doc"> The toplevel / empty runtime stack. </div> <div class="code"> <span class="id" title="keyword">Notation</span> <a name="top"><span class="id" title="abbreviation">top</span></a> := (@<a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#nil"><span class="id" title="constructor">nil</span></a> <a class="idref" href="Top.SystemC.Definitions.html#frame"><span class="id" title="inductive">frame</span></a>).<br/> <br/> </div> <div class="doc"> The following definition extracts labels, bound by the context. </div> <div class="code"> <span class="id" title="keyword">Fixpoint</span> <a name="bound_labels"><span class="id" title="definition">bound_labels</span></a> (<span class="id" title="var">c</span> : <a class="idref" href="Top.SystemC.Definitions.html#ctx"><span class="id" title="abbreviation">ctx</span></a>) : <a class="idref" href="Top.Util.Label.html#labels"><span class="id" title="abbreviation">labels</span></a> :=<br/> &nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="Top.SystemC.Definitions.html#c"><span class="id" title="variable">c</span></a> <span class="id" title="keyword">with</span><br/> &nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#nil"><span class="id" title="constructor">nil</span></a> ⇒ <a class="idref" href="Top.Util.Label.html#6d5f914ca8d436a7f90e0b9be989e988"><span class="id" title="notation">{}</span></a><a class="idref" href="Top.Util.Label.html#6d5f914ca8d436a7f90e0b9be989e988"><span class="id" title="notation">L</span></a><br/> &nbsp;&nbsp;| <a class="idref" href="Top.SystemC.Definitions.html#K"><span class="id" title="constructor">K</span></a> <span class="id" title="var">T</span> <span class="id" title="var">s</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#cbcf67aac0c2a85b8d93d37de9969adf"><span class="id" title="notation">::</span></a> <span class="id" title="var">c</span> ⇒ <a class="idref" href="Top.SystemC.Definitions.html#bound_labels"><span class="id" title="definition">bound_labels</span></a> <a class="idref" href="Top.SystemC.Definitions.html#c"><span class="id" title="variable">c</span></a><br/> &nbsp;&nbsp;| <a class="idref" href="Top.SystemC.Definitions.html#H"><span class="id" title="constructor">H</span></a> <span class="id" title="var">l</span> <span class="id" title="var">C</span> <span class="id" title="var">h</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#cbcf67aac0c2a85b8d93d37de9969adf"><span class="id" title="notation">::</span></a> <span class="id" title="var">c</span> ⇒ <a class="idref" href="Top.Util.Label.html#LabelSet.F.union"><span class="id" title="axiom">LabelSet.F.union</span></a> (<a class="idref" href="Top.SystemC.Definitions.html#bound_labels"><span class="id" title="definition">bound_labels</span></a> <a class="idref" href="Top.SystemC.Definitions.html#c"><span class="id" title="variable">c</span></a>) (<a class="idref" href="Top.Util.Label.html#LabelSet.F.singleton"><span class="id" title="axiom">LabelSet.F.singleton</span></a> <span class="id" title="var">l</span>)<br/> &nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/> <br/> </div> <div class="doc"> We need to be able to plug an expression into a context. </div> <div class="code"> <span class="id" title="keyword">Fixpoint</span> <a name="plug"><span class="id" title="definition">plug</span></a> (<span class="id" title="var">c</span> : <a class="idref" href="Top.SystemC.Definitions.html#ctx"><span class="id" title="abbreviation">ctx</span></a>) (<span class="id" title="var">e</span> : <a class="idref" href="Top.SystemC.Definitions.html#exp"><span class="id" title="inductive">exp</span></a>) {<span class="id" title="keyword">struct</span> <span class="id" title="var">c</span>} : <a class="idref" href="Top.SystemC.Definitions.html#stm"><span class="id" title="inductive">stm</span></a> :=<br/> &nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="Top.SystemC.Definitions.html#c"><span class="id" title="variable">c</span></a> <span class="id" title="keyword">with</span><br/> &nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#nil"><span class="id" title="constructor">nil</span></a> ⇒ <a class="idref" href="Top.SystemC.Definitions.html#stm_ret"><span class="id" title="constructor">stm_ret</span></a> <a class="idref" href="Top.SystemC.Definitions.html#e"><span class="id" title="variable">e</span></a><br/> &nbsp;&nbsp;| <a class="idref" href="Top.SystemC.Definitions.html#K"><span class="id" title="constructor">K</span></a> <span class="id" title="var">T</span> <span class="id" title="var">s</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#cbcf67aac0c2a85b8d93d37de9969adf"><span class="id" title="notation">::</span></a> <span class="id" title="var">c</span> ⇒ <a class="idref" href="Top.SystemC.Definitions.html#stm_val"><span class="id" title="constructor">stm_val</span></a> <span class="id" title="var">T</span> (<a class="idref" href="Top.SystemC.Definitions.html#plug"><span class="id" title="definition">plug</span></a> <a class="idref" href="Top.SystemC.Definitions.html#c"><span class="id" title="variable">c</span></a> <a class="idref" href="Top.SystemC.Definitions.html#e"><span class="id" title="variable">e</span></a>) <span class="id" title="var">s</span><br/> &nbsp;&nbsp;| <a class="idref" href="Top.SystemC.Definitions.html#H"><span class="id" title="constructor">H</span></a> <span class="id" title="var">l</span> <span class="id" title="var">C</span> <span class="id" title="var">h</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#cbcf67aac0c2a85b8d93d37de9969adf"><span class="id" title="notation">::</span></a> <span class="id" title="var">c</span> ⇒ <a class="idref" href="Top.SystemC.Definitions.html#stm_reset"><span class="id" title="constructor">stm_reset</span></a> <span class="id" title="var">l</span> <span class="id" title="var">C</span> (<a class="idref" href="Top.SystemC.Definitions.html#plug"><span class="id" title="definition">plug</span></a> <a class="idref" href="Top.SystemC.Definitions.html#c"><span class="id" title="variable">c</span></a> <a class="idref" href="Top.SystemC.Definitions.html#e"><span class="id" title="variable">e</span></a>) <span class="id" title="var">h</span><br/> &nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/> <br/> <span class="id" title="keyword">Reserved Notation</span> &quot;R ; Q |-cnt k ~: T1 ~&gt; T2" (<span class="id" title="tactic">at</span> <span class="id" title="keyword">level</span> 70, <span class="id" title="var">Q</span> <span class="id" title="tactic">at</span> <span class="id" title="var">next</span> <span class="id" title="keyword">level</span>).<br/> <span class="id" title="keyword">Reserved Notation</span> &quot;R ; Q |-ctx c ~: T" (<span class="id" title="tactic">at</span> <span class="id" title="keyword">level</span> 70, <span class="id" title="var">Q</span> <span class="id" title="tactic">at</span> <span class="id" title="var">next</span> <span class="id" title="keyword">level</span>).<br/> <br/> </div> <div class="doc"> <a name="lab151"></a> <h3 class="section"> Context typing </h3> The following definition models the context typing from Appendix A.3 in the paper. <div class="paragraph"> </div> <img src="img/context-typing.png" alt="context typing" class="fig" /> <div class="paragraph"> </div> It can be thought of as a variant of statement typing, flipped inside-out. <span class="inlinecode"><a class="idref" href="Top.SystemC.Definitions.html#typing_ctx"><span class="id" title="inductive">typing_ctx</span></a></span> <span class="inlinecode"><a class="idref" href="Top.SystemC.CaptureSets.html#Props.C"><span class="id" title="variable">C</span></a></span> <span class="inlinecode"><a class="idref" href="Top.Util.ListFacts.html#Q"><span class="id" title="variable">Q</span></a></span> <span class="inlinecode"><a class="idref" href="Top.SystemC.Definitions.html#K"><span class="id" title="constructor">K</span></a></span> <span class="inlinecode"><a class="idref" href="Top.SystemC.Definitions.html#T"><span class="id" title="variable">T</span></a></span> is parametrized by a set <span class="inlinecode"><a class="idref" href="Top.SystemC.CaptureSets.html#Props.C"><span class="id" title="variable">C</span></a></span> of capabilities <i>bound</i> in the context, global signatures <span class="inlinecode"><a class="idref" href="Top.Util.ListFacts.html#Q"><span class="id" title="variable">Q</span></a></span>, the context <span class="inlinecode"><a class="idref" href="Top.SystemC.Definitions.html#K"><span class="id" title="constructor">K</span></a></span> itself, and the type <span class="inlinecode"><a class="idref" href="Top.SystemC.Definitions.html#T"><span class="id" title="variable">T</span></a></span> at the hole. </div> <div class="code"> <span class="id" title="keyword">Inductive</span> <a name="typing_ctx"><span class="id" title="inductive">typing_ctx</span></a> : <a class="idref" href="Top.SystemC.CaptureSets.html#cap"><span class="id" title="inductive">cap</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">→</span></a> <a class="idref" href="Top.SystemC.Definitions.html#sig"><span class="id" title="abbreviation">sig</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">→</span></a> <a class="idref" href="Top.SystemC.Definitions.html#ctx"><span class="id" title="abbreviation">ctx</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">→</span></a> <a class="idref" href="Top.SystemC.Definitions.html#vtyp"><span class="id" title="inductive">vtyp</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">→</span></a> <span class="id" title="keyword">Prop</span> :=<br/> &nbsp;&nbsp;| <a name="typing_ctx_empty"><span class="id" title="constructor">typing_ctx_empty</span></a> : <span class="id" title="keyword">∀</span> <span class="id" title="var">Q</span> <span class="id" title="var">T</span>,<br/> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Top.SystemC.Definitions.html#wf_sig"><span class="id" title="inductive">wf_sig</span></a> <a class="idref" href="Top.SystemC.Definitions.html#Q"><span class="id" title="variable">Q</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">→</span></a><br/> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Top.SystemC.CaptureSets.html#empty_cset"><span class="id" title="definition">empty_cset</span></a> <a class="idref" href="Top.SystemC.Definitions.html#712461db59c1a2fde93b7e2402fdb584"><span class="id" title="notation">;</span></a> <a class="idref" href="Top.SystemC.Definitions.html#Q"><span class="id" title="variable">Q</span></a> <a class="idref" href="Top.SystemC.Definitions.html#712461db59c1a2fde93b7e2402fdb584"><span class="id" title="notation">|-</span></a><a class="idref" href="Top.SystemC.Definitions.html#712461db59c1a2fde93b7e2402fdb584"><span class="id" title="notation">ctx</span></a> <a class="idref" href="Top.SystemC.Definitions.html#top"><span class="id" title="abbreviation">top</span></a> <a class="idref" href="Top.SystemC.Definitions.html#712461db59c1a2fde93b7e2402fdb584"><span class="id" title="notation">~:</span></a> <a class="idref" href="Top.SystemC.Definitions.html#T"><span class="id" title="variable">T</span></a><br/> &nbsp;&nbsp;| <a name="typing_ctx_frame"><span class="id" title="constructor">typing_ctx_frame</span></a> : <span class="id" title="keyword">∀</span> <span class="id" title="var">L</span> <span class="id" title="var">R</span> <span class="id" title="var">Q</span> <span class="id" title="var">c</span> <span class="id" title="var">T1</span> <span class="id" title="var">T2</span> <span class="id" title="var">s</span>,<br/> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Top.SystemC.Definitions.html#R"><span class="id" title="variable">R</span></a> <a class="idref" href="Top.SystemC.Definitions.html#712461db59c1a2fde93b7e2402fdb584"><span class="id" title="notation">;</span></a> <a class="idref" href="Top.SystemC.Definitions.html#Q"><span class="id" title="variable">Q</span></a> <a class="idref" href="Top.SystemC.Definitions.html#712461db59c1a2fde93b7e2402fdb584"><span class="id" title="notation">|-</span></a><a class="idref" href="Top.SystemC.Definitions.html#712461db59c1a2fde93b7e2402fdb584"><span class="id" title="notation">ctx</span></a> <a class="idref" href="Top.SystemC.Definitions.html#c"><span class="id" title="variable">c</span></a> <a class="idref" href="Top.SystemC.Definitions.html#712461db59c1a2fde93b7e2402fdb584"><span class="id" title="notation">~:</span></a> <a class="idref" href="Top.SystemC.Definitions.html#T2"><span class="id" title="variable">T2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">→</span></a><br/> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">(</span></a><span class="id" title="keyword">∀</span> <span class="id" title="var">X</span> : <a class="idref" href="Top.Util.Atom.html#AtomImpl.atom"><span class="id" title="axiom">atom</span></a>, <a class="idref" href="Top.SystemC.Definitions.html#X"><span class="id" title="variable">X</span></a> <a class="idref" href="Top.Util.Metatheory.html#afed8734a485685888dccb4f977f99dd"><span class="id" title="notation">`</span></a><a class="idref" href="Top.Util.Metatheory.html#afed8734a485685888dccb4f977f99dd"><span class="id" title="notation">notin</span></a><a class="idref" href="Top.Util.Metatheory.html#afed8734a485685888dccb4f977f99dd"><span class="id" title="notation">`</span></a> <a class="idref" href="Top.SystemC.Definitions.html#L"><span class="id" title="variable">L</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">→</span></a><br/> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Top.Util.Environment.html#1e2518ff2e78f907c94429897ac7861a"><span class="id" title="notation">[</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="Top.SystemC.Definitions.html#X"><span class="id" title="variable">X</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="Top.SystemC.Definitions.html#bind_val"><span class="id" title="constructor">bind_val</span></a> <a class="idref" href="Top.SystemC.Definitions.html#T1"><span class="id" title="variable">T1</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a><a class="idref" href="Top.Util.Environment.html#1e2518ff2e78f907c94429897ac7861a"><span class="id" title="notation">]</span></a> <a class="idref" href="Top.SystemC.Definitions.html#9cede441202180a620a73f1df5e6bca6"><span class="id" title="notation">@</span></a> <a class="idref" href="Top.SystemC.Definitions.html#R"><span class="id" title="variable">R</span></a> <a class="idref" href="Top.SystemC.Definitions.html#9cede441202180a620a73f1df5e6bca6"><span class="id" title="notation">;</span></a> <a class="idref" href="Top.SystemC.Definitions.html#Q"><span class="id" title="variable">Q</span></a> <a class="idref" href="Top.SystemC.Definitions.html#9cede441202180a620a73f1df5e6bca6"><span class="id" title="notation">|-</span></a><a class="idref" href="Top.SystemC.Definitions.html#9cede441202180a620a73f1df5e6bca6"><span class="id" title="notation">stm</span></a> <a class="idref" href="Top.SystemC.Definitions.html#9cede441202180a620a73f1df5e6bca6"><span class="id" title="notation">(</span></a><a class="idref" href="Top.SystemC.Definitions.html#open_es"><span class="id" title="definition">open_es</span></a> <a class="idref" href="Top.SystemC.Definitions.html#s"><span class="id" title="variable">s</span></a> <a class="idref" href="Top.SystemC.Definitions.html#X"><span class="id" title="variable">X</span></a><a class="idref" href="Top.SystemC.Definitions.html#9cede441202180a620a73f1df5e6bca6"><span class="id" title="notation">)</span></a> <a class="idref" href="Top.SystemC.Definitions.html#9cede441202180a620a73f1df5e6bca6"><span class="id" title="notation">~:</span></a> <a class="idref" href="Top.SystemC.Definitions.html#T2"><span class="id" title="variable">T2</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">→</span></a><br/> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Top.SystemC.Definitions.html#R"><span class="id" title="variable">R</span></a> <a class="idref" href="Top.SystemC.Definitions.html#712461db59c1a2fde93b7e2402fdb584"><span class="id" title="notation">;</span></a> <a class="idref" href="Top.SystemC.Definitions.html#Q"><span class="id" title="variable">Q</span></a> <a class="idref" href="Top.SystemC.Definitions.html#712461db59c1a2fde93b7e2402fdb584"><span class="id" title="notation">|-</span></a><a class="idref" href="Top.SystemC.Definitions.html#712461db59c1a2fde93b7e2402fdb584"><span class="id" title="notation">ctx</span></a> <a class="idref" href="Top.SystemC.Definitions.html#K"><span class="id" title="constructor">K</span></a> <a class="idref" href="Top.SystemC.Definitions.html#T1"><span class="id" title="variable">T1</span></a> <a class="idref" href="Top.SystemC.Definitions.html#s"><span class="id" title="variable">s</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#cbcf67aac0c2a85b8d93d37de9969adf"><span class="id" title="notation">::</span></a> <a class="idref" href="Top.SystemC.Definitions.html#c"><span class="id" title="variable">c</span></a> <a class="idref" href="Top.SystemC.Definitions.html#712461db59c1a2fde93b7e2402fdb584"><span class="id" title="notation">~:</span></a> <a class="idref" href="Top.SystemC.Definitions.html#T1"><span class="id" title="variable">T1</span></a><br/> &nbsp;&nbsp;| <a name="typing_ctx_try"><span class="id" title="constructor">typing_ctx_try</span></a> : <span class="id" title="keyword">∀</span> <span class="id" title="var">L</span> <span class="id" title="var">R</span> <span class="id" title="var">Q</span> <span class="id" title="var">l</span> <span class="id" title="var">C</span> <span class="id" title="var">c</span> <span class="id" title="var">T</span> <span class="id" title="var">T1</span> <span class="id" title="var">T2</span> <span class="id" title="var">s</span>,<br/> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Top.SystemC.Definitions.html#R"><span class="id" title="variable">R</span></a> <a class="idref" href="Top.SystemC.Definitions.html#712461db59c1a2fde93b7e2402fdb584"><span class="id" title="notation">;</span></a> <a class="idref" href="Top.SystemC.Definitions.html#Q"><span class="id" title="variable">Q</span></a> <a class="idref" href="Top.SystemC.Definitions.html#712461db59c1a2fde93b7e2402fdb584"><span class="id" title="notation">|-</span></a><a class="idref" href="Top.SystemC.Definitions.html#712461db59c1a2fde93b7e2402fdb584"><span class="id" title="notation">ctx</span></a> <a class="idref" href="Top.SystemC.Definitions.html#c"><span class="id" title="variable">c</span></a> <a class="idref" href="Top.SystemC.Definitions.html#712461db59c1a2fde93b7e2402fdb584"><span class="id" title="notation">~:</span></a> <a class="idref" href="Top.SystemC.Definitions.html#T"><span class="id" title="variable">T</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">→</span></a><br/> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Top.SystemC.Definitions.html#R"><span class="id" title="variable">R</span></a> <a class="idref" href="Top.SystemC.Definitions.html#11f615684d43d5ff020d0ffb9a3d8457"><span class="id" title="notation">|=</span></a> <a class="idref" href="Top.SystemC.Definitions.html#C"><span class="id" title="variable">C</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">→</span></a><br/> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Top.SystemC.Definitions.html#wf_cap"><span class="id" title="inductive">wf_cap</span></a> <a class="idref" href="Top.SystemC.Definitions.html#empty"><span class="id" title="abbreviation">empty</span></a> <a class="idref" href="Top.SystemC.Definitions.html#C"><span class="id" title="variable">C</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">→</span></a><br/> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Top.Util.Signatures.html#Signatures.binds"><span class="id" title="definition">Signatures.binds</span></a> <a class="idref" href="Top.SystemC.Definitions.html#l"><span class="id" title="variable">l</span></a> (<a class="idref" href="Top.SystemC.Definitions.html#bind_sig"><span class="id" title="constructor">bind_sig</span></a> <a class="idref" href="Top.SystemC.Definitions.html#T1"><span class="id" title="variable">T1</span></a> <a class="idref" href="Top.SystemC.Definitions.html#T2"><span class="id" title="variable">T2</span></a>) <a class="idref" href="Top.SystemC.Definitions.html#Q"><span class="id" title="variable">Q</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">→</span></a><br/> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">(</span></a><span class="id" title="keyword">∀</span> <span class="id" title="var">v</span> : <a class="idref" href="Top.Util.Atom.html#AtomImpl.atom"><span class="id" title="axiom">atom</span></a>, <a class="idref" href="Top.SystemC.Definitions.html#v"><span class="id" title="variable">v</span></a> <a class="idref" href="Top.Util.Metatheory.html#afed8734a485685888dccb4f977f99dd"><span class="id" title="notation">`</span></a><a class="idref" href="Top.Util.Metatheory.html#afed8734a485685888dccb4f977f99dd"><span class="id" title="notation">notin</span></a><a class="idref" href="Top.Util.Metatheory.html#afed8734a485685888dccb4f977f99dd"><span class="id" title="notation">`</span></a> <a class="idref" href="Top.SystemC.Definitions.html#L"><span class="id" title="variable">L</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">→</span></a><br/> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">(</span></a><span class="id" title="keyword">∀</span> <span class="id" title="var">f</span> : <a class="idref" href="Top.Util.Atom.html#AtomImpl.atom"><span class="id" title="axiom">atom</span></a>, <a class="idref" href="Top.SystemC.Definitions.html#f"><span class="id" title="variable">f</span></a> <a class="idref" href="Top.Util.Metatheory.html#afed8734a485685888dccb4f977f99dd"><span class="id" title="notation">`</span></a><a class="idref" href="Top.Util.Metatheory.html#afed8734a485685888dccb4f977f99dd"><span class="id" title="notation">notin</span></a><a class="idref" href="Top.Util.Metatheory.html#afed8734a485685888dccb4f977f99dd"><span class="id" title="notation">`</span></a> <a class="idref" href="Top.Util.Metatheory.html#afed8734a485685888dccb4f977f99dd"><span class="id" title="notation">(</span></a><a class="idref" href="Top.SystemC.Definitions.html#L"><span class="id" title="variable">L</span></a> <a class="idref" href="Top.Util.Metatheory.html#c92914db0a86f2562eff329be5a29633"><span class="id" title="notation">`</span></a><a class="idref" href="Top.Util.Metatheory.html#c92914db0a86f2562eff329be5a29633"><span class="id" title="notation">union</span></a><a class="idref" href="Top.Util.Metatheory.html#c92914db0a86f2562eff329be5a29633"><span class="id" title="notation">`</span></a> <a class="idref" href="Top.Util.Metatheory.html#singleton"><span class="id" title="abbreviation">singleton</span></a> <a class="idref" href="Top.SystemC.Definitions.html#v"><span class="id" title="variable">v</span></a><a class="idref" href="Top.Util.Metatheory.html#afed8734a485685888dccb4f977f99dd"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">→</span></a><br/> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Top.Util.Environment.html#1e2518ff2e78f907c94429897ac7861a"><span class="id" title="notation">[</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="Top.SystemC.Definitions.html#f"><span class="id" title="variable">f</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="Top.SystemC.Definitions.html#bind_blk"><span class="id" title="constructor">bind_blk</span></a> (<a class="idref" href="Top.SystemC.Definitions.html#typ_vfun"><span class="id" title="constructor">typ_vfun</span></a> <a class="idref" href="Top.SystemC.Definitions.html#T2"><span class="id" title="variable">T2</span></a> <a class="idref" href="Top.SystemC.Definitions.html#T"><span class="id" title="variable">T</span></a>) (<a class="idref" href="Top.SystemC.Definitions.html#capture"><span class="id" title="constructor">capture</span></a> <a class="idref" href="Top.SystemC.Definitions.html#C"><span class="id" title="variable">C</span></a>)<a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a><a class="idref" href="Top.Util.Environment.html#1e2518ff2e78f907c94429897ac7861a"><span class="id" title="notation">]</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a><br/> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Top.Util.Environment.html#1e2518ff2e78f907c94429897ac7861a"><span class="id" title="notation">[</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="Top.SystemC.Definitions.html#v"><span class="id" title="variable">v</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="Top.SystemC.Definitions.html#bind_val"><span class="id" title="constructor">bind_val</span></a> <a class="idref" href="Top.SystemC.Definitions.html#T1"><span class="id" title="variable">T1</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a><a class="idref" href="Top.Util.Environment.html#1e2518ff2e78f907c94429897ac7861a"><span class="id" title="notation">]</span></a> <a class="idref" href="Top.SystemC.Definitions.html#9cede441202180a620a73f1df5e6bca6"><span class="id" title="notation">@</span></a> <a class="idref" href="Top.SystemC.Definitions.html#C"><span class="id" title="variable">C</span></a> <a class="idref" href="Top.SystemC.Definitions.html#9cede441202180a620a73f1df5e6bca6"><span class="id" title="notation">;</span></a> <a class="idref" href="Top.SystemC.Definitions.html#Q"><span class="id" title="variable">Q</span></a><br/> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Top.SystemC.Definitions.html#9cede441202180a620a73f1df5e6bca6"><span class="id" title="notation">|-</span></a><a class="idref" href="Top.SystemC.Definitions.html#9cede441202180a620a73f1df5e6bca6"><span class="id" title="notation">stm</span></a> <a class="idref" href="Top.SystemC.Definitions.html#9cede441202180a620a73f1df5e6bca6"><span class="id" title="notation">(</span></a><a class="idref" href="Top.SystemC.Definitions.html#open_bs"><span class="id" title="definition">open_bs</span></a> (<a class="idref" href="Top.SystemC.Definitions.html#open_es"><span class="id" title="definition">open_es</span></a> <a class="idref" href="Top.SystemC.Definitions.html#s"><span class="id" title="variable">s</span></a> <a class="idref" href="Top.SystemC.Definitions.html#v"><span class="id" title="variable">v</span></a>) <a class="idref" href="Top.SystemC.Definitions.html#f"><span class="id" title="variable">f</span></a><a class="idref" href="Top.SystemC.Definitions.html#9cede441202180a620a73f1df5e6bca6"><span class="id" title="notation">)</span></a> <a class="idref" href="Top.SystemC.Definitions.html#9cede441202180a620a73f1df5e6bca6"><span class="id" title="notation">~:</span></a> <a class="idref" href="Top.SystemC.Definitions.html#T"><span class="id" title="variable">T</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">))</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">→</span></a><br/> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Top.SystemC.CaptureSets.html#cset_union"><span class="id" title="definition">cset_union</span></a> <a class="idref" href="Top.SystemC.Definitions.html#C"><span class="id" title="variable">C</span></a> (<a class="idref" href="Top.SystemC.CaptureSets.html#cset_lvar"><span class="id" title="definition">cset_lvar</span></a> <a class="idref" href="Top.SystemC.Definitions.html#l"><span class="id" title="variable">l</span></a>) <a class="idref" href="Top.SystemC.Definitions.html#712461db59c1a2fde93b7e2402fdb584"><span class="id" title="notation">;</span></a> <a class="idref" href="Top.SystemC.Definitions.html#Q"><span class="id" title="variable">Q</span></a> <a class="idref" href="Top.SystemC.Definitions.html#712461db59c1a2fde93b7e2402fdb584"><span class="id" title="notation">|-</span></a><a class="idref" href="Top.SystemC.Definitions.html#712461db59c1a2fde93b7e2402fdb584"><span class="id" title="notation">ctx</span></a> <a class="idref" href="Top.SystemC.Definitions.html#H"><span class="id" title="constructor">H</span></a> <a class="idref" href="Top.SystemC.Definitions.html#l"><span class="id" title="variable">l</span></a> <a class="idref" href="Top.SystemC.Definitions.html#C"><span class="id" title="variable">C</span></a> <a class="idref" href="Top.SystemC.Definitions.html#s"><span class="id" title="variable">s</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#cbcf67aac0c2a85b8d93d37de9969adf"><span class="id" title="notation">::</span></a> <a class="idref" href="Top.SystemC.Definitions.html#c"><span class="id" title="variable">c</span></a> <a class="idref" href="Top.SystemC.Definitions.html#712461db59c1a2fde93b7e2402fdb584"><span class="id" title="notation">~:</span></a> <a class="idref" href="Top.SystemC.Definitions.html#T"><span class="id" title="variable">T</span></a><br/> <br/> <span class="id" title="keyword">where</span> <a name="712461db59c1a2fde93b7e2402fdb584"><span class="id" title="notation">&quot;</span></a>R ; Q |-ctx K ~: T" := (<a class="idref" href="Top.SystemC.Definitions.html#typing_ctx"><span class="id" title="inductive">typing_ctx</span></a> <span class="id" title="var">R</span> <span class="id" title="var">Q</span> <span class="id" title="var">K</span> <span class="id" title="var">T</span>).<br/> <br/> </div> <div class="doc"> <a name="lab152"></a> <h3 class="section"> Continuation typing </h3> Continuations are reversed contexts, so the typing rules are very similar. The rendering <span class="inlinecode"><a class="idref" href="Top.SystemC.CaptureSets.html#Props.R"><span class="id" title="variable">R</span></a></span> <span class="inlinecode">;</span> <span class="inlinecode"><a class="idref" href="Top.Util.ListFacts.html#Q"><span class="id" title="variable">Q</span></a></span> <span class="inlinecode">|-<span class="id" title="var">cnt</span></span> <span class="inlinecode"><a class="idref" href="Top.SystemC.Definitions.html#K"><span class="id" title="constructor">K</span></a></span> <span class="inlinecode">~:</span> <span class="inlinecode"><a class="idref" href="Top.SystemC.Definitions.html#T1"><span class="id" title="variable">T1</span></a></span> <span class="inlinecode">~&gt;</span> <span class="inlinecode"><a class="idref" href="Top.SystemC.Definitions.html#T2"><span class="id" title="variable">T2</span></a></span> shows that continuations <span class="inlinecode"><a class="idref" href="Top.SystemC.Definitions.html#K"><span class="id" title="constructor">K</span></a></span> have a function-like type. The hole has type <span class="inlinecode"><a class="idref" href="Top.SystemC.Definitions.html#T1"><span class="id" title="variable">T1</span></a></span> and they are delimited at <span class="inlinecode"><a class="idref" href="Top.SystemC.Definitions.html#T2"><span class="id" title="variable">T2</span></a></span>. </div> <div class="code"> <span class="id" title="keyword">Inductive</span> <a name="typing_cnt"><span class="id" title="inductive">typing_cnt</span></a> : <a class="idref" href="Top.SystemC.CaptureSets.html#cap"><span class="id" title="inductive">cap</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">→</span></a> <a class="idref" href="Top.SystemC.Definitions.html#sig"><span class="id" title="abbreviation">sig</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">→</span></a> <a class="idref" href="Top.SystemC.Definitions.html#ctx"><span class="id" title="abbreviation">ctx</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">→</span></a> <a class="idref" href="Top.SystemC.Definitions.html#vtyp"><span class="id" title="inductive">vtyp</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">→</span></a> <a class="idref" href="Top.SystemC.Definitions.html#vtyp"><span class="id" title="inductive">vtyp</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">→</span></a> <span class="id" title="keyword">Prop</span> :=<br/> &nbsp;&nbsp;| <a name="typing_cnt_empty"><span class="id" title="constructor">typing_cnt_empty</span></a> : <span class="id" title="keyword">∀</span> <span class="id" title="var">R</span> <span class="id" title="var">Q</span> <span class="id" title="var">T</span>,<br/> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Top.SystemC.Definitions.html#wf_cap"><span class="id" title="inductive">wf_cap</span></a> <a class="idref" href="Top.SystemC.Definitions.html#empty"><span class="id" title="abbreviation">empty</span></a> <a class="idref" href="Top.SystemC.Definitions.html#R"><span class="id" title="variable">R</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">→</span></a><br/> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Top.SystemC.Definitions.html#wf_sig"><span class="id" title="inductive">wf_sig</span></a> <a class="idref" href="Top.SystemC.Definitions.html#Q"><span class="id" title="variable">Q</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">→</span></a><br/> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Top.SystemC.Definitions.html#R"><span class="id" title="variable">R</span></a> <a class="idref" href="Top.SystemC.Definitions.html#cfcebecbc313d9166481b657dbddaafc"><span class="id" title="notation">;</span></a> <a class="idref" href="Top.SystemC.Definitions.html#Q"><span class="id" title="variable">Q</span></a> <a class="idref" href="Top.SystemC.Definitions.html#cfcebecbc313d9166481b657dbddaafc"><span class="id" title="notation">|-</span></a><a class="idref" href="Top.SystemC.Definitions.html#cfcebecbc313d9166481b657dbddaafc"><span class="id" title="notation">cnt</span></a> <a class="idref" href="Top.SystemC.Definitions.html#top"><span class="id" title="abbreviation">top</span></a> <a class="idref" href="Top.SystemC.Definitions.html#cfcebecbc313d9166481b657dbddaafc"><span class="id" title="notation">~:</span></a> <a class="idref" href="Top.SystemC.Definitions.html#T"><span class="id" title="variable">T</span></a> <a class="idref" href="Top.SystemC.Definitions.html#cfcebecbc313d9166481b657dbddaafc"><span class="id" title="notation">~&gt;</span></a> <a class="idref" href="Top.SystemC.Definitions.html#T"><span class="id" title="variable">T</span></a><br/> <br/> &nbsp;&nbsp;| <a name="typing_cnt_frame"><span class="id" title="constructor">typing_cnt_frame</span></a> : <span class="id" title="keyword">∀</span> <span class="id" title="var">L</span> <span class="id" title="var">R</span> <span class="id" title="var">Q</span> <span class="id" title="var">c</span> <span class="id" title="var">T1</span> <span class="id" title="var">T2</span> <span class="id" title="var">T3</span> <span class="id" title="var">s</span>,<br/> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Top.SystemC.Definitions.html#R"><span class="id" title="variable">R</span></a> <a class="idref" href="Top.SystemC.Definitions.html#cfcebecbc313d9166481b657dbddaafc"><span class="id" title="notation">;</span></a> <a class="idref" href="Top.SystemC.Definitions.html#Q"><span class="id" title="variable">Q</span></a> <a class="idref" href="Top.SystemC.Definitions.html#cfcebecbc313d9166481b657dbddaafc"><span class="id" title="notation">|-</span></a><a class="idref" href="Top.SystemC.Definitions.html#cfcebecbc313d9166481b657dbddaafc"><span class="id" title="notation">cnt</span></a> <a class="idref" href="Top.SystemC.Definitions.html#c"><span class="id" title="variable">c</span></a> <a class="idref" href="Top.SystemC.Definitions.html#cfcebecbc313d9166481b657dbddaafc"><span class="id" title="notation">~:</span></a> <a class="idref" href="Top.SystemC.Definitions.html#T1"><span class="id" title="variable">T1</span></a> <a class="idref" href="Top.SystemC.Definitions.html#cfcebecbc313d9166481b657dbddaafc"><span class="id" title="notation">~&gt;</span></a> <a class="idref" href="Top.SystemC.Definitions.html#T2"><span class="id" title="variable">T2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">→</span></a><br/> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">(</span></a><span class="id" title="keyword">∀</span> <span class="id" title="var">X</span> : <a class="idref" href="Top.Util.Atom.html#AtomImpl.atom"><span class="id" title="axiom">atom</span></a>, <a class="idref" href="Top.SystemC.Definitions.html#X"><span class="id" title="variable">X</span></a> <a class="idref" href="Top.Util.Metatheory.html#afed8734a485685888dccb4f977f99dd"><span class="id" title="notation">`</span></a><a class="idref" href="Top.Util.Metatheory.html#afed8734a485685888dccb4f977f99dd"><span class="id" title="notation">notin</span></a><a class="idref" href="Top.Util.Metatheory.html#afed8734a485685888dccb4f977f99dd"><span class="id" title="notation">`</span></a> <a class="idref" href="Top.SystemC.Definitions.html#L"><span class="id" title="variable">L</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">→</span></a><br/> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Top.Util.Environment.html#1e2518ff2e78f907c94429897ac7861a"><span class="id" title="notation">[</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="Top.SystemC.Definitions.html#X"><span class="id" title="variable">X</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="Top.SystemC.Definitions.html#bind_val"><span class="id" title="constructor">bind_val</span></a> <a class="idref" href="Top.SystemC.Definitions.html#T2"><span class="id" title="variable">T2</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a><a class="idref" href="Top.Util.Environment.html#1e2518ff2e78f907c94429897ac7861a"><span class="id" title="notation">]</span></a> <a class="idref" href="Top.SystemC.Definitions.html#9cede441202180a620a73f1df5e6bca6"><span class="id" title="notation">@</span></a> <a class="idref" href="Top.SystemC.Definitions.html#R"><span class="id" title="variable">R</span></a> <a class="idref" href="Top.SystemC.Definitions.html#9cede441202180a620a73f1df5e6bca6"><span class="id" title="notation">;</span></a> <a class="idref" href="Top.SystemC.Definitions.html#Q"><span class="id" title="variable">Q</span></a> <a class="idref" href="Top.SystemC.Definitions.html#9cede441202180a620a73f1df5e6bca6"><span class="id" title="notation">|-</span></a><a class="idref" href="Top.SystemC.Definitions.html#9cede441202180a620a73f1df5e6bca6"><span class="id" title="notation">stm</span></a> <a class="idref" href="Top.SystemC.Definitions.html#9cede441202180a620a73f1df5e6bca6"><span class="id" title="notation">(</span></a><a class="idref" href="Top.SystemC.Definitions.html#open_es"><span class="id" title="definition">open_es</span></a> <a class="idref" href="Top.SystemC.Definitions.html#s"><span class="id" title="variable">s</span></a> <a class="idref" href="Top.SystemC.Definitions.html#X"><span class="id" title="variable">X</span></a><a class="idref" href="Top.SystemC.Definitions.html#9cede441202180a620a73f1df5e6bca6"><span class="id" title="notation">)</span></a> <a class="idref" href="Top.SystemC.Definitions.html#9cede441202180a620a73f1df5e6bca6"><span class="id" title="notation">~:</span></a> <a class="idref" href="Top.SystemC.Definitions.html#T3"><span class="id" title="variable">T3</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">→</span></a><br/> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Top.SystemC.Definitions.html#R"><span class="id" title="variable">R</span></a> <a class="idref" href="Top.SystemC.Definitions.html#cfcebecbc313d9166481b657dbddaafc"><span class="id" title="notation">;</span></a> <a class="idref" href="Top.SystemC.Definitions.html#Q"><span class="id" title="variable">Q</span></a> <a class="idref" href="Top.SystemC.Definitions.html#cfcebecbc313d9166481b657dbddaafc"><span class="id" title="notation">|-</span></a><a class="idref" href="Top.SystemC.Definitions.html#cfcebecbc313d9166481b657dbddaafc"><span class="id" title="notation">cnt</span></a> <a class="idref" href="Top.SystemC.Definitions.html#K"><span class="id" title="constructor">K</span></a> <a class="idref" href="Top.SystemC.Definitions.html#T2"><span class="id" title="variable">T2</span></a> <a class="idref" href="Top.SystemC.Definitions.html#s"><span class="id" title="variable">s</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#cbcf67aac0c2a85b8d93d37de9969adf"><span class="id" title="notation">::</span></a> <a class="idref" href="Top.SystemC.Definitions.html#c"><span class="id" title="variable">c</span></a> <a class="idref" href="Top.SystemC.Definitions.html#cfcebecbc313d9166481b657dbddaafc"><span class="id" title="notation">~:</span></a> <a class="idref" href="Top.SystemC.Definitions.html#T1"><span class="id" title="variable">T1</span></a> <a class="idref" href="Top.SystemC.Definitions.html#cfcebecbc313d9166481b657dbddaafc"><span class="id" title="notation">~&gt;</span></a> <a class="idref" href="Top.SystemC.Definitions.html#T3"><span class="id" title="variable">T3</span></a><br/> <br/> &nbsp;&nbsp;| <a name="typing_cnt_handler"><span class="id" title="constructor">typing_cnt_handler</span></a> : <span class="id" title="keyword">∀</span> <span class="id" title="var">L</span> <span class="id" title="var">R</span> <span class="id" title="var">Q</span> <span class="id" title="var">c</span> <span class="id" title="var">l</span> <span class="id" title="var">C</span> <span class="id" title="var">T</span> <span class="id" title="var">T1</span> <span class="id" title="var">T2</span> <span class="id" title="var">T3</span> <span class="id" title="var">h</span>,<br/> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Top.SystemC.Definitions.html#wf_cap"><span class="id" title="inductive">wf_cap</span></a> <a class="idref" href="Top.SystemC.Definitions.html#empty"><span class="id" title="abbreviation">empty</span></a> <a class="idref" href="Top.SystemC.Definitions.html#R"><span class="id" title="variable">R</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">→</span></a><br/> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Top.SystemC.CaptureSets.html#cset_union"><span class="id" title="definition">cset_union</span></a> <a class="idref" href="Top.SystemC.Definitions.html#C"><span class="id" title="variable">C</span></a> (<a class="idref" href="Top.SystemC.CaptureSets.html#cset_lvar"><span class="id" title="definition">cset_lvar</span></a> <a class="idref" href="Top.SystemC.Definitions.html#l"><span class="id" title="variable">l</span></a>) <a class="idref" href="Top.SystemC.Definitions.html#cfcebecbc313d9166481b657dbddaafc"><span class="id" title="notation">;</span></a> <a class="idref" href="Top.SystemC.Definitions.html#Q"><span class="id" title="variable">Q</span></a> <a class="idref" href="Top.SystemC.Definitions.html#cfcebecbc313d9166481b657dbddaafc"><span class="id" title="notation">|-</span></a><a class="idref" href="Top.SystemC.Definitions.html#cfcebecbc313d9166481b657dbddaafc"><span class="id" title="notation">cnt</span></a> <a class="idref" href="Top.SystemC.Definitions.html#c"><span class="id" title="variable">c</span></a> <a class="idref" href="Top.SystemC.Definitions.html#cfcebecbc313d9166481b657dbddaafc"><span class="id" title="notation">~:</span></a> <a class="idref" href="Top.SystemC.Definitions.html#T1"><span class="id" title="variable">T1</span></a> <a class="idref" href="Top.SystemC.Definitions.html#cfcebecbc313d9166481b657dbddaafc"><span class="id" title="notation">~&gt;</span></a> <a class="idref" href="Top.SystemC.Definitions.html#T2"><span class="id" title="variable">T2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">→</span></a><br/> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Top.SystemC.Definitions.html#R"><span class="id" title="variable">R</span></a> <a class="idref" href="Top.SystemC.Definitions.html#11f615684d43d5ff020d0ffb9a3d8457"><span class="id" title="notation">|=</span></a> <a class="idref" href="Top.SystemC.Definitions.html#C"><span class="id" title="variable">C</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">→</span></a><br/> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Top.Util.Signatures.html#Signatures.binds"><span class="id" title="definition">Signatures.binds</span></a> <a class="idref" href="Top.SystemC.Definitions.html#l"><span class="id" title="variable">l</span></a> (<a class="idref" href="Top.SystemC.Definitions.html#bind_sig"><span class="id" title="constructor">bind_sig</span></a> <a class="idref" href="Top.SystemC.Definitions.html#T3"><span class="id" title="variable">T3</span></a> <a class="idref" href="Top.SystemC.Definitions.html#T"><span class="id" title="variable">T</span></a>) <a class="idref" href="Top.SystemC.Definitions.html#Q"><span class="id" title="variable">Q</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">→</span></a><br/> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">(</span></a><span class="id" title="keyword">∀</span> <span class="id" title="var">v</span> : <a class="idref" href="Top.Util.Atom.html#AtomImpl.atom"><span class="id" title="axiom">atom</span></a>, <a class="idref" href="Top.SystemC.Definitions.html#v"><span class="id" title="variable">v</span></a> <a class="idref" href="Top.Util.Metatheory.html#afed8734a485685888dccb4f977f99dd"><span class="id" title="notation">`</span></a><a class="idref" href="Top.Util.Metatheory.html#afed8734a485685888dccb4f977f99dd"><span class="id" title="notation">notin</span></a><a class="idref" href="Top.Util.Metatheory.html#afed8734a485685888dccb4f977f99dd"><span class="id" title="notation">`</span></a> <a class="idref" href="Top.SystemC.Definitions.html#L"><span class="id" title="variable">L</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">→</span></a><br/> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">(</span></a><span class="id" title="keyword">∀</span> <span class="id" title="var">f</span> : <a class="idref" href="Top.Util.Atom.html#AtomImpl.atom"><span class="id" title="axiom">atom</span></a>, <a class="idref" href="Top.SystemC.Definitions.html#f"><span class="id" title="variable">f</span></a> <a class="idref" href="Top.Util.Metatheory.html#afed8734a485685888dccb4f977f99dd"><span class="id" title="notation">`</span></a><a class="idref" href="Top.Util.Metatheory.html#afed8734a485685888dccb4f977f99dd"><span class="id" title="notation">notin</span></a><a class="idref" href="Top.Util.Metatheory.html#afed8734a485685888dccb4f977f99dd"><span class="id" title="notation">`</span></a> <a class="idref" href="Top.Util.Metatheory.html#afed8734a485685888dccb4f977f99dd"><span class="id" title="notation">(</span></a><a class="idref" href="Top.SystemC.Definitions.html#L"><span class="id" title="variable">L</span></a> <a class="idref" href="Top.Util.Metatheory.html#c92914db0a86f2562eff329be5a29633"><span class="id" title="notation">`</span></a><a class="idref" href="Top.Util.Metatheory.html#c92914db0a86f2562eff329be5a29633"><span class="id" title="notation">union</span></a><a class="idref" href="Top.Util.Metatheory.html#c92914db0a86f2562eff329be5a29633"><span class="id" title="notation">`</span></a> <a class="idref" href="Top.Util.Metatheory.html#singleton"><span class="id" title="abbreviation">singleton</span></a> <a class="idref" href="Top.SystemC.Definitions.html#v"><span class="id" title="variable">v</span></a><a class="idref" href="Top.Util.Metatheory.html#afed8734a485685888dccb4f977f99dd"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">→</span></a><br/> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Top.Util.Environment.html#1e2518ff2e78f907c94429897ac7861a"><span class="id" title="notation">[</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="Top.SystemC.Definitions.html#f"><span class="id" title="variable">f</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="Top.SystemC.Definitions.html#bind_blk"><span class="id" title="constructor">bind_blk</span></a> (<a class="idref" href="Top.SystemC.Definitions.html#typ_vfun"><span class="id" title="constructor">typ_vfun</span></a> <a class="idref" href="Top.SystemC.Definitions.html#T"><span class="id" title="variable">T</span></a> <a class="idref" href="Top.SystemC.Definitions.html#T2"><span class="id" title="variable">T2</span></a>) (<a class="idref" href="Top.SystemC.Definitions.html#capture"><span class="id" title="constructor">capture</span></a> <a class="idref" href="Top.SystemC.Definitions.html#C"><span class="id" title="variable">C</span></a>)<a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a><a class="idref" href="Top.Util.Environment.html#1e2518ff2e78f907c94429897ac7861a"><span class="id" title="notation">]</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a><br/> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Top.Util.Environment.html#1e2518ff2e78f907c94429897ac7861a"><span class="id" title="notation">[</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="Top.SystemC.Definitions.html#v"><span class="id" title="variable">v</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="Top.SystemC.Definitions.html#bind_val"><span class="id" title="constructor">bind_val</span></a> <a class="idref" href="Top.SystemC.Definitions.html#T3"><span class="id" title="variable">T3</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a><a class="idref" href="Top.Util.Environment.html#1e2518ff2e78f907c94429897ac7861a"><span class="id" title="notation">]</span></a> <a class="idref" href="Top.SystemC.Definitions.html#9cede441202180a620a73f1df5e6bca6"><span class="id" title="notation">@</span></a> <a class="idref" href="Top.SystemC.Definitions.html#C"><span class="id" title="variable">C</span></a> <a class="idref" href="Top.SystemC.Definitions.html#9cede441202180a620a73f1df5e6bca6"><span class="id" title="notation">;</span></a> <a class="idref" href="Top.SystemC.Definitions.html#Q"><span class="id" title="variable">Q</span></a> <a class="idref" href="Top.SystemC.Definitions.html#9cede441202180a620a73f1df5e6bca6"><span class="id" title="notation">|-</span></a><a class="idref" href="Top.SystemC.Definitions.html#9cede441202180a620a73f1df5e6bca6"><span class="id" title="notation">stm</span></a> <a class="idref" href="Top.SystemC.Definitions.html#9cede441202180a620a73f1df5e6bca6"><span class="id" title="notation">(</span></a><a class="idref" href="Top.SystemC.Definitions.html#open_bs"><span class="id" title="definition">open_bs</span></a> (<a class="idref" href="Top.SystemC.Definitions.html#open_es"><span class="id" title="definition">open_es</span></a> <a class="idref" href="Top.SystemC.Definitions.html#h"><span class="id" title="variable">h</span></a> <a class="idref" href="Top.SystemC.Definitions.html#v"><span class="id" title="variable">v</span></a>) <a class="idref" href="Top.SystemC.Definitions.html#f"><span class="id" title="variable">f</span></a><a class="idref" href="Top.SystemC.Definitions.html#9cede441202180a620a73f1df5e6bca6"><span class="id" title="notation">)</span></a> <a class="idref" href="Top.SystemC.Definitions.html#9cede441202180a620a73f1df5e6bca6"><span class="id" title="notation">~:</span></a> <a class="idref" href="Top.SystemC.Definitions.html#T2"><span class="id" title="variable">T2</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">))</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">→</span></a><br/> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Top.SystemC.Definitions.html#R"><span class="id" title="variable">R</span></a> <a class="idref" href="Top.SystemC.Definitions.html#cfcebecbc313d9166481b657dbddaafc"><span class="id" title="notation">;</span></a> <a class="idref" href="Top.SystemC.Definitions.html#Q"><span class="id" title="variable">Q</span></a> <a class="idref" href="Top.SystemC.Definitions.html#cfcebecbc313d9166481b657dbddaafc"><span class="id" title="notation">|-</span></a><a class="idref" href="Top.SystemC.Definitions.html#cfcebecbc313d9166481b657dbddaafc"><span class="id" title="notation">cnt</span></a> <a class="idref" href="Top.SystemC.Definitions.html#cfcebecbc313d9166481b657dbddaafc"><span class="id" title="notation">(</span></a><a class="idref" href="Top.SystemC.Definitions.html#H"><span class="id" title="constructor">H</span></a> <a class="idref" href="Top.SystemC.Definitions.html#l"><span class="id" title="variable">l</span></a> <a class="idref" href="Top.SystemC.Definitions.html#C"><span class="id" title="variable">C</span></a> <a class="idref" href="Top.SystemC.Definitions.html#h"><span class="id" title="variable">h</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#cbcf67aac0c2a85b8d93d37de9969adf"><span class="id" title="notation">::</span></a> <a class="idref" href="Top.SystemC.Definitions.html#c"><span class="id" title="variable">c</span></a><a class="idref" href="Top.SystemC.Definitions.html#cfcebecbc313d9166481b657dbddaafc"><span class="id" title="notation">)</span></a> <a class="idref" href="Top.SystemC.Definitions.html#cfcebecbc313d9166481b657dbddaafc"><span class="id" title="notation">~:</span></a> <a class="idref" href="Top.SystemC.Definitions.html#T1"><span class="id" title="variable">T1</span></a> <a class="idref" href="Top.SystemC.Definitions.html#cfcebecbc313d9166481b657dbddaafc"><span class="id" title="notation">~&gt;</span></a> <a class="idref" href="Top.SystemC.Definitions.html#T2"><span class="id" title="variable">T2</span></a><br/> <br/> <span class="id" title="keyword">where</span> <a name="cfcebecbc313d9166481b657dbddaafc"><span class="id" title="notation">&quot;</span></a>R ; Q |-cnt K ~: T1 ~&gt; T2" := (<a class="idref" href="Top.SystemC.Definitions.html#typing_cnt"><span class="id" title="inductive">typing_cnt</span></a> <span class="id" title="var">R</span> <span class="id" title="var">Q</span> <span class="id" title="var">K</span> <span class="id" title="var">T1</span> <span class="id" title="var">T2</span>).<br/> <br/> </div> <div class="doc"> <a name="lab153"></a> <h2 class="section"> <a name="abstract-machine"></a> Abstract Machine </h2> <div class="paragraph"> </div> The abstract machine can be in one of two states. <ul class="doclist"> <li> either we simply step within a context <span class="inlinecode"><a class="idref" href="Top.SystemC.Definitions.html#state_step"><span class="id" title="constructor">state_step</span></a></span>, </li> <li> or we unwind the stack to search for a delimiter <span class="inlinecode"><a class="idref" href="Top.SystemC.Definitions.html#state_wind"><span class="id" title="constructor">state_wind</span></a></span>. </li> </ul> </div> <div class="code"> <span class="id" title="keyword">Inductive</span> <a name="state"><span class="id" title="inductive">state</span></a> : <span class="id" title="keyword">Type</span> :=<br/> &nbsp;&nbsp;| <a name="state_step"><span class="id" title="constructor">state_step</span></a> (<span class="id" title="var">s</span> : <a class="idref" href="Top.SystemC.Definitions.html#stm"><span class="id" title="inductive">stm</span></a>) (<span class="id" title="var">c</span> : <a class="idref" href="Top.SystemC.Definitions.html#ctx"><span class="id" title="abbreviation">ctx</span></a>) (<span class="id" title="var">Q</span> : <a class="idref" href="Top.SystemC.Definitions.html#sig"><span class="id" title="abbreviation">sig</span></a>) : <a class="idref" href="Top.SystemC.Definitions.html#state"><span class="id" title="inductive">state</span></a><br/> &nbsp;&nbsp;| <a name="state_wind"><span class="id" title="constructor">state_wind</span></a> (<span class="id" title="var">l</span> : <a class="idref" href="Top.Util.Label.html#LabelImpl.label"><span class="id" title="axiom">label</span></a>) (<span class="id" title="var">v</span> : <a class="idref" href="Top.SystemC.Definitions.html#exp"><span class="id" title="inductive">exp</span></a>) (<span class="id" title="var">c</span> : <a class="idref" href="Top.SystemC.Definitions.html#ctx"><span class="id" title="abbreviation">ctx</span></a>) (<span class="id" title="var">k</span> : <a class="idref" href="Top.SystemC.Definitions.html#ctx"><span class="id" title="abbreviation">ctx</span></a>) (<span class="id" title="var">Q</span> : <a class="idref" href="Top.SystemC.Definitions.html#sig"><span class="id" title="abbreviation">sig</span></a>) : <a class="idref" href="Top.SystemC.Definitions.html#state"><span class="id" title="inductive">state</span></a><br/> .<br/> <br/> <span class="id" title="keyword">Notation</span> <a name="451cabffa5606fdf421b1d78bf6b4957"><span class="id" title="notation">&quot;</span></a>〈throw l # v | c • k | Q 〉" := (<a class="idref" href="Top.SystemC.Definitions.html#state_wind"><span class="id" title="constructor">state_wind</span></a> <span class="id" title="var">l</span> <span class="id" title="var">v</span> <span class="id" title="var">c</span> <span class="id" title="var">k</span> <span class="id" title="var">Q</span>).<br/> <span class="id" title="keyword">Notation</span> <a name="8b2651044cf89693157aa065ea56f2b9"><span class="id" title="notation">&quot;</span></a>〈 s | c | Q 〉" := (<a class="idref" href="Top.SystemC.Definitions.html#state_step"><span class="id" title="constructor">state_step</span></a> <span class="id" title="var">s</span> <span class="id" title="var">c</span> <span class="id" title="var">Q</span>).<br/> <span class="id" title="keyword">Notation</span> <a name="7a05daf626818c343a2f49ebc7a92a35"><span class="id" title="notation">&quot;</span></a>〈 e | Q 〉" := (<a class="idref" href="Top.SystemC.Definitions.html#state_step"><span class="id" title="constructor">state_step</span></a> (<a class="idref" href="Top.SystemC.Definitions.html#stm_ret"><span class="id" title="constructor">stm_ret</span></a> <span class="id" title="var">e</span>) <a class="idref" href="Top.SystemC.Definitions.html#top"><span class="id" title="abbreviation">top</span></a> <span class="id" title="var">Q</span>).<br/> <br/> <span class="id" title="keyword">Reserved Notation</span> &quot;st1 --&gt; st2" (<span class="id" title="tactic">at</span> <span class="id" title="keyword">level</span> 69).<br/> <br/> </div> <div class="doc"> The following predicate corresponds to values, but for machine states. </div> <div class="code"> <span class="id" title="keyword">Inductive</span> <a name="done"><span class="id" title="inductive">done</span></a> : <a class="idref" href="Top.SystemC.Definitions.html#state"><span class="id" title="inductive">state</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">→</span></a> <span class="id" title="keyword">Prop</span> :=<br/> &nbsp;&nbsp;| <a name="done_ret"><span class="id" title="constructor">done_ret</span></a> : <span class="id" title="keyword">∀</span> <span class="id" title="var">Q</span> <span class="id" title="var">e</span>,<br/> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Top.SystemC.Definitions.html#evalue"><span class="id" title="inductive">evalue</span></a> <a class="idref" href="Top.SystemC.Definitions.html#e"><span class="id" title="variable">e</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">→</span></a><br/> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Top.SystemC.Definitions.html#done"><span class="id" title="inductive">done</span></a> <a class="idref" href="Top.SystemC.Definitions.html#7a05daf626818c343a2f49ebc7a92a35"><span class="id" title="notation">〈</span></a> <a class="idref" href="Top.SystemC.Definitions.html#e"><span class="id" title="variable">e</span></a> <a class="idref" href="Top.SystemC.Definitions.html#7a05daf626818c343a2f49ebc7a92a35"><span class="id" title="notation">|</span></a> <a class="idref" href="Top.SystemC.Definitions.html#Q"><span class="id" title="variable">Q</span></a> <a class="idref" href="Top.SystemC.Definitions.html#7a05daf626818c343a2f49ebc7a92a35"><span class="id" title="notation">〉</span></a><br/> .<br/> <br/> </div> <div class="doc"> <a name="lab154"></a> <h3 class="section"> <a name="machine-reduction"></a> Reduction Steps </h3> For better comparison, we label the rules with the names from the paper. <div class="paragraph"> </div> <img src="img/machine-semantics-serious.png" alt="Semantics" class="fig" /> </div> <div class="code"> <br/> <span class="id" title="keyword">Inductive</span> <a name="step"><span class="id" title="inductive">step</span></a> : <a class="idref" href="Top.SystemC.Definitions.html#state"><span class="id" title="inductive">state</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">→</span></a> <a class="idref" href="Top.SystemC.Definitions.html#state"><span class="id" title="inductive">state</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">→</span></a> <span class="id" title="keyword">Prop</span> :=<br/> <br/> </div> <div class="doc"> (cong) </div> <div class="code"> &nbsp;&nbsp;| <a name="step_cong"><span class="id" title="constructor">step_cong</span></a> : <span class="id" title="keyword">∀</span> <span class="id" title="var">Q</span> <span class="id" title="var">s</span> <span class="id" title="var">s'</span> <span class="id" title="var">c</span>,<br/> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Top.SystemC.Definitions.html#s"><span class="id" title="variable">s</span></a> <a class="idref" href="Top.SystemC.Definitions.html#e1eb5820dc5956ef4a133faa42f77941"><span class="id" title="notation">--&gt;</span></a><a class="idref" href="Top.SystemC.Definitions.html#e1eb5820dc5956ef4a133faa42f77941"><span class="id" title="notation">s</span></a> <a class="idref" href="Top.SystemC.Definitions.html#s'"><span class="id" title="variable">s'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">→</span></a><br/> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Top.SystemC.Definitions.html#8b2651044cf89693157aa065ea56f2b9"><span class="id" title="notation">〈</span></a> <a class="idref" href="Top.SystemC.Definitions.html#s"><span class="id" title="variable">s</span></a> <a class="idref" href="Top.SystemC.Definitions.html#8b2651044cf89693157aa065ea56f2b9"><span class="id" title="notation">|</span></a> <a class="idref" href="Top.SystemC.Definitions.html#c"><span class="id" title="variable">c</span></a> <a class="idref" href="Top.SystemC.Definitions.html#8b2651044cf89693157aa065ea56f2b9"><span class="id" title="notation">|</span></a> <a class="idref" href="Top.SystemC.Definitions.html#Q"><span class="id" title="variable">Q</span></a> <a class="idref" href="Top.SystemC.Definitions.html#8b2651044cf89693157aa065ea56f2b9"><span class="id" title="notation">〉</span></a> <a class="idref" href="Top.SystemC.Definitions.html#e92f2993feae095c395ce5261340adfe"><span class="id" title="notation">--&gt;</span></a> <a class="idref" href="Top.SystemC.Definitions.html#8b2651044cf89693157aa065ea56f2b9"><span class="id" title="notation">〈</span></a> <a class="idref" href="Top.SystemC.Definitions.html#s'"><span class="id" title="variable">s'</span></a> <a class="idref" href="Top.SystemC.Definitions.html#8b2651044cf89693157aa065ea56f2b9"><span class="id" title="notation">|</span></a> <a class="idref" href="Top.SystemC.Definitions.html#c"><span class="id" title="variable">c</span></a> <a class="idref" href="Top.SystemC.Definitions.html#8b2651044cf89693157aa065ea56f2b9"><span class="id" title="notation">|</span></a> <a class="idref" href="Top.SystemC.Definitions.html#Q"><span class="id" title="variable">Q</span></a> <a class="idref" href="Top.SystemC.Definitions.html#8b2651044cf89693157aa065ea56f2b9"><span class="id" title="notation">〉</span></a><br/> <br/> </div> <div class="doc"> (pop) </div> <div class="code"> &nbsp;&nbsp;| <a name="step_pop_1"><span class="id" title="constructor">step_pop_1</span></a> : <span class="id" title="keyword">∀</span> <span class="id" title="var">Q</span> <span class="id" title="var">v</span> <span class="id" title="var">T</span> <span class="id" title="var">s</span> <span class="id" title="var">c</span>,<br/> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Top.SystemC.Definitions.html#evalue"><span class="id" title="inductive">evalue</span></a> <a class="idref" href="Top.SystemC.Definitions.html#v"><span class="id" title="variable">v</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">→</span></a><br/> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Top.SystemC.Definitions.html#8b2651044cf89693157aa065ea56f2b9"><span class="id" title="notation">〈</span></a> <a class="idref" href="Top.SystemC.Definitions.html#stm_ret"><span class="id" title="constructor">stm_ret</span></a> <a class="idref" href="Top.SystemC.Definitions.html#v"><span class="id" title="variable">v</span></a> <a class="idref" href="Top.SystemC.Definitions.html#8b2651044cf89693157aa065ea56f2b9"><span class="id" title="notation">|</span></a> <a class="idref" href="Top.SystemC.Definitions.html#K"><span class="id" title="constructor">K</span></a> <a class="idref" href="Top.SystemC.Definitions.html#T"><span class="id" title="variable">T</span></a> <a class="idref" href="Top.SystemC.Definitions.html#s"><span class="id" title="variable">s</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#cbcf67aac0c2a85b8d93d37de9969adf"><span class="id" title="notation">::</span></a> <a class="idref" href="Top.SystemC.Definitions.html#c"><span class="id" title="variable">c</span></a> <a class="idref" href="Top.SystemC.Definitions.html#8b2651044cf89693157aa065ea56f2b9"><span class="id" title="notation">|</span></a> <a class="idref" href="Top.SystemC.Definitions.html#Q"><span class="id" title="variable">Q</span></a> <a class="idref" href="Top.SystemC.Definitions.html#8b2651044cf89693157aa065ea56f2b9"><span class="id" title="notation">〉</span></a> <a class="idref" href="Top.SystemC.Definitions.html#e92f2993feae095c395ce5261340adfe"><span class="id" title="notation">--&gt;</span></a> <a class="idref" href="Top.SystemC.Definitions.html#8b2651044cf89693157aa065ea56f2b9"><span class="id" title="notation">〈</span></a> <a class="idref" href="Top.SystemC.Definitions.html#open_es"><span class="id" title="definition">open_es</span></a> <a class="idref" href="Top.SystemC.Definitions.html#s"><span class="id" title="variable">s</span></a> <a class="idref" href="Top.SystemC.Definitions.html#v"><span class="id" title="variable">v</span></a> <a class="idref" href="Top.SystemC.Definitions.html#8b2651044cf89693157aa065ea56f2b9"><span class="id" title="notation">|</span></a> <a class="idref" href="Top.SystemC.Definitions.html#c"><span class="id" title="variable">c</span></a> <a class="idref" href="Top.SystemC.Definitions.html#8b2651044cf89693157aa065ea56f2b9"><span class="id" title="notation">|</span></a> <a class="idref" href="Top.SystemC.Definitions.html#Q"><span class="id" title="variable">Q</span></a> <a class="idref" href="Top.SystemC.Definitions.html#8b2651044cf89693157aa065ea56f2b9"><span class="id" title="notation">〉</span></a><br/> <br/> </div> <div class="doc"> (ret) </div> <div class="code"> &nbsp;&nbsp;| <a name="step_pop_2"><span class="id" title="constructor">step_pop_2</span></a> : <span class="id" title="keyword">∀</span> <span class="id" title="var">Q</span> <span class="id" title="var">v</span> <span class="id" title="var">l</span> <span class="id" title="var">C</span> <span class="id" title="var">s</span> <span class="id" title="var">c</span>,<br/> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Top.SystemC.Definitions.html#evalue"><span class="id" title="inductive">evalue</span></a> <a class="idref" href="Top.SystemC.Definitions.html#v"><span class="id" title="variable">v</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">→</span></a><br/> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Top.SystemC.Definitions.html#8b2651044cf89693157aa065ea56f2b9"><span class="id" title="notation">〈</span></a> <a class="idref" href="Top.SystemC.Definitions.html#stm_ret"><span class="id" title="constructor">stm_ret</span></a> <a class="idref" href="Top.SystemC.Definitions.html#v"><span class="id" title="variable">v</span></a> <a class="idref" href="Top.SystemC.Definitions.html#8b2651044cf89693157aa065ea56f2b9"><span class="id" title="notation">|</span></a> <a class="idref" href="Top.SystemC.Definitions.html#H"><span class="id" title="constructor">H</span></a> <a class="idref" href="Top.SystemC.Definitions.html#l"><span class="id" title="variable">l</span></a> <a class="idref" href="Top.SystemC.Definitions.html#C"><span class="id" title="variable">C</span></a> <a class="idref" href="Top.SystemC.Definitions.html#s"><span class="id" title="variable">s</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#cbcf67aac0c2a85b8d93d37de9969adf"><span class="id" title="notation">::</span></a> <a class="idref" href="Top.SystemC.Definitions.html#c"><span class="id" title="variable">c</span></a> <a class="idref" href="Top.SystemC.Definitions.html#8b2651044cf89693157aa065ea56f2b9"><span class="id" title="notation">|</span></a> <a class="idref" href="Top.SystemC.Definitions.html#Q"><span class="id" title="variable">Q</span></a> <a class="idref" href="Top.SystemC.Definitions.html#8b2651044cf89693157aa065ea56f2b9"><span class="id" title="notation">〉</span></a> <a class="idref" href="Top.SystemC.Definitions.html#e92f2993feae095c395ce5261340adfe"><span class="id" title="notation">--&gt;</span></a> <a class="idref" href="Top.SystemC.Definitions.html#8b2651044cf89693157aa065ea56f2b9"><span class="id" title="notation">〈</span></a> <a class="idref" href="Top.SystemC.Definitions.html#stm_ret"><span class="id" title="constructor">stm_ret</span></a> <a class="idref" href="Top.SystemC.Definitions.html#v"><span class="id" title="variable">v</span></a> <a class="idref" href="Top.SystemC.Definitions.html#8b2651044cf89693157aa065ea56f2b9"><span class="id" title="notation">|</span></a> <a class="idref" href="Top.SystemC.Definitions.html#c"><span class="id" title="variable">c</span></a> <a class="idref" href="Top.SystemC.Definitions.html#8b2651044cf89693157aa065ea56f2b9"><span class="id" title="notation">|</span></a> <a class="idref" href="Top.SystemC.Definitions.html#Q"><span class="id" title="variable">Q</span></a> <a class="idref" href="Top.SystemC.Definitions.html#8b2651044cf89693157aa065ea56f2b9"><span class="id" title="notation">〉</span></a><br/> <br/> </div> <div class="doc"> (push) </div> <div class="code"> &nbsp;&nbsp;| <a name="step_push"><span class="id" title="constructor">step_push</span></a> : <span class="id" title="keyword">∀</span> <span class="id" title="var">Q</span> <span class="id" title="var">s</span> <span class="id" title="var">T</span> <span class="id" title="var">b</span> <span class="id" title="var">c</span>,<br/> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Top.SystemC.Definitions.html#stmt"><span class="id" title="inductive">stmt</span></a> (<a class="idref" href="Top.SystemC.Definitions.html#stm_val"><span class="id" title="constructor">stm_val</span></a> <a class="idref" href="Top.SystemC.Definitions.html#T"><span class="id" title="variable">T</span></a> <a class="idref" href="Top.SystemC.Definitions.html#b"><span class="id" title="variable">b</span></a> <a class="idref" href="Top.SystemC.Definitions.html#s"><span class="id" title="variable">s</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">→</span></a><br/> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Top.SystemC.Definitions.html#8b2651044cf89693157aa065ea56f2b9"><span class="id" title="notation">〈</span></a> <a class="idref" href="Top.SystemC.Definitions.html#stm_val"><span class="id" title="constructor">stm_val</span></a> <a class="idref" href="Top.SystemC.Definitions.html#T"><span class="id" title="variable">T</span></a> <a class="idref" href="Top.SystemC.Definitions.html#b"><span class="id" title="variable">b</span></a> <a class="idref" href="Top.SystemC.Definitions.html#s"><span class="id" title="variable">s</span></a> <a class="idref" href="Top.SystemC.Definitions.html#8b2651044cf89693157aa065ea56f2b9"><span class="id" title="notation">|</span></a> <a class="idref" href="Top.SystemC.Definitions.html#c"><span class="id" title="variable">c</span></a> <a class="idref" href="Top.SystemC.Definitions.html#8b2651044cf89693157aa065ea56f2b9"><span class="id" title="notation">|</span></a> <a class="idref" href="Top.SystemC.Definitions.html#Q"><span class="id" title="variable">Q</span></a> <a class="idref" href="Top.SystemC.Definitions.html#8b2651044cf89693157aa065ea56f2b9"><span class="id" title="notation">〉</span></a> <a class="idref" href="Top.SystemC.Definitions.html#e92f2993feae095c395ce5261340adfe"><span class="id" title="notation">--&gt;</span></a> <a class="idref" href="Top.SystemC.Definitions.html#8b2651044cf89693157aa065ea56f2b9"><span class="id" title="notation">〈</span></a> <a class="idref" href="Top.SystemC.Definitions.html#b"><span class="id" title="variable">b</span></a> <a class="idref" href="Top.SystemC.Definitions.html#8b2651044cf89693157aa065ea56f2b9"><span class="id" title="notation">|</span></a> <a class="idref" href="Top.SystemC.Definitions.html#K"><span class="id" title="constructor">K</span></a> <a class="idref" href="Top.SystemC.Definitions.html#T"><span class="id" title="variable">T</span></a> <a class="idref" href="Top.SystemC.Definitions.html#s"><span class="id" title="variable">s</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#cbcf67aac0c2a85b8d93d37de9969adf"><span class="id" title="notation">::</span></a> <a class="idref" href="Top.SystemC.Definitions.html#c"><span class="id" title="variable">c</span></a> <a class="idref" href="Top.SystemC.Definitions.html#8b2651044cf89693157aa065ea56f2b9"><span class="id" title="notation">|</span></a> <a class="idref" href="Top.SystemC.Definitions.html#Q"><span class="id" title="variable">Q</span></a> <a class="idref" href="Top.SystemC.Definitions.html#8b2651044cf89693157aa065ea56f2b9"><span class="id" title="notation">〉</span></a><br/> <br/> </div> <div class="doc"> (try) </div> <div class="code"> &nbsp;&nbsp;| <a name="step_try"><span class="id" title="constructor">step_try</span></a> : <span class="id" title="keyword">∀</span> <span class="id" title="var">Q</span> <span class="id" title="var">s</span> <span class="id" title="var">h</span> <span class="id" title="var">l</span> <span class="id" title="var">C</span> <span class="id" title="var">T2</span> <span class="id" title="var">T1</span> <span class="id" title="var">c</span>,<br/> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">¬</span></a> <a class="idref" href="Top.Util.Label.html#LabelSet.F.In"><span class="id" title="axiom">LabelSet.F.In</span></a> <a class="idref" href="Top.SystemC.Definitions.html#l"><span class="id" title="variable">l</span></a> (<a class="idref" href="Top.SystemC.Definitions.html#bound_labels"><span class="id" title="definition">bound_labels</span></a> <a class="idref" href="Top.SystemC.Definitions.html#c"><span class="id" title="variable">c</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">→</span></a><br/> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">¬</span></a> <a class="idref" href="Top.Util.Label.html#LabelSet.F.In"><span class="id" title="axiom">LabelSet.F.In</span></a> <a class="idref" href="Top.SystemC.Definitions.html#l"><span class="id" title="variable">l</span></a> (<a class="idref" href="Top.Util.Signatures.html#Signatures.dom"><span class="id" title="definition">Signatures.dom</span></a> <a class="idref" href="Top.SystemC.Definitions.html#Q"><span class="id" title="variable">Q</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">→</span></a><br/> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Top.SystemC.Definitions.html#8b2651044cf89693157aa065ea56f2b9"><span class="id" title="notation">〈</span></a> <a class="idref" href="Top.SystemC.Definitions.html#stm_try"><span class="id" title="constructor">stm_try</span></a> <a class="idref" href="Top.SystemC.Definitions.html#C"><span class="id" title="variable">C</span></a> <a class="idref" href="Top.SystemC.Definitions.html#T2"><span class="id" title="variable">T2</span></a> <a class="idref" href="Top.SystemC.Definitions.html#T1"><span class="id" title="variable">T1</span></a> <a class="idref" href="Top.SystemC.Definitions.html#s"><span class="id" title="variable">s</span></a> <a class="idref" href="Top.SystemC.Definitions.html#h"><span class="id" title="variable">h</span></a> <a class="idref" href="Top.SystemC.Definitions.html#8b2651044cf89693157aa065ea56f2b9"><span class="id" title="notation">|</span></a> <a class="idref" href="Top.SystemC.Definitions.html#c"><span class="id" title="variable">c</span></a> <a class="idref" href="Top.SystemC.Definitions.html#8b2651044cf89693157aa065ea56f2b9"><span class="id" title="notation">|</span></a> <a class="idref" href="Top.SystemC.Definitions.html#Q"><span class="id" title="variable">Q</span></a> <a class="idref" href="Top.SystemC.Definitions.html#8b2651044cf89693157aa065ea56f2b9"><span class="id" title="notation">〉</span></a><a class="idref" href="Top.SystemC.Definitions.html#e92f2993feae095c395ce5261340adfe"><span class="id" title="notation">--&gt;</span></a><br/> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Top.SystemC.Definitions.html#8b2651044cf89693157aa065ea56f2b9"><span class="id" title="notation">〈</span></a> <a class="idref" href="Top.SystemC.Definitions.html#open_cs"><span class="id" title="definition">open_cs</span></a> <a class="idref" href="Top.SystemC.Definitions.html#s"><span class="id" title="variable">s</span></a> (<a class="idref" href="Top.SystemC.Definitions.html#blk_handler"><span class="id" title="constructor">blk_handler</span></a> <a class="idref" href="Top.SystemC.Definitions.html#l"><span class="id" title="variable">l</span></a>) (<a class="idref" href="Top.SystemC.CaptureSets.html#cset_lvar"><span class="id" title="definition">cset_lvar</span></a> <a class="idref" href="Top.SystemC.Definitions.html#l"><span class="id" title="variable">l</span></a>) <a class="idref" href="Top.SystemC.Definitions.html#8b2651044cf89693157aa065ea56f2b9"><span class="id" title="notation">|</span></a> <a class="idref" href="Top.SystemC.Definitions.html#H"><span class="id" title="constructor">H</span></a> <a class="idref" href="Top.SystemC.Definitions.html#l"><span class="id" title="variable">l</span></a> <a class="idref" href="Top.SystemC.Definitions.html#C"><span class="id" title="variable">C</span></a> <a class="idref" href="Top.SystemC.Definitions.html#h"><span class="id" title="variable">h</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#cbcf67aac0c2a85b8d93d37de9969adf"><span class="id" title="notation">::</span></a> <a class="idref" href="Top.SystemC.Definitions.html#c"><span class="id" title="variable">c</span></a> <a class="idref" href="Top.SystemC.Definitions.html#8b2651044cf89693157aa065ea56f2b9"><span class="id" title="notation">|</span></a> <a class="idref" href="Top.Util.Environment.html#1e2518ff2e78f907c94429897ac7861a"><span class="id" title="notation">[</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="Top.SystemC.Definitions.html#l"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="Top.SystemC.Definitions.html#bind_sig"><span class="id" title="constructor">bind_sig</span></a> <a class="idref" href="Top.SystemC.Definitions.html#T2"><span class="id" title="variable">T2</span></a> <a class="idref" href="Top.SystemC.Definitions.html#T1"><span class="id" title="variable">T1</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a><a class="idref" href="Top.Util.Environment.html#1e2518ff2e78f907c94429897ac7861a"><span class="id" title="notation">]</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="Top.SystemC.Definitions.html#Q"><span class="id" title="variable">Q</span></a> <a class="idref" href="Top.SystemC.Definitions.html#8b2651044cf89693157aa065ea56f2b9"><span class="id" title="notation">〉</span></a><br/> <br/> </div> <div class="doc"> (reset) </div> <div class="code"> &nbsp;&nbsp;| <a name="step_reset"><span class="id" title="constructor">step_reset</span></a> : <span class="id" title="keyword">∀</span> <span class="id" title="var">Q</span> <span class="id" title="var">s</span> <span class="id" title="var">h</span> <span class="id" title="var">l</span> <span class="id" title="var">C</span> <span class="id" title="var">T1</span> <span class="id" title="var">T</span> <span class="id" title="var">c</span>,<br/> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Top.Util.Signatures.html#Signatures.binds"><span class="id" title="definition">Signatures.binds</span></a> <a class="idref" href="Top.SystemC.Definitions.html#l"><span class="id" title="variable">l</span></a> (<a class="idref" href="Top.SystemC.Definitions.html#bind_sig"><span class="id" title="constructor">bind_sig</span></a> <a class="idref" href="Top.SystemC.Definitions.html#T1"><span class="id" title="variable">T1</span></a> <a class="idref" href="Top.SystemC.Definitions.html#T"><span class="id" title="variable">T</span></a>) <a class="idref" href="Top.SystemC.Definitions.html#Q"><span class="id" title="variable">Q</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">→</span></a><br/> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Top.SystemC.Definitions.html#8b2651044cf89693157aa065ea56f2b9"><span class="id" title="notation">〈</span></a> <a class="idref" href="Top.SystemC.Definitions.html#stm_reset"><span class="id" title="constructor">stm_reset</span></a> <a class="idref" href="Top.SystemC.Definitions.html#l"><span class="id" title="variable">l</span></a> <a class="idref" href="Top.SystemC.Definitions.html#C"><span class="id" title="variable">C</span></a> <a class="idref" href="Top.SystemC.Definitions.html#s"><span class="id" title="variable">s</span></a> <a class="idref" href="Top.SystemC.Definitions.html#h"><span class="id" title="variable">h</span></a> <a class="idref" href="Top.SystemC.Definitions.html#8b2651044cf89693157aa065ea56f2b9"><span class="id" title="notation">|</span></a> <a class="idref" href="Top.SystemC.Definitions.html#c"><span class="id" title="variable">c</span></a> <a class="idref" href="Top.SystemC.Definitions.html#8b2651044cf89693157aa065ea56f2b9"><span class="id" title="notation">|</span></a> <a class="idref" href="Top.SystemC.Definitions.html#Q"><span class="id" title="variable">Q</span></a> <a class="idref" href="Top.SystemC.Definitions.html#8b2651044cf89693157aa065ea56f2b9"><span class="id" title="notation">〉</span></a><a class="idref" href="Top.SystemC.Definitions.html#e92f2993feae095c395ce5261340adfe"><span class="id" title="notation">--&gt;</span></a> <a class="idref" href="Top.SystemC.Definitions.html#8b2651044cf89693157aa065ea56f2b9"><span class="id" title="notation">〈</span></a> <a class="idref" href="Top.SystemC.Definitions.html#s"><span class="id" title="variable">s</span></a> <a class="idref" href="Top.SystemC.Definitions.html#8b2651044cf89693157aa065ea56f2b9"><span class="id" title="notation">|</span></a> <a class="idref" href="Top.SystemC.Definitions.html#H"><span class="id" title="constructor">H</span></a> <a class="idref" href="Top.SystemC.Definitions.html#l"><span class="id" title="variable">l</span></a> <a class="idref" href="Top.SystemC.Definitions.html#C"><span class="id" title="variable">C</span></a> <a class="idref" href="Top.SystemC.Definitions.html#h"><span class="id" title="variable">h</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#cbcf67aac0c2a85b8d93d37de9969adf"><span class="id" title="notation">::</span></a> <a class="idref" href="Top.SystemC.Definitions.html#c"><span class="id" title="variable">c</span></a> <a class="idref" href="Top.SystemC.Definitions.html#8b2651044cf89693157aa065ea56f2b9"><span class="id" title="notation">|</span></a> <a class="idref" href="Top.SystemC.Definitions.html#Q"><span class="id" title="variable">Q</span></a> <a class="idref" href="Top.SystemC.Definitions.html#8b2651044cf89693157aa065ea56f2b9"><span class="id" title="notation">〉</span></a><br/> <br/> </div> <div class="doc"> (try), switch to search mode </div> <div class="code"> &nbsp;&nbsp;| <a name="step_throw"><span class="id" title="constructor">step_throw</span></a> : <span class="id" title="keyword">∀</span> <span class="id" title="var">Q</span> <span class="id" title="var">l</span> <span class="id" title="var">v</span> <span class="id" title="var">c</span>,<br/> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Top.SystemC.Definitions.html#evalue"><span class="id" title="inductive">evalue</span></a> <a class="idref" href="Top.SystemC.Definitions.html#v"><span class="id" title="variable">v</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">→</span></a><br/> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Top.SystemC.Definitions.html#8b2651044cf89693157aa065ea56f2b9"><span class="id" title="notation">〈</span></a> <a class="idref" href="Top.SystemC.Definitions.html#stm_throw"><span class="id" title="constructor">stm_throw</span></a> (<a class="idref" href="Top.SystemC.Definitions.html#blk_handler"><span class="id" title="constructor">blk_handler</span></a> <a class="idref" href="Top.SystemC.Definitions.html#l"><span class="id" title="variable">l</span></a>) <a class="idref" href="Top.SystemC.Definitions.html#v"><span class="id" title="variable">v</span></a> <a class="idref" href="Top.SystemC.Definitions.html#8b2651044cf89693157aa065ea56f2b9"><span class="id" title="notation">|</span></a> <a class="idref" href="Top.SystemC.Definitions.html#c"><span class="id" title="variable">c</span></a> <a class="idref" href="Top.SystemC.Definitions.html#8b2651044cf89693157aa065ea56f2b9"><span class="id" title="notation">|</span></a> <a class="idref" href="Top.SystemC.Definitions.html#Q"><span class="id" title="variable">Q</span></a> <a class="idref" href="Top.SystemC.Definitions.html#8b2651044cf89693157aa065ea56f2b9"><span class="id" title="notation">〉</span></a><a class="idref" href="Top.SystemC.Definitions.html#e92f2993feae095c395ce5261340adfe"><span class="id" title="notation">--&gt;</span></a><br/> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Top.SystemC.Definitions.html#451cabffa5606fdf421b1d78bf6b4957"><span class="id" title="notation">〈</span></a><a class="idref" href="Top.SystemC.Definitions.html#451cabffa5606fdf421b1d78bf6b4957"><span class="id" title="notation">throw</span></a> <a class="idref" href="Top.SystemC.Definitions.html#l"><span class="id" title="variable">l</span></a> <a class="idref" href="Top.SystemC.Definitions.html#451cabffa5606fdf421b1d78bf6b4957"><span class="id" title="notation">#</span></a> <a class="idref" href="Top.SystemC.Definitions.html#v"><span class="id" title="variable">v</span></a> <a class="idref" href="Top.SystemC.Definitions.html#451cabffa5606fdf421b1d78bf6b4957"><span class="id" title="notation">|</span></a> <a class="idref" href="Top.SystemC.Definitions.html#c"><span class="id" title="variable">c</span></a> <a class="idref" href="Top.SystemC.Definitions.html#451cabffa5606fdf421b1d78bf6b4957"><span class="id" title="notation">•</span></a> <a class="idref" href="Top.SystemC.Definitions.html#top"><span class="id" title="abbreviation">top</span></a> <a class="idref" href="Top.SystemC.Definitions.html#451cabffa5606fdf421b1d78bf6b4957"><span class="id" title="notation">|</span></a> <a class="idref" href="Top.SystemC.Definitions.html#Q"><span class="id" title="variable">Q</span></a> <a class="idref" href="Top.SystemC.Definitions.html#451cabffa5606fdf421b1d78bf6b4957"><span class="id" title="notation">〉</span></a><br/> <br/> </div> <div class="doc"> (unwind) </div> <div class="code"> &nbsp;&nbsp;| <a name="step_unwind_1"><span class="id" title="constructor">step_unwind_1</span></a> : <span class="id" title="keyword">∀</span> <span class="id" title="var">Q</span> <span class="id" title="var">l</span> <span class="id" title="var">v</span> <span class="id" title="var">T</span> <span class="id" title="var">s</span> <span class="id" title="var">c</span> <span class="id" title="var">k</span>,<br/> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Top.SystemC.Definitions.html#451cabffa5606fdf421b1d78bf6b4957"><span class="id" title="notation">〈</span></a><a class="idref" href="Top.SystemC.Definitions.html#451cabffa5606fdf421b1d78bf6b4957"><span class="id" title="notation">throw</span></a> <a class="idref" href="Top.SystemC.Definitions.html#l"><span class="id" title="variable">l</span></a> <a class="idref" href="Top.SystemC.Definitions.html#451cabffa5606fdf421b1d78bf6b4957"><span class="id" title="notation">#</span></a> <a class="idref" href="Top.SystemC.Definitions.html#v"><span class="id" title="variable">v</span></a> <a class="idref" href="Top.SystemC.Definitions.html#451cabffa5606fdf421b1d78bf6b4957"><span class="id" title="notation">|</span></a> <a class="idref" href="Top.SystemC.Definitions.html#K"><span class="id" title="constructor">K</span></a> <a class="idref" href="Top.SystemC.Definitions.html#T"><span class="id" title="variable">T</span></a> <a class="idref" href="Top.SystemC.Definitions.html#s"><span class="id" title="variable">s</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#cbcf67aac0c2a85b8d93d37de9969adf"><span class="id" title="notation">::</span></a> <a class="idref" href="Top.SystemC.Definitions.html#c"><span class="id" title="variable">c</span></a> <a class="idref" href="Top.SystemC.Definitions.html#451cabffa5606fdf421b1d78bf6b4957"><span class="id" title="notation">•</span></a> <a class="idref" href="Top.SystemC.Definitions.html#k"><span class="id" title="variable">k</span></a> <a class="idref" href="Top.SystemC.Definitions.html#451cabffa5606fdf421b1d78bf6b4957"><span class="id" title="notation">|</span></a> <a class="idref" href="Top.SystemC.Definitions.html#Q"><span class="id" title="variable">Q</span></a> <a class="idref" href="Top.SystemC.Definitions.html#451cabffa5606fdf421b1d78bf6b4957"><span class="id" title="notation">〉</span></a><a class="idref" href="Top.SystemC.Definitions.html#e92f2993feae095c395ce5261340adfe"><span class="id" title="notation">--&gt;</span></a> <a class="idref" href="Top.SystemC.Definitions.html#451cabffa5606fdf421b1d78bf6b4957"><span class="id" title="notation">〈</span></a><a class="idref" href="Top.SystemC.Definitions.html#451cabffa5606fdf421b1d78bf6b4957"><span class="id" title="notation">throw</span></a> <a class="idref" href="Top.SystemC.Definitions.html#l"><span class="id" title="variable">l</span></a> <a class="idref" href="Top.SystemC.Definitions.html#451cabffa5606fdf421b1d78bf6b4957"><span class="id" title="notation">#</span></a> <a class="idref" href="Top.SystemC.Definitions.html#v"><span class="id" title="variable">v</span></a> <a class="idref" href="Top.SystemC.Definitions.html#451cabffa5606fdf421b1d78bf6b4957"><span class="id" title="notation">|</span></a> <a class="idref" href="Top.SystemC.Definitions.html#c"><span class="id" title="variable">c</span></a> <a class="idref" href="Top.SystemC.Definitions.html#451cabffa5606fdf421b1d78bf6b4957"><span class="id" title="notation">•</span></a> <a class="idref" href="Top.SystemC.Definitions.html#K"><span class="id" title="constructor">K</span></a> <a class="idref" href="Top.SystemC.Definitions.html#T"><span class="id" title="variable">T</span></a> <a class="idref" href="Top.SystemC.Definitions.html#s"><span class="id" title="variable">s</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#cbcf67aac0c2a85b8d93d37de9969adf"><span class="id" title="notation">::</span></a> <a class="idref" href="Top.SystemC.Definitions.html#k"><span class="id" title="variable">k</span></a> <a class="idref" href="Top.SystemC.Definitions.html#451cabffa5606fdf421b1d78bf6b4957"><span class="id" title="notation">|</span></a> <a class="idref" href="Top.SystemC.Definitions.html#Q"><span class="id" title="variable">Q</span></a> <a class="idref" href="Top.SystemC.Definitions.html#451cabffa5606fdf421b1d78bf6b4957"><span class="id" title="notation">〉</span></a><br/> <br/> </div> <div class="doc"> (forward) </div> <div class="code"> &nbsp;&nbsp;| <a name="step_unwind_2"><span class="id" title="constructor">step_unwind_2</span></a> : <span class="id" title="keyword">∀</span> <span class="id" title="var">Q</span> <span class="id" title="var">l</span> <span class="id" title="var">v</span> <span class="id" title="var">l2</span> <span class="id" title="var">C</span> <span class="id" title="var">h</span> <span class="id" title="var">c</span> <span class="id" title="var">k</span>,<br/> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Top.SystemC.Definitions.html#l"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Logic.html#a0a5068f83a704fcfbda8cd473a6cfea"><span class="id" title="notation">≠</span></a> <a class="idref" href="Top.SystemC.Definitions.html#l2"><span class="id" title="variable">l2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">→</span></a><br/> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Top.SystemC.Definitions.html#451cabffa5606fdf421b1d78bf6b4957"><span class="id" title="notation">〈</span></a><a class="idref" href="Top.SystemC.Definitions.html#451cabffa5606fdf421b1d78bf6b4957"><span class="id" title="notation">throw</span></a> <a class="idref" href="Top.SystemC.Definitions.html#l"><span class="id" title="variable">l</span></a> <a class="idref" href="Top.SystemC.Definitions.html#451cabffa5606fdf421b1d78bf6b4957"><span class="id" title="notation">#</span></a> <a class="idref" href="Top.SystemC.Definitions.html#v"><span class="id" title="variable">v</span></a> <a class="idref" href="Top.SystemC.Definitions.html#451cabffa5606fdf421b1d78bf6b4957"><span class="id" title="notation">|</span></a> <a class="idref" href="Top.SystemC.Definitions.html#H"><span class="id" title="constructor">H</span></a> <a class="idref" href="Top.SystemC.Definitions.html#l2"><span class="id" title="variable">l2</span></a> <a class="idref" href="Top.SystemC.Definitions.html#C"><span class="id" title="variable">C</span></a> <a class="idref" href="Top.SystemC.Definitions.html#h"><span class="id" title="variable">h</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#cbcf67aac0c2a85b8d93d37de9969adf"><span class="id" title="notation">::</span></a> <a class="idref" href="Top.SystemC.Definitions.html#c"><span class="id" title="variable">c</span></a> <a class="idref" href="Top.SystemC.Definitions.html#451cabffa5606fdf421b1d78bf6b4957"><span class="id" title="notation">•</span></a> <a class="idref" href="Top.SystemC.Definitions.html#k"><span class="id" title="variable">k</span></a> <a class="idref" href="Top.SystemC.Definitions.html#451cabffa5606fdf421b1d78bf6b4957"><span class="id" title="notation">|</span></a> <a class="idref" href="Top.SystemC.Definitions.html#Q"><span class="id" title="variable">Q</span></a> <a class="idref" href="Top.SystemC.Definitions.html#451cabffa5606fdf421b1d78bf6b4957"><span class="id" title="notation">〉</span></a><a class="idref" href="Top.SystemC.Definitions.html#e92f2993feae095c395ce5261340adfe"><span class="id" title="notation">--&gt;</span></a> <a class="idref" href="Top.SystemC.Definitions.html#451cabffa5606fdf421b1d78bf6b4957"><span class="id" title="notation">〈</span></a><a class="idref" href="Top.SystemC.Definitions.html#451cabffa5606fdf421b1d78bf6b4957"><span class="id" title="notation">throw</span></a> <a class="idref" href="Top.SystemC.Definitions.html#l"><span class="id" title="variable">l</span></a> <a class="idref" href="Top.SystemC.Definitions.html#451cabffa5606fdf421b1d78bf6b4957"><span class="id" title="notation">#</span></a> <a class="idref" href="Top.SystemC.Definitions.html#v"><span class="id" title="variable">v</span></a> <a class="idref" href="Top.SystemC.Definitions.html#451cabffa5606fdf421b1d78bf6b4957"><span class="id" title="notation">|</span></a> <a class="idref" href="Top.SystemC.Definitions.html#c"><span class="id" title="variable">c</span></a> <a class="idref" href="Top.SystemC.Definitions.html#451cabffa5606fdf421b1d78bf6b4957"><span class="id" title="notation">•</span></a> <a class="idref" href="Top.SystemC.Definitions.html#H"><span class="id" title="constructor">H</span></a> <a class="idref" href="Top.SystemC.Definitions.html#l2"><span class="id" title="variable">l2</span></a> <a class="idref" href="Top.SystemC.Definitions.html#C"><span class="id" title="variable">C</span></a> <a class="idref" href="Top.SystemC.Definitions.html#h"><span class="id" title="variable">h</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#cbcf67aac0c2a85b8d93d37de9969adf"><span class="id" title="notation">::</span></a> <a class="idref" href="Top.SystemC.Definitions.html#k"><span class="id" title="variable">k</span></a> <a class="idref" href="Top.SystemC.Definitions.html#451cabffa5606fdf421b1d78bf6b4957"><span class="id" title="notation">|</span></a> <a class="idref" href="Top.SystemC.Definitions.html#Q"><span class="id" title="variable">Q</span></a> <a class="idref" href="Top.SystemC.Definitions.html#451cabffa5606fdf421b1d78bf6b4957"><span class="id" title="notation">〉</span></a><br/> <br/> </div> <div class="doc"> (handle), switch back to step mode </div> <div class="code"> &nbsp;&nbsp;| <a name="step_handle"><span class="id" title="constructor">step_handle</span></a> : <span class="id" title="keyword">∀</span> <span class="id" title="var">Q</span> <span class="id" title="var">l</span> <span class="id" title="var">v</span> <span class="id" title="var">T</span> <span class="id" title="var">T1</span> <span class="id" title="var">C</span> <span class="id" title="var">h</span> <span class="id" title="var">c</span> <span class="id" title="var">k</span>,<br/> &nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;the&nbsp;continuation:&nbsp;(y&nbsp;:&nbsp;T1)&nbsp;=&gt;&nbsp;reset&nbsp;l&nbsp;c&nbsp;h&nbsp;E<span class="inlinecode"><span class="id" title="var">y</span></span>&nbsp;&nbsp;*)</span><br/> &nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Top.Util.Signatures.html#Signatures.binds"><span class="id" title="definition">Signatures.binds</span></a> <a class="idref" href="Top.SystemC.Definitions.html#l"><span class="id" title="variable">l</span></a> (<a class="idref" href="Top.SystemC.Definitions.html#bind_sig"><span class="id" title="constructor">bind_sig</span></a> <a class="idref" href="Top.SystemC.Definitions.html#T"><span class="id" title="variable">T</span></a> <a class="idref" href="Top.SystemC.Definitions.html#T1"><span class="id" title="variable">T1</span></a>) <a class="idref" href="Top.SystemC.Definitions.html#Q"><span class="id" title="variable">Q</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">→</span></a><br/> &nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Top.SystemC.Definitions.html#451cabffa5606fdf421b1d78bf6b4957"><span class="id" title="notation">〈</span></a><a class="idref" href="Top.SystemC.Definitions.html#451cabffa5606fdf421b1d78bf6b4957"><span class="id" title="notation">throw</span></a> <a class="idref" href="Top.SystemC.Definitions.html#l"><span class="id" title="variable">l</span></a> <a class="idref" href="Top.SystemC.Definitions.html#451cabffa5606fdf421b1d78bf6b4957"><span class="id" title="notation">#</span></a> <a class="idref" href="Top.SystemC.Definitions.html#v"><span class="id" title="variable">v</span></a> <a class="idref" href="Top.SystemC.Definitions.html#451cabffa5606fdf421b1d78bf6b4957"><span class="id" title="notation">|</span></a> <a class="idref" href="Top.SystemC.Definitions.html#H"><span class="id" title="constructor">H</span></a> <a class="idref" href="Top.SystemC.Definitions.html#l"><span class="id" title="variable">l</span></a> <a class="idref" href="Top.SystemC.Definitions.html#C"><span class="id" title="variable">C</span></a> <a class="idref" href="Top.SystemC.Definitions.html#h"><span class="id" title="variable">h</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#cbcf67aac0c2a85b8d93d37de9969adf"><span class="id" title="notation">::</span></a> <a class="idref" href="Top.SystemC.Definitions.html#c"><span class="id" title="variable">c</span></a> <a class="idref" href="Top.SystemC.Definitions.html#451cabffa5606fdf421b1d78bf6b4957"><span class="id" title="notation">•</span></a> <a class="idref" href="Top.SystemC.Definitions.html#k"><span class="id" title="variable">k</span></a> <a class="idref" href="Top.SystemC.Definitions.html#451cabffa5606fdf421b1d78bf6b4957"><span class="id" title="notation">|</span></a> <a class="idref" href="Top.SystemC.Definitions.html#Q"><span class="id" title="variable">Q</span></a> <a class="idref" href="Top.SystemC.Definitions.html#451cabffa5606fdf421b1d78bf6b4957"><span class="id" title="notation">〉</span></a><a class="idref" href="Top.SystemC.Definitions.html#e92f2993feae095c395ce5261340adfe"><span class="id" title="notation">--&gt;</span></a><br/> &nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Top.SystemC.Definitions.html#8b2651044cf89693157aa065ea56f2b9"><span class="id" title="notation">〈</span></a> <a class="idref" href="Top.SystemC.Definitions.html#open_bs"><span class="id" title="definition">open_bs</span></a> (<a class="idref" href="Top.SystemC.Definitions.html#open_es"><span class="id" title="definition">open_es</span></a> <a class="idref" href="Top.SystemC.Definitions.html#h"><span class="id" title="variable">h</span></a> <a class="idref" href="Top.SystemC.Definitions.html#v"><span class="id" title="variable">v</span></a>)<br/> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="Top.SystemC.Definitions.html#blk_vabs"><span class="id" title="constructor">blk_vabs</span></a> <a class="idref" href="Top.SystemC.Definitions.html#T1"><span class="id" title="variable">T1</span></a> (<a class="idref" href="Top.SystemC.Definitions.html#plug"><span class="id" title="definition">plug</span></a> (<a class="idref" href="Top.SystemC.Definitions.html#H"><span class="id" title="constructor">H</span></a> <a class="idref" href="Top.SystemC.Definitions.html#l"><span class="id" title="variable">l</span></a> <a class="idref" href="Top.SystemC.Definitions.html#C"><span class="id" title="variable">C</span></a> <a class="idref" href="Top.SystemC.Definitions.html#h"><span class="id" title="variable">h</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#cbcf67aac0c2a85b8d93d37de9969adf"><span class="id" title="notation">::</span></a> <a class="idref" href="Top.SystemC.Definitions.html#k"><span class="id" title="variable">k</span></a>) (<a class="idref" href="Top.SystemC.Definitions.html#exp_bvar"><span class="id" title="constructor">exp_bvar</span></a> 0))) <a class="idref" href="Top.SystemC.Definitions.html#8b2651044cf89693157aa065ea56f2b9"><span class="id" title="notation">|</span></a> <a class="idref" href="Top.SystemC.Definitions.html#c"><span class="id" title="variable">c</span></a> <a class="idref" href="Top.SystemC.Definitions.html#8b2651044cf89693157aa065ea56f2b9"><span class="id" title="notation">|</span></a> <a class="idref" href="Top.SystemC.Definitions.html#Q"><span class="id" title="variable">Q</span></a> <a class="idref" href="Top.SystemC.Definitions.html#8b2651044cf89693157aa065ea56f2b9"><span class="id" title="notation">〉</span></a><br/> <br/> <span class="id" title="keyword">where</span> <a name="e92f2993feae095c395ce5261340adfe"><span class="id" title="notation">&quot;</span></a>st1 --&gt; st2" := (<a class="idref" href="Top.SystemC.Definitions.html#step"><span class="id" title="inductive">step</span></a> <span class="id" title="var">st1</span> <span class="id" title="var">st2</span>).<br/> <br/> </div> <div class="doc"> <a name="lab155"></a> <h3 class="section"> <a name="machine-typing"></a> Abstract Machine Typing </h3> A machine state is simply by composing the previously defined typing judgements. <div class="paragraph"> </div> For <span class="inlinecode"><span class="id" title="var">typ_state</span></span>, a the statement has to have the same type <span class="inlinecode"><a class="idref" href="Top.SystemC.Definitions.html#T"><span class="id" title="variable">T</span></a></span> that is expected by the context. </div> <div class="code"> <br/> <span class="id" title="keyword">Inductive</span> <a name="typing_state"><span class="id" title="inductive">typing_state</span></a> : <a class="idref" href="Top.SystemC.Definitions.html#state"><span class="id" title="inductive">state</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">→</span></a> <span class="id" title="keyword">Prop</span> :=<br/> &nbsp;&nbsp;| <a name="typ_step"><span class="id" title="constructor">typ_step</span></a> : <span class="id" title="keyword">∀</span> <span class="id" title="var">R</span> <span class="id" title="var">Q</span> <span class="id" title="var">s</span> <span class="id" title="var">c</span> <span class="id" title="var">T</span>,<br/> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Top.SystemC.Definitions.html#R"><span class="id" title="variable">R</span></a> <a class="idref" href="Top.SystemC.Definitions.html#712461db59c1a2fde93b7e2402fdb584"><span class="id" title="notation">;</span></a> <a class="idref" href="Top.SystemC.Definitions.html#Q"><span class="id" title="variable">Q</span></a> <a class="idref" href="Top.SystemC.Definitions.html#712461db59c1a2fde93b7e2402fdb584"><span class="id" title="notation">|-</span></a><a class="idref" href="Top.SystemC.Definitions.html#712461db59c1a2fde93b7e2402fdb584"><span class="id" title="notation">ctx</span></a> <a class="idref" href="Top.SystemC.Definitions.html#c"><span class="id" title="variable">c</span></a> <a class="idref" href="Top.SystemC.Definitions.html#712461db59c1a2fde93b7e2402fdb584"><span class="id" title="notation">~:</span></a> <a class="idref" href="Top.SystemC.Definitions.html#T"><span class="id" title="variable">T</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">→</span></a><br/> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#nil"><span class="id" title="constructor">nil</span></a> <a class="idref" href="Top.SystemC.Definitions.html#9cede441202180a620a73f1df5e6bca6"><span class="id" title="notation">@</span></a> <a class="idref" href="Top.SystemC.Definitions.html#R"><span class="id" title="variable">R</span></a> <a class="idref" href="Top.SystemC.Definitions.html#9cede441202180a620a73f1df5e6bca6"><span class="id" title="notation">;</span></a> <a class="idref" href="Top.SystemC.Definitions.html#Q"><span class="id" title="variable">Q</span></a> <a class="idref" href="Top.SystemC.Definitions.html#9cede441202180a620a73f1df5e6bca6"><span class="id" title="notation">|-</span></a><a class="idref" href="Top.SystemC.Definitions.html#9cede441202180a620a73f1df5e6bca6"><span class="id" title="notation">stm</span></a> <a class="idref" href="Top.SystemC.Definitions.html#s"><span class="id" title="variable">s</span></a> <a class="idref" href="Top.SystemC.Definitions.html#9cede441202180a620a73f1df5e6bca6"><span class="id" title="notation">~:</span></a> <a class="idref" href="Top.SystemC.Definitions.html#T"><span class="id" title="variable">T</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">→</span></a><br/> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Top.SystemC.Definitions.html#typing_state"><span class="id" title="inductive">typing_state</span></a><a class="idref" href="Top.SystemC.Definitions.html#8b2651044cf89693157aa065ea56f2b9"><span class="id" title="notation">〈</span></a> <a class="idref" href="Top.SystemC.Definitions.html#s"><span class="id" title="variable">s</span></a> <a class="idref" href="Top.SystemC.Definitions.html#8b2651044cf89693157aa065ea56f2b9"><span class="id" title="notation">|</span></a> <a class="idref" href="Top.SystemC.Definitions.html#c"><span class="id" title="variable">c</span></a> <a class="idref" href="Top.SystemC.Definitions.html#8b2651044cf89693157aa065ea56f2b9"><span class="id" title="notation">|</span></a> <a class="idref" href="Top.SystemC.Definitions.html#Q"><span class="id" title="variable">Q</span></a> <a class="idref" href="Top.SystemC.Definitions.html#8b2651044cf89693157aa065ea56f2b9"><span class="id" title="notation">〉</span></a><br/> <br/> </div> <div class="doc"> For <span class="inlinecode"><a class="idref" href="Top.SystemC.Definitions.html#typ_wind"><span class="id" title="constructor">typ_wind</span></a></span> the signature bound at label <span class="inlinecode"><a class="idref" href="Top.SystemC.CaptureSets.html#Props.l"><span class="id" title="variable">l</span></a></span> has to be <span class="inlinecode"><a class="idref" href="Top.SystemC.Definitions.html#T3"><span class="id" title="variable">T3</span></a></span> <span class="inlinecode">→</span> <span class="inlinecode"><a class="idref" href="Top.SystemC.Definitions.html#T1"><span class="id" title="variable">T1</span></a></span>, the value has to have the expected type <span class="inlinecode"><a class="idref" href="Top.SystemC.Definitions.html#T3"><span class="id" title="variable">T3</span></a></span>, and the types of the continuation and stack have to align at <span class="inlinecode"><a class="idref" href="Top.SystemC.Definitions.html#T2"><span class="id" title="variable">T2</span></a></span>. </div> <div class="code"> &nbsp;&nbsp;| <a name="typ_wind"><span class="id" title="constructor">typ_wind</span></a> : <span class="id" title="keyword">∀</span> <span class="id" title="var">R</span> <span class="id" title="var">Q</span> <span class="id" title="var">l</span> <span class="id" title="var">v</span> <span class="id" title="var">c</span> <span class="id" title="var">k</span> <span class="id" title="var">T1</span> <span class="id" title="var">T2</span> <span class="id" title="var">T3</span>,<br/> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Top.SystemC.CaptureSets.html#cset_references_lvar"><span class="id" title="definition">cset_references_lvar</span></a> <a class="idref" href="Top.SystemC.Definitions.html#l"><span class="id" title="variable">l</span></a> <a class="idref" href="Top.SystemC.Definitions.html#R"><span class="id" title="variable">R</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">→</span></a><br/> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Top.Util.Signatures.html#Signatures.binds"><span class="id" title="definition">Signatures.binds</span></a> <a class="idref" href="Top.SystemC.Definitions.html#l"><span class="id" title="variable">l</span></a> (<a class="idref" href="Top.SystemC.Definitions.html#bind_sig"><span class="id" title="constructor">bind_sig</span></a> <a class="idref" href="Top.SystemC.Definitions.html#T3"><span class="id" title="variable">T3</span></a> <a class="idref" href="Top.SystemC.Definitions.html#T1"><span class="id" title="variable">T1</span></a>) <a class="idref" href="Top.SystemC.Definitions.html#Q"><span class="id" title="variable">Q</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">→</span></a><br/> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Top.SystemC.Definitions.html#R"><span class="id" title="variable">R</span></a> <a class="idref" href="Top.SystemC.Definitions.html#712461db59c1a2fde93b7e2402fdb584"><span class="id" title="notation">;</span></a> <a class="idref" href="Top.SystemC.Definitions.html#Q"><span class="id" title="variable">Q</span></a> <a class="idref" href="Top.SystemC.Definitions.html#712461db59c1a2fde93b7e2402fdb584"><span class="id" title="notation">|-</span></a><a class="idref" href="Top.SystemC.Definitions.html#712461db59c1a2fde93b7e2402fdb584"><span class="id" title="notation">ctx</span></a> <a class="idref" href="Top.SystemC.Definitions.html#c"><span class="id" title="variable">c</span></a> <a class="idref" href="Top.SystemC.Definitions.html#712461db59c1a2fde93b7e2402fdb584"><span class="id" title="notation">~:</span></a> <a class="idref" href="Top.SystemC.Definitions.html#T2"><span class="id" title="variable">T2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">→</span></a><br/> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Top.SystemC.Definitions.html#R"><span class="id" title="variable">R</span></a> <a class="idref" href="Top.SystemC.Definitions.html#cfcebecbc313d9166481b657dbddaafc"><span class="id" title="notation">;</span></a> <a class="idref" href="Top.SystemC.Definitions.html#Q"><span class="id" title="variable">Q</span></a> <a class="idref" href="Top.SystemC.Definitions.html#cfcebecbc313d9166481b657dbddaafc"><span class="id" title="notation">|-</span></a><a class="idref" href="Top.SystemC.Definitions.html#cfcebecbc313d9166481b657dbddaafc"><span class="id" title="notation">cnt</span></a> <a class="idref" href="Top.SystemC.Definitions.html#k"><span class="id" title="variable">k</span></a> <a class="idref" href="Top.SystemC.Definitions.html#cfcebecbc313d9166481b657dbddaafc"><span class="id" title="notation">~:</span></a> <a class="idref" href="Top.SystemC.Definitions.html#T1"><span class="id" title="variable">T1</span></a> <a class="idref" href="Top.SystemC.Definitions.html#cfcebecbc313d9166481b657dbddaafc"><span class="id" title="notation">~&gt;</span></a> <a class="idref" href="Top.SystemC.Definitions.html#T2"><span class="id" title="variable">T2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">→</span></a><br/> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#nil"><span class="id" title="constructor">nil</span></a> <a class="idref" href="Top.SystemC.Definitions.html#c70dfda9b7aff80af236bdc97244f86b"><span class="id" title="notation">;</span></a> <a class="idref" href="Top.SystemC.Definitions.html#Q"><span class="id" title="variable">Q</span></a> <a class="idref" href="Top.SystemC.Definitions.html#c70dfda9b7aff80af236bdc97244f86b"><span class="id" title="notation">|-</span></a><a class="idref" href="Top.SystemC.Definitions.html#c70dfda9b7aff80af236bdc97244f86b"><span class="id" title="notation">exp</span></a> <a class="idref" href="Top.SystemC.Definitions.html#v"><span class="id" title="variable">v</span></a> <a class="idref" href="Top.SystemC.Definitions.html#c70dfda9b7aff80af236bdc97244f86b"><span class="id" title="notation">~:</span></a> <a class="idref" href="Top.SystemC.Definitions.html#T3"><span class="id" title="variable">T3</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">→</span></a><br/> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Top.SystemC.Definitions.html#typing_state"><span class="id" title="inductive">typing_state</span></a><a class="idref" href="Top.SystemC.Definitions.html#451cabffa5606fdf421b1d78bf6b4957"><span class="id" title="notation">〈</span></a><a class="idref" href="Top.SystemC.Definitions.html#451cabffa5606fdf421b1d78bf6b4957"><span class="id" title="notation">throw</span></a> <a class="idref" href="Top.SystemC.Definitions.html#l"><span class="id" title="variable">l</span></a> <a class="idref" href="Top.SystemC.Definitions.html#451cabffa5606fdf421b1d78bf6b4957"><span class="id" title="notation">#</span></a> <a class="idref" href="Top.SystemC.Definitions.html#v"><span class="id" title="variable">v</span></a> <a class="idref" href="Top.SystemC.Definitions.html#451cabffa5606fdf421b1d78bf6b4957"><span class="id" title="notation">|</span></a> <a class="idref" href="Top.SystemC.Definitions.html#c"><span class="id" title="variable">c</span></a> <a class="idref" href="Top.SystemC.Definitions.html#451cabffa5606fdf421b1d78bf6b4957"><span class="id" title="notation">•</span></a> <a class="idref" href="Top.SystemC.Definitions.html#k"><span class="id" title="variable">k</span></a> <a class="idref" href="Top.SystemC.Definitions.html#451cabffa5606fdf421b1d78bf6b4957"><span class="id" title="notation">|</span></a> <a class="idref" href="Top.SystemC.Definitions.html#Q"><span class="id" title="variable">Q</span></a> <a class="idref" href="Top.SystemC.Definitions.html#451cabffa5606fdf421b1d78bf6b4957"><span class="id" title="notation">〉</span></a><br/> .<br/> <br/> <br/> </div> </article> <div id="toggle-proofs"></div> <script type="text/javascript" src="config.js"></script> <script type="text/javascript" src="coqdocjs.js"></script> </div> </div> </div> <script src="/oopsla-2022-artifact/highlight/highlight.pack.js"></script> <script src="/oopsla-2022-artifact/dist/app.bundle.js"></script> </body> </html>
